<!DOCTYPE html>
<html><head><meta charset=utf-8><title>ntpdc(8)</title><keywords content=man,ntpdc></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>ntpdc(8)</h1><table class=head><tr><td class=head-ltitle>NTPDC(8)</td><td class=head-vol>FreeBSD System Manager's Manual (user)</td><td class=head-rtitle>NTPDC(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>ntpdc</code> — <div class=Nd>vendor-specific NTPD control program</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>ntpdc</code></td><td>[<code class=Fl>-flags</code>] [<code class=Fl>-flag</code> [<var class=Ar>value</var>]] [<code class=Fl>--option-name</code>[[=| ]<var class=Ar>value</var>]] [ host ...]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><code class=Nm>ntpdc</code> is deprecated. Please use <a class=Xr href=ntpq.8.html>ntpq(8)</a> instead - it can do everything <code class=Nm>ntpdc</code> used to do, and it does so using a much more sane interface. <p class=Pp><code class=Nm>ntpdc</code> is a utility program used to query <a class=Xr href=ntpd.8.html>ntpd(8)</a> about its current state and to request changes in that state. It uses NTP mode 7 control message formats described in the source code. The program may be run either in interactive mode or controlled using command line arguments. Extensive state and statistics information is available through the <code class=Nm>ntpdc</code> interface. In addition, nearly all the configuration options which can be specified at startup using ntpd's configuration file may also be specified at run time using <code class=Nm>ntpdc</code>.</p></section><section class=Sh><h2 class=Sh id=OPTIONS><a class=permalink href=#OPTIONS>OPTIONS</a></h2><dl class=Bl-tag><dt><a class=permalink href=#4><code class=Fl id=4>-4</code></a>, <code class=Fl>--ipv4</code></dt><dd>Force IPv4 DNS name resolution. This option must not appear in combination with any of the following options: ipv6. <p class=Pp>Force DNS resolution of following host names on the command line to the IPv4 namespace.</p></dd><dt><a class=permalink href=#6><code class=Fl id=6>-6</code></a>, <code class=Fl>--ipv6</code></dt><dd>Force IPv6 DNS name resolution. This option must not appear in combination with any of the following options: ipv4. <p class=Pp>Force DNS resolution of following host names on the command line to the IPv6 namespace.</p></dd><dt><a class=permalink href=#c><code class=Fl id=c>-c</code></a><var class=Ar>cmd</var>, <code class=Fl>--command</code>=<var class=Ar>cmd</var></dt><dd>run a command and exit. This option may appear an unlimited number of times. <p class=Pp>The following argument is interpreted as an interactive format command and is added to the list of commands to be executed on the specified host(s).</p></dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a>, <code class=Fl>--debug-level</code></dt><dd>Increase debug verbosity level. This option may appear an unlimited number of times. <p class=Pp></p></dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a><var class=Ar>number</var>, <code class=Fl>--set-debug-level</code>=<var class=Ar>number</var></dt><dd>Set the debug verbosity level. This option may appear an unlimited number of times. This option takes an integer number as its argument. <p class=Pp></p></dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a>, <code class=Fl>--interactive</code></dt><dd>Force ntpq to operate in interactive mode. This option must not appear in combination with any of the following options: command, listpeers, peers, showpeers. <p class=Pp>Force ntpq to operate in interactive mode. Prompts will be written to the standard output and commands read from the standard input.</p></dd><dt><a class=permalink href=#l><code class=Fl id=l>-l</code></a>, <code class=Fl>--listpeers</code></dt><dd>Print a list of the peers. This option must not appear in combination with any of the following options: command. <p class=Pp>Print a list of the peers known to the server as well as a summary of their state. This is equivalent to the 'listpeers' interactive command.</p></dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a>, <code class=Fl>--numeric</code></dt><dd>numeric host addresses. <p class=Pp>Output all host addresses in dotted-quad numeric format rather than converting to the canonical host names.</p></dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a>, <code class=Fl>--peers</code></dt><dd>Print a list of the peers. This option must not appear in combination with any of the following options: command. <p class=Pp>Print a list of the peers known to the server as well as a summary of their state. This is equivalent to the 'peers' interactive command.</p></dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a>, <code class=Fl>--showpeers</code></dt><dd>Show a list of the peers. This option must not appear in combination with any of the following options: command. <p class=Pp>Print a list of the peers known to the server as well as a summary of their state. This is equivalent to the 'dmpeers' interactive command.</p></dd><dt><a class=permalink href=#?><code class=Fl id=?>-?</code></a>, <code class=Fl>--help</code></dt><dd>Display usage information and exit.</dd><dt><a class=permalink href=#!><code class=Fl id=!>-!</code></a>, <code class=Fl>--more-help</code></dt><dd>Pass the extended usage information through a pager.</dd><dt><a class=permalink href=#_><code class=Fl id=_>-&gt;</code></a> [<var class=Ar>cfgfile</var>], <code class=Fl>--save-opts</code> [=<var class=Ar>cfgfile</var>]</dt><dd>Save the option state to <i>cfgfile</i>. The default is the <i>last</i> configuration file listed in the <b>OPTION PRESETS</b> section, below. The command will exit after updating the config file.</dd><dt><a class=permalink href=#__2><code class=Fl id=__2>-&lt;</code></a><var class=Ar>cfgfile</var>, <code class=Fl>--load-opts</code>=<var class=Ar>cfgfile</var>, <code class=Fl>--no-load-opts</code></dt><dd>Load options from <i>cfgfile</i>. The <i>no-load-opts</i> form will disable the loading of earlier config/rc/ini files. <i>--no-load-opts</i> is handled early, out of order.</dd><dt><a class=permalink href=#_-version><code class=Fl id=_-version>--version</code></a> [{<var class=Ar>v|c|n</var>}]</dt><dd>Output version of program and exit. The default mode is `v', a simple version. The `c' mode will print copyright information and `n' will print the full copyright notice.</dd></dl></section><section class=Sh><h2 class=Sh id=OPTION_PRESETS><a class=permalink href=#OPTION_PRESETS>OPTION PRESETS</a></h2> Any option that is not marked as <i>not presettable</i> may be preset by loading values from configuration ("RC" or ".INI") file(s) and values from environment variables named: <pre>
  <b>NTPDC_&lt;option-name&gt;</b> or <b>NTPDC</b>
</pre> The environmental presets take precedence (are processed later than) the configuration files. The <i>homerc</i> files are "<i>$HOME</i>", and "<i>.</i>". If any of these are directories, then the file <i>.ntprc</i> is searched for within those directories. </section><section class=Sh><h2 class=Sh id=USAGE><a class=permalink href=#USAGE>USAGE</a></h2> If one or more request options are included on the command line when <code class=Nm>ntpdc</code> is executed, each of the requests will be sent to the NTP servers running on each of the hosts given as command line arguments, or on localhost by default. If no request options are given, <code class=Nm>ntpdc</code> will attempt to read commands from the standard input and execute these on the NTP server running on the first host given on the command line, again defaulting to localhost when no other host is specified. The <code class=Nm>ntpdc</code> utility will prompt for commands if the standard input is a terminal device. <p class=Pp>The <code class=Nm>ntpdc</code> utility uses NTP mode 7 packets to communicate with the NTP server, and hence can be used to query any compatible server on the network which permits it. Note that since NTP is a UDP protocol this communication will be somewhat unreliable, especially over large distances in terms of network topology. The <code class=Nm>ntpdc</code> utility makes no attempt to retransmit requests, and will time requests out if the remote host is not heard from within a suitable timeout time.</p><p class=Pp>The operation of <code class=Nm>ntpdc</code> are specific to the particular implementation of the <a class=Xr href=ntpd.8.html>ntpd(8)</a> daemon and can be expected to work only with this and maybe some previous versions of the daemon. Requests from a remote <code class=Nm>ntpdc</code> utility which affect the state of the local server must be authenticated, which requires both the remote program and local server share a common key and key identifier.</p><p class=Pp>Note that in contexts where a host name is expected, a <code class=Fl>-4</code> qualifier preceding the host name forces DNS resolution to the IPv4 namespace, while a <code class=Fl>-6</code> qualifier forces DNS resolution to the IPv6 namespace. Specifying a command line option other than <code class=Fl>-i</code> or <code class=Fl>-n</code> will cause the specified query (queries) to be sent to the indicated host(s) immediately. Otherwise, <code class=Nm>ntpdc</code> will attempt to read interactive format commands from the standard input.</p><section class=Ss><h2 class=Ss id=Interactive_Commands><a class=permalink href=#Interactive_Commands>Interactive Commands</a></h2> Interactive format commands consist of a keyword followed by zero to four arguments. Only enough characters of the full keyword to uniquely identify the command need be typed. The output of a command is normally sent to the standard output, but optionally the output of individual commands may be sent to a file by appending a ‘<code class=Li>&gt;</code>’, followed by a file name, to the command line. <p class=Pp>A number of interactive format commands are executed entirely within the <code class=Nm>ntpdc</code> utility itself and do not result in NTP mode 7 requests being sent to a server. These are described following.</p><dl class=Bl-tag><dt><a class=permalink href=#?_2><code class=Ic id=?_2>?</code></a><var class=Ar>command_keyword</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#help><code class=Ic id=help>help</code></a><var class=Ar>command_keyword</var></dt><dd>A ‘<code class=Ic>?</code>’ will print a list of all the command keywords known to this incarnation of <code class=Nm>ntpdc</code>. A ‘<code class=Ic>?</code>’ followed by a command keyword will print function and usage information about the command. This command is probably a better source of information about <a class=Xr href=ntpq.8.html>ntpq(8)</a> than this manual page.</dd><dt><a class=permalink href=#delay><code class=Ic id=delay>delay</code></a><var class=Ar>milliseconds</var></dt><dd>Specify a time interval to be added to timestamps included in requests which require authentication. This is used to enable (unreliable) server reconfiguration over long delay network paths or between machines whose clocks are unsynchronized. Actually the server does not now require timestamps in authenticated requests, so this command may be obsolete.</dd><dt><a class=permalink href=#host><code class=Ic id=host>host</code></a><var class=Ar>hostname</var></dt><dd>Set the host to which future queries will be sent. Hostname may be either a host name or a numeric address.</dd><dt><a class=permalink href=#hostnames><code class=Ic id=hostnames>hostnames</code></a> [<code class=Cm>yes</code> | <code class=Cm>no</code>]</dt><dd>If <code class=Cm>yes</code> is specified, host names are printed in information displays. If <code class=Cm>no</code> is specified, numeric addresses are printed instead. The default is <code class=Cm>yes</code>, unless modified using the command line <code class=Fl>-n</code> switch.</dd><dt><a class=permalink href=#keyid><code class=Ic id=keyid>keyid</code></a><var class=Ar>keyid</var></dt><dd>This command allows the specification of a key number to be used to authenticate configuration requests. This must correspond to a key number the server has been configured to use for this purpose.</dd><dt><a class=permalink href=#quit><code class=Ic id=quit>quit</code></a></dt><dd>Exit <code class=Nm>ntpdc</code>.</dd><dt><a class=permalink href=#passwd><code class=Ic id=passwd>passwd</code></a></dt><dd>This command prompts you to type in a password (which will not be echoed) which will be used to authenticate configuration requests. The password must correspond to the key configured for use by the NTP server for this purpose if such requests are to be successful.</dd><dt><a class=permalink href=#timeout><code class=Ic id=timeout>timeout</code></a><var class=Ar>milliseconds</var></dt><dd>Specify a timeout period for responses to server queries. The default is about 8000 milliseconds. Note that since <code class=Nm>ntpdc</code> retries each query once after a timeout, the total waiting time for a timeout will be twice the timeout value set.</dd></dl></section><section class=Ss><h2 class=Ss id=Control_Message_Commands><a class=permalink href=#Control_Message_Commands>Control Message Commands</a></h2> Query commands result in NTP mode 7 packets containing requests for information being sent to the server. These are read-only commands in that they make no modification of the server configuration state. <dl class=Bl-tag><dt><a class=permalink href=#listpeers><code class=Ic id=listpeers>listpeers</code></a></dt><dd>Obtains and prints a brief list of the peers for which the server is maintaining state. These should include all configured peer associations as well as those peers whose stratum is such that they are considered by the server to be possible future synchronization candidates.</dd><dt><a class=permalink href=#peers><code class=Ic id=peers>peers</code></a></dt><dd>Obtains a list of peers for which the server is maintaining state, along with a summary of that state. Summary information includes the address of the remote peer, the local interface address (0.0.0.0 if a local address has yet to be determined), the stratum of the remote peer (a stratum of 16 indicates the remote peer is unsynchronized), the polling interval, in seconds, the reachability register, in octal, and the current estimated delay, offset and dispersion of the peer, all in seconds. <p class=Pp>The character in the left margin indicates the mode this peer entry is operating in. A ‘<code class=Li>+</code>’ denotes symmetric active, a ‘<code class=Li>-</code>’ indicates symmetric passive, a ‘<code class=Li>=</code>’ means the remote server is being polled in client mode, a ‘<code class=Li>^</code>’ indicates that the server is broadcasting to this address, a ‘<code class=Li>~</code>’ denotes that the remote peer is sending broadcasts and a ‘<code class=Li>~</code>’ denotes that the remote peer is sending broadcasts and a ‘<code class=Li>*</code>’ marks the peer the server is currently synchronizing to.</p><p class=Pp>The contents of the host field may be one of four forms. It may be a host name, an IP address, a reference clock implementation name with its parameter or <code class=Fn>REFCLK</code>(<var class=Fa>implementation_number</var>, <var class=Fa>parameter</var>). On <code class=Ic>hostnames</code><code class=Cm>no</code> only IP-addresses will be displayed.</p></dd><dt><a class=permalink href=#dmpeers><code class=Ic id=dmpeers>dmpeers</code></a></dt><dd>A slightly different peer summary list. Identical to the output of the <code class=Ic>peers</code> command, except for the character in the leftmost column. Characters only appear beside peers which were included in the final stage of the clock selection algorithm. A ‘<code class=Li>.</code>’ indicates that this peer was cast off in the falseticker detection, while a ‘<code class=Li>+</code>’ indicates that the peer made it through. A ‘<code class=Li>*</code>’ denotes the peer the server is currently synchronizing with.</dd><dt><a class=permalink href=#showpeer><code class=Ic id=showpeer>showpeer</code></a><var class=Ar>peer_address</var> [<var class=Ar>...</var>]</dt><dd>Shows a detailed display of the current peer variables for one or more peers. Most of these values are described in the NTP Version 2 specification.</dd><dt><a class=permalink href=#pstats><code class=Ic id=pstats>pstats</code></a><var class=Ar>peer_address</var> [<var class=Ar>...</var>]</dt><dd>Show per-peer statistic counters associated with the specified peer(s).</dd><dt><a class=permalink href=#clockstat><code class=Ic id=clockstat>clockstat</code></a><var class=Ar>clock_peer_address</var> [<var class=Ar>...</var>]</dt><dd>Obtain and print information concerning a peer clock. The values obtained provide information on the setting of fudge factors and other clock performance information.</dd><dt><a class=permalink href=#kerninfo><code class=Ic id=kerninfo>kerninfo</code></a></dt><dd>Obtain and print kernel phase-lock loop operating parameters. This information is available only if the kernel has been specially modified for a precision timekeeping function.</dd><dt><a class=permalink href=#loopinfo><code class=Ic id=loopinfo>loopinfo</code></a> [<code class=Cm>oneline</code> | <code class=Cm>multiline</code>]</dt><dd>Print the values of selected loop filter variables. The loop filter is the part of NTP which deals with adjusting the local system clock. The ‘offset’ is the last offset given to the loop filter by the packet processing code. The ‘frequency’ is the frequency error of the local clock in parts-per-million (ppm). The ‘time_const’ controls the stiffness of the phase-lock loop and thus the speed at which it can adapt to oscillator drift. The ‘watchdog timer’ value is the number of seconds which have elapsed since the last sample offset was given to the loop filter. The <code class=Cm>oneline</code> and <code class=Cm>multiline</code> options specify the format in which this information is to be printed, with <code class=Cm>multiline</code> as the default.</dd><dt><a class=permalink href=#sysinfo><code class=Ic id=sysinfo>sysinfo</code></a></dt><dd>Print a variety of system state variables, i.e., state related to the local server. All except the last four lines are described in the NTP Version 3 specification, RFC-1305. <p class=Pp>The ‘system flags’ show various system flags, some of which can be set and cleared by the <code class=Ic>enable</code> and <code class=Ic>disable</code> configuration commands, respectively. These are the <code class=Cm>auth</code>, <code class=Cm>bclient</code>, <code class=Cm>monitor</code>, <code class=Cm>pll</code>, <code class=Cm>pps</code> and <code class=Cm>stats</code> flags. See the <a class=Xr href=ntpd.8.html>ntpd(8)</a> documentation for the meaning of these flags. There are two additional flags which are read only, the <code class=Cm>kernel_pll</code> and <code class=Cm>kernel_pps</code>. These flags indicate the synchronization status when the precision time kernel modifications are in use. The ‘kernel_pll’ indicates that the local clock is being disciplined by the kernel, while the ‘kernel_pps’ indicates the kernel discipline is provided by the PPS signal.</p><p class=Pp>The ‘stability’ is the residual frequency error remaining after the system frequency correction is applied and is intended for maintenance and debugging. In most architectures, this value will initially decrease from as high as 500 ppm to a nominal value in the range .01 to 0.1 ppm. If it remains high for some time after starting the daemon, something may be wrong with the local clock, or the value of the kernel variable <var class=Va>kern.clockrate.tick</var> may be incorrect.</p><p class=Pp>The ‘broadcastdelay’ shows the default broadcast delay, as set by the <code class=Ic>broadcastdelay</code> configuration command.</p><p class=Pp>The ‘authdelay’ shows the default authentication delay, as set by the <code class=Ic>authdelay</code> configuration command.</p></dd><dt><a class=permalink href=#sysstats><code class=Ic id=sysstats>sysstats</code></a></dt><dd>Print statistics counters maintained in the protocol module.</dd><dt><a class=permalink href=#memstats><code class=Ic id=memstats>memstats</code></a></dt><dd>Print statistics counters related to memory allocation code.</dd><dt><a class=permalink href=#iostats><code class=Ic id=iostats>iostats</code></a></dt><dd>Print statistics counters maintained in the input-output module.</dd><dt><a class=permalink href=#timerstats><code class=Ic id=timerstats>timerstats</code></a></dt><dd>Print statistics counters maintained in the timer/event queue support code.</dd><dt><a class=permalink href=#reslist><code class=Ic id=reslist>reslist</code></a></dt><dd>Obtain and print the server's restriction list. This list is (usually) printed in sorted order and may help to understand how the restrictions are applied.</dd><dt><a class=permalink href=#monlist><code class=Ic id=monlist>monlist</code></a> [<var class=Ar>version</var>]</dt><dd>Obtain and print traffic counts collected and maintained by the monitor facility. The version number should not normally need to be specified.</dd><dt><a class=permalink href=#clkbug><code class=Ic id=clkbug>clkbug</code></a><var class=Ar>clock_peer_address</var> [<var class=Ar>...</var>]</dt><dd>Obtain debugging information for a reference clock driver. This information is provided only by some clock drivers and is mostly undecodable without a copy of the driver source in hand.</dd></dl></section><section class=Ss><h2 class=Ss id=Runtime_Configuration_Requests><a class=permalink href=#Runtime_Configuration_Requests>Runtime Configuration Requests</a></h2> All requests which cause state changes in the server are authenticated by the server using a configured NTP key (the facility can also be disabled by the server by not configuring a key). The key number and the corresponding key must also be made known to <code class=Nm>ntpdc</code>. This can be done using the <code class=Ic>keyid</code> and <code class=Ic>passwd</code> commands, the latter of which will prompt at the terminal for a password to use as the encryption key. You will also be prompted automatically for both the key number and password the first time a command which would result in an authenticated request to the server is given. Authentication not only provides verification that the requester has permission to make such changes, but also gives an extra degree of protection again transmission errors. <p class=Pp>Authenticated requests always include a timestamp in the packet data, which is included in the computation of the authentication code. This timestamp is compared by the server to its receive time stamp. If they differ by more than a small amount the request is rejected. This is done for two reasons. First, it makes simple replay attacks on the server, by someone who might be able to overhear traffic on your LAN, much more difficult. Second, it makes it more difficult to request configuration changes to your server from topologically remote hosts. While the reconfiguration facility will work well with a server on the local host, and may work adequately between time-synchronized hosts on the same LAN, it will work very poorly for more distant hosts. As such, if reasonable passwords are chosen, care is taken in the distribution and protection of keys and appropriate source address restrictions are applied, the run time reconfiguration facility should provide an adequate level of security.</p><p class=Pp>The following commands all make authenticated requests.</p><dl class=Bl-tag><dt><a class=permalink href=#addpeer><code class=Ic id=addpeer>addpeer</code></a><var class=Ar>peer_address</var> [<var class=Ar>keyid</var>] [<var class=Ar>version</var>] [<code class=Cm>prefer</code>]</dt><dd>Add a configured peer association at the given address and operating in symmetric active mode. Note that an existing association with the same peer may be deleted when this command is executed, or may simply be converted to conform to the new configuration, as appropriate. If the optional <var class=Ar>keyid</var> is a nonzero integer, all outgoing packets to the remote server will have an authentication field attached encrypted with this key. If the value is 0 (or not given) no authentication will be done. The <var class=Ar>version</var> can be 1, 2 or 3 and defaults to 3. The <code class=Cm>prefer</code> keyword indicates a preferred peer (and thus will be used primarily for clock synchronisation if possible). The preferred peer also determines the validity of the PPS signal - if the preferred peer is suitable for synchronisation so is the PPS signal.</dd><dt><a class=permalink href=#addserver><code class=Ic id=addserver>addserver</code></a><var class=Ar>peer_address</var> [<var class=Ar>keyid</var>] [<var class=Ar>version</var>] [<code class=Cm>prefer</code>]</dt><dd>Identical to the addpeer command, except that the operating mode is client.</dd><dt><a class=permalink href=#broadcast><code class=Ic id=broadcast>broadcast</code></a><var class=Ar>peer_address</var> [<var class=Ar>keyid</var>] [<var class=Ar>version</var>] [<code class=Cm>prefer</code>]</dt><dd>Identical to the addpeer command, except that the operating mode is broadcast. In this case a valid key identifier and key are required. The <var class=Ar>peer_address</var> parameter can be the broadcast address of the local network or a multicast group address assigned to NTP. If a multicast address, a multicast-capable kernel is required.</dd><dt><a class=permalink href=#unconfig><code class=Ic id=unconfig>unconfig</code></a><var class=Ar>peer_address</var> [<var class=Ar>...</var>]</dt><dd>This command causes the configured bit to be removed from the specified peer(s). In many cases this will cause the peer association to be deleted. When appropriate, however, the association may persist in an unconfigured mode if the remote peer is willing to continue on in this fashion.</dd><dt><a class=permalink href=#fudge><code class=Ic id=fudge>fudge</code></a><var class=Ar>peer_address</var> [<code class=Cm>time1</code>] [<code class=Cm>time2</code>] [<var class=Ar>stratum</var>] [<var class=Ar>refid</var>]</dt><dd>This command provides a way to set certain data for a reference clock. See the source listing for further information.</dd><dt><a class=permalink href=#enable><code class=Ic id=enable>enable</code></a> [<code class=Cm>auth</code> | <code class=Cm>bclient</code> | <code class=Cm>calibrate</code> | <code class=Cm>kernel</code> | <code class=Cm>monitor</code> | <code class=Cm>ntp</code> | <code class=Cm>pps</code> | <code class=Cm>stats</code>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#disable><code class=Ic id=disable>disable</code></a> [<code class=Cm>auth</code> | <code class=Cm>bclient</code> | <code class=Cm>calibrate</code> | <code class=Cm>kernel</code> | <code class=Cm>monitor</code> | <code class=Cm>ntp</code> | <code class=Cm>pps</code> | <code class=Cm>stats</code>]</dt><dd>These commands operate in the same way as the <code class=Ic>enable</code> and <code class=Ic>disable</code> configuration file commands of <a class=Xr href=ntpd.8.html>ntpd(8)</a>. <dl class=Bl-tag><dt><a class=permalink href=#auth><code class=Cm id=auth>auth</code></a></dt><dd>Enables the server to synchronize with unconfigured peers only if the peer has been correctly authenticated using either public key or private key cryptography. The default for this flag is enable.</dd><dt><a class=permalink href=#bclient><code class=Cm id=bclient>bclient</code></a></dt><dd>Enables the server to listen for a message from a broadcast or multicast server, as in the multicastclient command with default address. The default for this flag is disable.</dd><dt><a class=permalink href=#calibrate><code class=Cm id=calibrate>calibrate</code></a></dt><dd>Enables the calibrate feature for reference clocks. The default for this flag is disable.</dd><dt><a class=permalink href=#kernel><code class=Cm id=kernel>kernel</code></a></dt><dd>Enables the kernel time discipline, if available. The default for this flag is enable if support is available, otherwise disable.</dd><dt><a class=permalink href=#monitor><code class=Cm id=monitor>monitor</code></a></dt><dd>Enables the monitoring facility. See the documentation here about the <code class=Cm>monlist</code> command or further information. The default for this flag is enable.</dd><dt><a class=permalink href=#ntp><code class=Cm id=ntp>ntp</code></a></dt><dd>Enables time and frequency discipline. In effect, this switch opens and closes the feedback loop, which is useful for testing. The default for this flag is enable.</dd><dt><a class=permalink href=#pps><code class=Cm id=pps>pps</code></a></dt><dd>Enables the pulse-per-second (PPS) signal when frequency and time is disciplined by the precision time kernel modifications. See the “A Kernel Model for Precision Timekeeping” (available as part of the HTML documentation provided in <span class=Pa>/usr/share/doc/ntp</span>) page for further information. The default for this flag is disable.</dd><dt><a class=permalink href=#stats><code class=Cm id=stats>stats</code></a></dt><dd>Enables the statistics facility. See the <a class=Sx href=#Monitoring_Options>Monitoring Options</a> section of <a class=Xr href=ntp.conf.5.html>ntp.conf(5)</a> for further information. The default for this flag is disable.</dd></dl></dd><dt><a class=permalink href=#restrict><code class=Ic id=restrict>restrict</code></a><var class=Ar>address</var><var class=Ar>mask</var><var class=Ar>flag</var> [<var class=Ar>...</var>]</dt><dd>This command operates in the same way as the <code class=Ic>restrict</code> configuration file commands of <a class=Xr href=ntpd.8.html>ntpd(8)</a>.</dd><dt><a class=permalink href=#unrestrict><code class=Ic id=unrestrict>unrestrict</code></a><var class=Ar>address</var><var class=Ar>mask</var><var class=Ar>flag</var> [<var class=Ar>...</var>]</dt><dd>Unrestrict the matching entry from the restrict list.</dd><dt><a class=permalink href=#delrestrict><code class=Ic id=delrestrict>delrestrict</code></a><var class=Ar>address</var><var class=Ar>mask</var> [<code class=Cm>ntpport</code>]</dt><dd>Delete the matching entry from the restrict list.</dd><dt><a class=permalink href=#readkeys><code class=Ic id=readkeys>readkeys</code></a></dt><dd>Causes the current set of authentication keys to be purged and a new set to be obtained by rereading the keys file (which must have been specified in the <a class=Xr href=ntpd.8.html>ntpd(8)</a> configuration file). This allows encryption keys to be changed without restarting the server.</dd><dt><a class=permalink href=#trustedkey><code class=Ic id=trustedkey>trustedkey</code></a><var class=Ar>keyid</var> [<var class=Ar>...</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#untrustedkey><code class=Ic id=untrustedkey>untrustedkey</code></a><var class=Ar>keyid</var> [<var class=Ar>...</var>]</dt><dd>These commands operate in the same way as the <code class=Ic>trustedkey</code> and <code class=Ic>untrustedkey</code> configuration file commands of <a class=Xr href=ntpd.8.html>ntpd(8)</a>.</dd><dt><a class=permalink href=#authinfo><code class=Ic id=authinfo>authinfo</code></a></dt><dd>Returns information concerning the authentication module, including known keys and counts of encryptions and decryptions which have been done.</dd><dt><a class=permalink href=#traps><code class=Ic id=traps>traps</code></a></dt><dd>Display the traps set in the server. See the source listing for further information.</dd><dt><a class=permalink href=#addtrap><code class=Ic id=addtrap>addtrap</code></a><var class=Ar>address</var> [<var class=Ar>port</var>] [<var class=Ar>interface</var>]</dt><dd>Set a trap for asynchronous messages. See the source listing for further information.</dd><dt><a class=permalink href=#clrtrap><code class=Ic id=clrtrap>clrtrap</code></a><var class=Ar>address</var> [<var class=Ar>port</var>] [<var class=Ar>interface</var>]</dt><dd>Clear a trap for asynchronous messages. See the source listing for further information.</dd><dt><a class=permalink href=#reset><code class=Ic id=reset>reset</code></a></dt><dd>Clear the statistics counters in various modules of the server. See the source listing for further information.</dd></dl></section></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2> See <b>OPTION PRESETS</b> for configuration environment variables. </section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2> See <b>OPTION PRESETS</b> for configuration files. </section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2> One of the following exit values will be returned: <dl class=Bl-tag><dt>0 (EXIT_SUCCESS)</dt><dd>Successful program execution.</dd><dt>1 (EXIT_FAILURE)</dt><dd>The operation failed or the command syntax was not valid.</dd><dt>66 (EX_NOINPUT)</dt><dd>A specified configuration file could not be loaded.</dd><dt>70 (EX_SOFTWARE)</dt><dd>libopts had an internal operational error. Please report it to autogen-users@lists.sourceforge.net. Thank you.</dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=ntp.conf.5.html>ntp.conf(5)</a>, <a class=Xr href=ntpd.8.html>ntpd(8)</a><p class=Pp><cite class=Rs><span class=RsA>David L. Mills</span>, <span class=RsT>Network Time Protocol (Version 3)</span>, <span class=RsO>RFC1305</span>.</cite></p></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The formatting directives in this document came from FreeBSD. </section><section class=Sh><h2 class=Sh id=COPYRIGHT><a class=permalink href=#COPYRIGHT>COPYRIGHT</a></h2> Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation all rights reserved. This program is released under the terms of the NTP license, &lt;http://ntp.org/license&gt;. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> The <code class=Nm>ntpdc</code> utility is a crude hack. Much of the information it shows is deadly boring and could only be loved by its implementer. The program was designed so that new (and temporary) features were easy to hack in, at great expense to the program's ease of use. Despite this, the program is occasionally useful. <p class=Pp>Please report bugs to http://bugs.ntp.org .</p><p class=Pp>Please send bug reports to: http://bugs.ntp.org, bugs@ntp.org</p></section><section class=Sh><h2 class=Sh id=NOTES><a class=permalink href=#NOTES>NOTES</a></h2> This manual page was <i>AutoGen</i>-erated from the <b>ntpdc</b> option definitions. </section></div><table class=foot><tr><td class=foot-date>August 14 2018</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>