<!DOCTYPE html>
<html><head><meta charset=utf-8><title>globfree(3)</title><keywords content=man,globfree></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>globfree(3)</h1><table class=head><tr><td class=head-ltitle>GLOB(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>GLOB(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>glob</code>, <code class=Nm>globfree</code> — <div class=Nd>generate pathnames matching a pattern</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2><span class=Lb>Standard C Library (libc, -lc)</span></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/glob.h.html>glob.h</a>&gt;</code><p class=Pp><var class=Ft>int</var><br><code class=Fn>glob</code>(<var class=Fa style="white-space: nowrap;">const char * restrict pattern</var>, <var class=Fa style="white-space: nowrap;">int flags</var>, <var class=Fa style="white-space: nowrap;">int (*errfunc)(const char *, int)</var>, <var class=Fa style="white-space: nowrap;">glob_t * restrict pglob</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>globfree</code>(<var class=Fa style="white-space: nowrap;">glob_t *pglob</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Fn>glob</code>() function is a pathname generator that implements the rules for file name pattern matching used by the shell. <p class=Pp>The include file <code class=In>&lt;<a class=In href=../src/glob.h.html>glob.h</a>&gt;</code> defines the structure type <var class=Fa>glob_t</var>, which contains at least the following fields:</p><div class="Bd Pp"><pre>
typedef struct {
	size_t gl_pathc;	/* count of total paths so far */
	size_t gl_matchc;	/* count of paths matching pattern */
	size_t gl_offs;		/* reserved at beginning of gl_pathv */
	int gl_flags;		/* returned flags */
	char **gl_pathv;	/* list of paths matching pattern */
} glob_t;
</pre></div><p class=Pp>The argument <var class=Fa>pattern</var> is a pointer to a pathname pattern to be expanded. The <code class=Fn>glob</code>() argument matches all accessible pathnames against the pattern and creates a list of the pathnames that match. In order to have access to a pathname, <code class=Fn>glob</code>() requires search permission on every component of a path except the last and read permission on each directory of any filename component of <var class=Fa>pattern</var> that contains any of the special characters ‘<code class=Li>*</code>’, ‘<code class=Li>?</code>’ or ‘<code class=Li>[</code>’.</p><p class=Pp>The <code class=Fn>glob</code>() argument stores the number of matched pathnames into the <var class=Fa>gl_pathc</var> field, and a pointer to a list of pointers to pathnames into the <var class=Fa>gl_pathv</var> field. The first pointer after the last pathname is <code class=Dv>NULL</code>. If the pattern does not match any pathnames, the returned number of matched paths is set to zero.</p><p class=Pp>It is the caller's responsibility to create the structure pointed to by <var class=Fa>pglob</var>. The <code class=Fn>glob</code>() function allocates other space as needed, including the memory pointed to by <var class=Fa>gl_pathv</var>.</p><p class=Pp>The argument <var class=Fa>flags</var> is used to modify the behavior of <code class=Fn>glob</code>(). The value of <var class=Fa>flags</var> is the bitwise inclusive OR of any of the following values defined in <code class=In>&lt;<a class=In href=../src/glob.h.html>glob.h</a>&gt;</code>:</p><dl class=Bl-tag><dt><a class=permalink href=#GLOB_APPEND><code class=Dv id=GLOB_APPEND>GLOB_APPEND</code></a></dt><dd>Append pathnames generated to the ones from a previous call (or calls) to <code class=Fn>glob</code>(). The value of <var class=Fa>gl_pathc</var> will be the total matches found by this call and the previous call(s). The pathnames are appended to, not merged with the pathnames returned by the previous call(s). Between calls, the caller must not change the setting of the <code class=Dv>GLOB_DOOFFS</code> flag, nor change the value of <var class=Fa>gl_offs</var> when <code class=Dv>GLOB_DOOFFS</code> is set, nor (obviously) call <code class=Fn>globfree</code>() for <var class=Fa>pglob</var>.</dd><dt><a class=permalink href=#GLOB_DOOFFS><code class=Dv id=GLOB_DOOFFS>GLOB_DOOFFS</code></a></dt><dd>Make use of the <var class=Fa>gl_offs</var> field. If this flag is set, <var class=Fa>gl_offs</var> is used to specify how many <code class=Dv>NULL</code> pointers to prepend to the beginning of the <var class=Fa>gl_pathv</var> field. In other words, <var class=Fa>gl_pathv</var> will point to <var class=Fa>gl_offs</var><code class=Dv>NULL</code> pointers, followed by <var class=Fa>gl_pathc</var> pathname pointers, followed by a <code class=Dv>NULL</code> pointer.</dd><dt><a class=permalink href=#GLOB_ERR><code class=Dv id=GLOB_ERR>GLOB_ERR</code></a></dt><dd>Causes <code class=Fn>glob</code>() to return when it encounters a directory that it cannot open or read. Ordinarily, <code class=Fn>glob</code>() continues to find matches.</dd><dt><a class=permalink href=#GLOB_MARK><code class=Dv id=GLOB_MARK>GLOB_MARK</code></a></dt><dd>Each pathname that is a directory that matches <var class=Fa>pattern</var> has a slash appended.</dd><dt><a class=permalink href=#GLOB_NOCHECK><code class=Dv id=GLOB_NOCHECK>GLOB_NOCHECK</code></a></dt><dd>If <var class=Fa>pattern</var> does not match any pathname, then <code class=Fn>glob</code>() returns a list consisting of only <var class=Fa>pattern</var>, with the number of total pathnames set to 1, and the number of matched pathnames set to 0. The effect of backslash escaping is present in the pattern returned.</dd><dt><a class=permalink href=#GLOB_NOESCAPE><code class=Dv id=GLOB_NOESCAPE>GLOB_NOESCAPE</code></a></dt><dd>By default, a backslash (‘<code class=Li>\</code>’) character is used to escape the following character in the pattern, avoiding any special interpretation of the character. If <code class=Dv>GLOB_NOESCAPE</code> is set, backslash escaping is disabled.</dd><dt><a class=permalink href=#GLOB_NOSORT><code class=Dv id=GLOB_NOSORT>GLOB_NOSORT</code></a></dt><dd>By default, the pathnames are sorted in ascending collation order; this flag prevents that sorting (speeding up <code class=Fn>glob</code>()).</dd></dl><p class=Pp>The following values may also be included in <var class=Fa>flags</var>, however, they are non-standard extensions to <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>.</p><dl class=Bl-tag><dt><a class=permalink href=#GLOB_ALTDIRFUNC><code class=Dv id=GLOB_ALTDIRFUNC>GLOB_ALTDIRFUNC</code></a></dt><dd>The following additional fields in the pglob structure have been initialized with alternate functions for glob to use to open, read, and close directories and to get stat information on names found in those directories. <div class="Bd Pp"><pre>
void *(*gl_opendir)(const char * name);
struct dirent *(*gl_readdir)(void *);
void (*gl_closedir)(void *);
int (*gl_lstat)(const char *name, struct stat *st);
int (*gl_stat)(const char *name, struct stat *st);
    </pre></div><p class=Pp>This extension is provided to allow programs such as <a class=Xr href=restore.8.html>restore(8)</a> to provide globbing from directories stored on tape.</p></dd><dt><a class=permalink href=#GLOB_BRACE><code class=Dv id=GLOB_BRACE>GLOB_BRACE</code></a></dt><dd>Pre-process the pattern string to expand ‘<code class=Li>{pat,pat,...}</code>’ strings like <a class=Xr href=csh.1.html>csh(1)</a>. The pattern ‘<code class=Li>{}</code>’ is left unexpanded for historical reasons (and <a class=Xr href=csh.1.html>csh(1)</a> does the same thing to ease typing of <a class=Xr href=find.1.html>find(1)</a> patterns).</dd><dt><a class=permalink href=#GLOB_MAGCHAR><code class=Dv id=GLOB_MAGCHAR>GLOB_MAGCHAR</code></a></dt><dd>Set by the <code class=Fn>glob</code>() function if the pattern included globbing characters. See the description of the usage of the <var class=Fa>gl_matchc</var> structure member for more details.</dd><dt><a class=permalink href=#GLOB_NOMAGIC><code class=Dv id=GLOB_NOMAGIC>GLOB_NOMAGIC</code></a></dt><dd>Is the same as <code class=Dv>GLOB_NOCHECK</code> but it only appends the <var class=Fa>pattern</var> if it does not contain any of the special characters ``*'', ``?'' or ``[''. <code class=Dv>GLOB_NOMAGIC</code> is provided to simplify implementing the historic <a class=Xr href=csh.1.html>csh(1)</a> globbing behavior and should probably not be used anywhere else.</dd><dt><a class=permalink href=#GLOB_TILDE><code class=Dv id=GLOB_TILDE>GLOB_TILDE</code></a></dt><dd>Expand patterns that start with ‘<code class=Li>~</code>’ to user name home directories.</dd><dt><a class=permalink href=#GLOB_LIMIT><code class=Dv id=GLOB_LIMIT>GLOB_LIMIT</code></a></dt><dd>Limit the total number of returned pathnames to the value provided in <var class=Fa>gl_matchc</var> (default <code class=Dv>ARG_MAX</code>). This option should be set for programs that can be coerced into a denial of service attack via patterns that expand to a very large number of matches, such as a long string of ‘<code class=Li>*/../*/..</code>’.</dd></dl><p class=Pp>If, during the search, a directory is encountered that cannot be opened or read and <var class=Fa>errfunc</var> is non-<code class=Dv>NULL</code>, <code class=Fn>glob</code>() calls <var class=Fa>(*errfunc)</var>(<var class=Fa>path</var>, <var class=Fa>errno</var>), however, the <code class=Dv>GLOB_ERR</code> flag will cause an immediate return when this happens.</p><p class=Pp>If <var class=Fa>errfunc</var> returns non-zero, <code class=Fn>glob</code>() stops the scan and returns <code class=Dv>GLOB_ABORTED</code> after setting <var class=Fa>gl_pathc</var> and <var class=Fa>gl_pathv</var> to reflect any paths already matched. This also happens if an error is encountered and <code class=Dv>GLOB_ERR</code> is set in <var class=Fa>flags</var>, regardless of the return value of <var class=Fa>errfunc</var>, if called. If <code class=Dv>GLOB_ERR</code> is not set and either <var class=Fa>errfunc</var> is <code class=Dv>NULL</code> or <var class=Fa>errfunc</var> returns zero, the error is ignored.</p><p class=Pp>The <code class=Fn>globfree</code>() function frees any space associated with <var class=Fa>pglob</var> from a previous call(s) to <code class=Fn>glob</code>().</p></section><section class=Sh><h2 class=Sh id=RETURN_VALUES><a class=permalink href=#RETURN_VALUES>RETURN VALUES</a></h2> On successful completion, <code class=Fn>glob</code>() returns zero. In addition the fields of <var class=Fa>pglob</var> contain the values described below: <dl class=Bl-tag><dt><var class=Fa>gl_pathc</var></dt><dd>contains the total number of matched pathnames so far. This includes other matches from previous invocations of <code class=Fn>glob</code>() if <code class=Dv>GLOB_APPEND</code> was specified.</dd><dt><var class=Fa>gl_matchc</var></dt><dd>contains the number of matched pathnames in the current invocation of <code class=Fn>glob</code>().</dd><dt><var class=Fa>gl_flags</var></dt><dd>contains a copy of the <var class=Fa>flags</var> argument with the bit <code class=Dv>GLOB_MAGCHAR</code> set if <var class=Fa>pattern</var> contained any of the special characters ``*'', ``?'' or ``['', cleared if not.</dd><dt><var class=Fa>gl_pathv</var></dt><dd>contains a pointer to a <code class=Dv>NULL</code>-terminated list of matched pathnames. However, if <var class=Fa>gl_pathc</var> is zero, the contents of <var class=Fa>gl_pathv</var> are undefined.</dd></dl><p class=Pp>If <code class=Fn>glob</code>() terminates due to an error, it sets errno and returns one of the following non-zero constants, which are defined in the include file <code class=In>&lt;<a class=In href=../src/glob.h.html>glob.h</a>&gt;</code>:</p><dl class=Bl-tag><dt><a class=permalink href=#GLOB_NOSPACE><code class=Dv id=GLOB_NOSPACE>GLOB_NOSPACE</code></a></dt><dd>An attempt to allocate memory failed, or if <var class=Fa>errno</var> was E2BIG, <code class=Dv>GLOB_LIMIT</code> was specified in the flags and <var class=Fa>pglob-&gt;gl_matchc</var> or more patterns were matched.</dd><dt><a class=permalink href=#GLOB_ABORTED><code class=Dv id=GLOB_ABORTED>GLOB_ABORTED</code></a></dt><dd>The scan was stopped because an error was encountered and either <code class=Dv>GLOB_ERR</code> was set or <var class=Fa>(*errfunc)()</var> returned non-zero.</dd><dt><a class=permalink href=#GLOB_NOMATCH><code class=Dv id=GLOB_NOMATCH>GLOB_NOMATCH</code></a></dt><dd>The pattern did not match a pathname and <code class=Dv>GLOB_NOCHECK</code> was not set.</dd></dl><p class=Pp>The arguments <var class=Fa>pglob-&gt;gl_pathc</var> and <var class=Fa>pglob-&gt;gl_pathv</var> are still set as specified above.</p></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> A rough equivalent of ‘<code class=Li>ls -l *.c *.h</code>’ can be obtained with the following code: <div class="Bd Pp Bd-indent"><pre>
glob_t g;

g.gl_offs = 2;
glob("*.c", GLOB_DOOFFS, NULL, &amp;g);
glob("*.h", GLOB_DOOFFS | GLOB_APPEND, NULL, &amp;g);
g.gl_pathv[0] = "ls";
g.gl_pathv[1] = "-l";
execvp("ls", g.gl_pathv);
</pre></div></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=sh.1.html>sh(1)</a>, <a class=Xr href=fnmatch.3.html>fnmatch(3)</a>, <a class=Xr href=regex.3.html>regex(3)</a></section><section class=Sh><h2 class=Sh id=STANDARDS><a class=permalink href=#STANDARDS>STANDARDS</a></h2> The current implementation of the <code class=Fn>glob</code>() function <i class=Em>does not</i> conform to <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>. Collating symbol expressions, equivalence class expressions and character class expressions are not supported. <p class=Pp>The flags <code class=Dv>GLOB_ALTDIRFUNC</code>, <code class=Dv>GLOB_BRACE</code>, <code class=Dv>GLOB_LIMIT</code>, <code class=Dv>GLOB_MAGCHAR</code>, <code class=Dv>GLOB_NOMAGIC</code>, and <code class=Dv>GLOB_TILDE</code>, and the fields <var class=Fa>gl_matchc</var> and <var class=Fa>gl_flags</var> are extensions to the POSIX standard and should not be used by applications striving for strict conformance.</p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Fn>glob</code>() and <code class=Fn>globfree</code>() functions first appeared in <span class=Ux>4.4BSD</span>. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> Patterns longer than <code class=Dv>MAXPATHLEN</code> may cause unchecked errors. <p class=Pp>The <code class=Fn>glob</code>() argument may fail and set errno for any of the errors specified for the library routines <a class=Xr href=stat.2.html>stat(2)</a>, <a class=Xr href=closedir.3.html>closedir(3)</a>, <a class=Xr href=opendir.3.html>opendir(3)</a>, <a class=Xr href=readdir.3.html>readdir(3)</a>, <a class=Xr href=malloc.3.html>malloc(3)</a>, and <a class=Xr href=free.3.html>free(3)</a>.</p></section></div><table class=foot><tr><td class=foot-date>December 20, 2011</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>