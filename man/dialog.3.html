<!DOCTYPE html>
<html><head><meta charset=utf-8><title>dialog(3)</title><keywords content=man,dialog></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>dialog(3)</h1><table class=head><tr><td class=head-ltitle>DIALOG(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>DIALOG(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2> dialog - widgets and utilities for the dialog program </section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><b>cc [ flag ... ] file ... -ldialog [ library ... ]</b><br>    or <br><b>cc $(dialog-config --cflags) file ... $(dialog-config --libs) ]</b><p class=Pp><b>#include &lt;dialog.h&gt;</b></p><p class=Pp><b>Dialog</b> is a program that will let you present a variety of questions or display messages using dialog boxes from a shell script. It is built from the <b>dialog</b> library, which consists of several widgets as well as utility functions that are used by the widgets or the main program.</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> This manpage documents the features from <i>&lt;dialog.h&gt;</i> which are likely to be important to developers using the widgets directly. Some hints are also given for developing new widgets. <p class=Pp>Here is a <b>dialog</b> version of <i>Hello World</i>:</p><div class=Bd-indent><pre>
int main(void)
{
	int status;
	init_dialog(stdin, stdout);
	status = dialog_yesno(
			"Hello, in dialog-format",
			"Hello World!",
			0, 0);
	end_dialog();
	return status;
}
</pre></div></section><section class=Sh><h2 class=Sh id=DEFINITIONS><a class=permalink href=#DEFINITIONS>DEFINITIONS</a></h2> Exit codes (passed back to the main program for its use) are defined with a "<i>DLG_EXIT_</i> prefix. The efined constants can be mapped using environment variables as described in <b>dialog</b>(1), e.g., <i>DLG_EXIT_OK</i> corresponds to <i>$DIALOG_OK</i>. <p class=Pp>Useful character constants which correspond to user input are named with the "<i>CHR_</i>" prefix, e.g., <i>CHR_BACKSPACE</i>.</p><p class=Pp>Colors and video attributes are categorized and associated with settings in the configuration file (see the discussion of <i>$DIALOGRC</i> in <b>dialog</b>(1)). The <i>DIALOG_ATR(n)</i> macro is used for defining the references to the combined color and attribute table <b>dlg_color_table[]</b>.</p><p class=Pp>The <b>dialog</b> application passes its command-line parameters to the widget functions. Some of those parameters are single values, but some of the widgets accept data as an array of values. Those include checklist/radiobox, menubox and formbox. When the <b>--item-help</b> option is given, an extra column of data is expected. The USE_ITEM_HELP(), CHECKBOX_TAGS, MENUBOX_TAGS and FORMBOX_TAGS macros are used to hide this difference from the calling application.</p><p class=Pp>Most of the other definitions found in <i>&lt;dialog.h&gt;</i> are used for convenience in building the library or main program. These include definitions based on the generated <i>&lt;dlg_config.h&gt;</i> header.</p></section><section class=Sh><h2 class=Sh id=DATA_STRUCTURES><a class=permalink href=#DATA_STRUCTURES>DATA STRUCTURES</a></h2> All of the global data for the <b>dialog</b> library is stored in a few structures: <i>DIALOG_STATE</i>, <i>DIALOG_VARS</i> and <i>DIALOG_COLORS</i>. The corresponding <b>dialog_state</b>, <b>dialog_vars</b> and <b>dlg_color_table</b> global variables should be initialized to zeros, and then populated with the data to use. A few of these must be nonzero for the corresponding widgets to function. As as the case with function names, variables beginning with "<i>dialog_</i>" are designed for use by the calling application while variables beginning with "<i>dlg_</i>" are intended for lower levels, e.g., by the <b>dialog</b> library. </section><section class=Sh><h2 class=Sh id=DIALOG_STATE><a class=permalink href=#DIALOG_STATE>DIALOG_STATE</a></h2> The <i>state</i> variables are <b>dialog</b>'s working variables. It initializes those, uses them to manage the widgets. <section class=Ss><h2 class=Ss id=.all_subwindows><a class=permalink href=#.all_subwindows>.all_subwindows</a></h2> This is a linked list of all subwindows created by the library. The <b>dlg_del_window</b> function uses this to free storage for subwindows when deleting a window. </section><section class=Ss><h2 class=Ss id=.all_windows><a class=permalink href=#.all_windows>.all_windows</a></h2> This is a linked list of all windows created by the library. The <b>dlg_del_window</b> function uses this to locate windows which may be redrawn after deleting a window. </section><section class=Ss><h2 class=Ss id=.aspect_ratio><a class=permalink href=#.aspect_ratio>.aspect_ratio</a></h2> This corresponds to the command-line option "<b>--aspect-ratio</b>". The value gives the application some control over the box dimensions when using auto sizing (specifying 0 for height and width). It represents width / height. The default is 9, which means 9 characters wide to every 1 line high. </section><section class=Ss><h2 class=Ss id=.finish_string><a class=permalink href=#.finish_string>.finish_string</a></h2> When set to true, this allows calls to <b>dlg_finish_string</b> to discard the corresponding data which is created to speed up layout computations for the given string parameter. The <b>gauge</b> widget uses this feature. </section><section class=Ss><h2 class=Ss id=.getc_callbacks><a class=permalink href=#.getc_callbacks>.getc_callbacks</a></h2> This is set up in <i>ui_getc.c</i> to record windows which must be polled for input, e.g., to handle the background tailbox widget. One window is designated as the foreground or control window. </section><section class=Ss><h2 class=Ss id=.getc_redirect><a class=permalink href=#.getc_redirect>.getc_redirect</a></h2> If the control window for <i>DIALOG_STATE.getc_callbacks</i> is closed, the list is transferred to this variable. Closing all windows causes the application to exit. </section><section class=Ss><h2 class=Ss id=.had_resize><a class=permalink href=#.had_resize>.had_resize</a></h2> This is set to TRUE in <b>dlg_will_resize</b> or <b>dlg_result_key</b> when <b>KEY_RESIZE</b> is read, to tell <b>dialog</b> to ignore subsequent <b>ERR</b>s. </section><section class=Ss><h2 class=Ss id=.no_mouse><a class=permalink href=#.no_mouse>.no_mouse</a></h2> This corresponds to the command-line option "<b>--no-mouse</b>". If true, <b>dialog</b> will not initialize (and enable) the mouse in <i>init_dialog</i>. </section><section class=Ss><h2 class=Ss id=.output><a class=permalink href=#.output>.output</a></h2> This is set in the <b>dialog</b> application to the stream on which the application and library functions may write text results. Normally that is the standard error, since the curses library prefers to write its data to the standard output. Some scripts, trading portability for convenience, prefer to write results to the standard output, e.g., by using the "<b>--stdout</b>" option. </section><section class=Ss><h2 class=Ss id=.output_count><a class=permalink href=#.output_count>.output_count</a></h2> This is incremented by <b>dlg_does_output</b>, which is called by each widget that writes text to the output. The <b>dialog</b> application uses that to decide if it should also write a separator, i.e., <i>DIALOG_STATE.separate_str</i>, between calls to each widget. </section><section class=Ss><h2 class=Ss id=.pipe_input><a class=permalink href=#.pipe_input>.pipe_input</a></h2> This is set in <i>init_dialog</i> to a stream which can be used by the <b>gauge</b> widget, which must be the application's standard input. The <b>dialog</b> application calls <i>init_dialog</i> normally with <i>input</i> set to the standard input, but optionally based on the "<b>--input-fd</b>" option. Since the application cannot read from a pipe (standard input) and at the same time read the curses input from the standard input, it must allow for reopening the latter from either a specific file descriptor, or directly from the terminal. The adjusted pipe stream value is stored in this variable. </section><section class=Ss><h2 class=Ss id=.screen_height><a class=permalink href=#.screen_height>.screen_height</a></h2> The text-formatting functions use this for the number of rows used for formatting a string. <p class=Pp>It is used by <b>dialog</b> for the command-line options "<b>--print-text-size</b>" and "<b>--print-text-only</b>".</p></section><section class=Ss><h2 class=Ss id=.screen_initialized><a class=permalink href=#.screen_initialized>.screen_initialized</a></h2> This is set in <i>init_dialog</i> and reset in <i>end_dialog</i>. It is used to check if curses has been initialized, and if the <i>endwin</i> function must be called on exit. </section><section class=Ss><h2 class=Ss id=.screen_output><a class=permalink href=#.screen_output>.screen_output</a></h2> This is set in <i>init_dialog</i> to the output stream used by the curses library. Normally that is the standard output, unless that happens to not be a terminal (and if <i>init_dialog</i> can successfully open the terminal directly). </section><section class=Ss><h2 class=Ss id=.screen_width><a class=permalink href=#.screen_width>.screen_width</a></h2> The text-formatting functions use this for the number of columns used for formatting a string. <p class=Pp>It is used by <b>dialog</b> for the command-line options "<b>--print-text-size</b>" and "<b>--print-text-only</b>".</p></section><section class=Ss><h2 class=Ss id=.separate_str><a class=permalink href=#.separate_str>.separate_str</a></h2> This corresponds to the command-line option "<b>--separate-widget</b>". The given string specifies a string that will separate the output on <b>dialog</b>'s output from each widget. This is used to simplify parsing the result of a dialog with several widgets. If this option is not given, the default separator string is a tab character. </section><section class=Ss><h2 class=Ss id=.tab_len><a class=permalink href=#.tab_len>.tab_len</a></h2> This corresponds to the command-line option "<b>--tab-len</b><i>number</i>". Specify the number of spaces that a tab character occupies if the "<b>--tab-correct</b>" option is given. The default is 8. </section><section class=Ss><h2 class=Ss id=.text_height><a class=permalink href=#.text_height>.text_height</a></h2> The text-formatting functions set this to the number of lines used for formatting a string. <p class=Pp>It is used by <b>dialog</b> for the command-line options "<b>--print-text-size</b>" and "<b>--print-text-only</b>".</p></section><section class=Ss><h2 class=Ss id=.text_only><a class=permalink href=#.text_only>.text_only</a></h2><b>Dialog</b> uses this in the command-line option "<b>--print-text-only</b>". <p class=Pp>The text-formatting functions (<b>dlg_print_text</b>, <b>dlg_print_line</b>, and <b>dlg_print_autowrap</b>) check this to decide whether to print the formatted text to <b>dialog</b>'s output or to the curses-display.</p><p class=Pp>Also, <b>dlg_auto_size</b> checks the flag, allowing it to be used before <b>init_dialog</b> is called.</p></section><section class=Ss><h2 class=Ss id=.text_width><a class=permalink href=#.text_width>.text_width</a></h2> The text-formatting functions set this to the number of columns used for formatting a string. <p class=Pp>It is used by <b>dialog</b> for the command-line options "<b>--print-text-size</b>" and "<b>--print-text-only</b>".</p></section><section class=Ss><h2 class=Ss id=.trace_output><a class=permalink href=#.trace_output>.trace_output</a></h2> This corresponds to the command-line option "<b>--trace</b><i>file</i>". It is the file pointer to which trace messages are written. </section><section class=Ss><h2 class=Ss id=.use_colors><a class=permalink href=#.use_colors>.use_colors</a></h2> This is set in <i>init_dialog</i> if the curses implementation supports color. </section><section class=Ss><h2 class=Ss id=.use_scrollbar><a class=permalink href=#.use_scrollbar>.use_scrollbar</a></h2> This corresponds to the command-line option "<b>--scrollbar</b>". If true, draw a scrollbar to make windows holding scrolled data more readable. </section><section class=Ss><h2 class=Ss id=.use_shadow><a class=permalink href=#.use_shadow>.use_shadow</a></h2> This corresponds to the command-line option "<b>--no-shadow</b>". This is set in <i>init_dialog</i> if the curses implementation supports color. If true, suppress shadows that would be drawn to the right and bottom of each dialog box. </section><section class=Ss><h2 class=Ss id=.visit_items><a class=permalink href=#.visit_items>.visit_items</a></h2> This corresponds to the command-line option "<b>--visit-items</b>". Modify the tab-traversal of the list-oriented widgets (buildlist, checklist, radiobox, menubox, inputmenu, and treeview) to include the list of items as one of the states. This is useful as a visual aid, i.e., the cursor position helps some users. <p class=Pp>The <b>dialog</b> application resets the <b>dialog_vars</b> data before accepting options to invoke each widget. Most of the <i>DIALOG_VARS</i> members are set directly from <b>dialog</b>'s command-line options:</p></section></section><section class=Sh><h2 class=Sh id=DIALOG_VARS><a class=permalink href=#DIALOG_VARS>DIALOG_VARS</a></h2> In contrast to <b>DIALOG_STATE</b>, the members of <b>DIALOG_VARS</b> are set by command-line options in <b>dialog</b>. <section class=Ss><h2 class=Ss id=.ascii_lines><a class=permalink href=#.ascii_lines>.ascii_lines</a></h2> This corresponds to the command-line option "<b>--ascii-lines</b>. It causes line-drawing to be done with ASCII characters, e.g., "+" and "-". See <i>DIALOG_VARS.no_lines</i>. </section><section class=Ss><h2 class=Ss id=.backtitle><a class=permalink href=#.backtitle>.backtitle</a></h2> This corresponds to the command-line option "<b>--backtitle</b><i>backtitle</i>". It specifies a <i>backtitle</i> string to be displayed on the backdrop, at the top of the screen. </section><section class=Ss><h2 class=Ss id=.beep_after_signal><a class=permalink href=#.beep_after_signal>.beep_after_signal</a></h2> This corresponds to the command-line option "<b>--beep-after</b>". If true, beep after a user has completed a widget by pressing one of the buttons. </section><section class=Ss><h2 class=Ss id=.beep_signal><a class=permalink href=#.beep_signal>.beep_signal</a></h2> This corresponds to the command-line option "<b>--beep</b>". It is obsolete. </section><section class=Ss><h2 class=Ss id=.begin_set><a class=permalink href=#.begin_set>.begin_set</a></h2> This is true if the command-line option "<b>--begin</b><i>y x</i>" was used. It specifies the position of the upper left corner of a dialog box on the screen. </section><section class=Ss><h2 class=Ss id=.begin_x><a class=permalink href=#.begin_x>.begin_x</a></h2> This corresponds to the <i>x</i> value from the command-line option "<b>--begin</b><i>y x</i>" (second value). </section><section class=Ss><h2 class=Ss id=.begin_y><a class=permalink href=#.begin_y>.begin_y</a></h2> This corresponds to the <i>y</i> value from the command-line option "<b>--begin</b><i>y x</i>" (first value). </section><section class=Ss><h2 class=Ss id=.cancel_label><a class=permalink href=#.cancel_label>.cancel_label</a></h2> This corresponds to the command-line option "<b>--cancel-label</b><i>string</i>". The given <i>string</i> overrides the label used for “Cancel” buttons. </section><section class=Ss><h2 class=Ss id=.cant_kill><a class=permalink href=#.cant_kill>.cant_kill</a></h2> This corresponds to the command-line option "<b>--no-kill</b>". If true, this tells <b>dialog</b> to put the <b>tailboxbg</b> box in the background, printing its process id to <b>dialog</b>'s output. SIGHUP is disabled for the background process. </section><section class=Ss><h2 class=Ss id=.colors><a class=permalink href=#.colors>.colors</a></h2> This corresponds to the command-line option "<b>--colors</b>". If true, interpret embedded "\Z" sequences in the dialog text by the following character, which tells <b>dialog</b> to set colors or video attributes: 0 through 7 are the ANSI codes used in curses: black, red, green, yellow, blue, magenta, cyan and white respectively. Bold is set by 'b', reset by 'B'. Reverse is set by 'r', reset by 'R'. Underline is set by 'u', reset by 'U'. The settings are cumulative, e.g., "\Zb\Z1" makes the following text bright red. Restore normal settings with "\Zn". </section><section class=Ss><h2 class=Ss id=.column_separator><a class=permalink href=#.column_separator>.column_separator</a></h2> This corresponds to the command-line option "<b>--column-separator</b>". <b>Dialog</b> splits data for radio/checkboxes and menus on the occurrences of the given string, and aligns the split data into columns. </section><section class=Ss><h2 class=Ss id=.cr_wrap><a class=permalink href=#.cr_wrap>.cr_wrap</a></h2> This corresponds to the command-line option "<b>--cr-wrap</b>". If true, interpret embedded newlines in the dialog text as a newline on the screen. Otherwise, <b>dialog</b> will only wrap lines where needed to fit inside the text box. Even though you can control line breaks with this, <b>dialog</b> will still wrap any lines that are too long for the width of the box. Without cr-wrap, the layout of your text may be formatted to look nice in the source code of your script without affecting the way it will look in the dialog. </section><section class=Ss><h2 class=Ss id=.cursor_off_label><a class=permalink href=#.cursor_off_label>.cursor_off_label</a></h2> This corresponds to the command-line option "<b>--cursor-off-label</b>". If true, place the terminal cursor at the end of a button instead of on the first character of the button label. This is useful to reduce visual confusion when the cursor coloration interacts poorly with the button-label text colors. </section><section class=Ss><h2 class=Ss id=.date_format><a class=permalink href=#.date_format>.date_format</a></h2> This corresponds to the command-line option "<b>--date-format</b><i>string</i>". If the host provides <b>strftime</b>, and the value is nonnull, the calendar widget uses this to format its output. </section><section class=Ss><h2 class=Ss id=.default_button><a class=permalink href=#.default_button>.default_button</a></h2> This is set by the command-line option "<b>--default-button</b>. It is used by <b>dlg_default_button</b>. </section><section class=Ss><h2 class=Ss id=.default_item><a class=permalink href=#.default_item>.default_item</a></h2> This corresponds to the command-line option "<b>--default-item</b><i>string</i>". The given string is used as the default item in a checklist, form or menu box. Normally the first item in the box is the default. </section><section class=Ss><h2 class=Ss id=.defaultno><a class=permalink href=#.defaultno>.defaultno</a></h2> This corresponds to the command-line option "<b>--defaultno</b>". If true, make the default value of the <b>yes/no</b> box a <b>No</b>. Likewise, treat the default button of widgets that provide “OK” and “Cancel” as a <i>Cancel</i>. If <b>--no-cancel</b> was given that option overrides this, making the default button always “Yes” (internally the same as “OK”). </section><section class=Ss><h2 class=Ss id=.dlg_clear_screen><a class=permalink href=#.dlg_clear_screen>.dlg_clear_screen</a></h2> This corresponds to the command-line option "<b>--clear</b>". This option is implemented in the main program, not the library. If true, the screen will be cleared on exit. This may be used alone, without other options. </section><section class=Ss><h2 class=Ss id=.erase_on_exit><a class=permalink href=#.erase_on_exit>.erase_on_exit</a></h2> This corresponds to the command-line option "<b>--erase-on-exit</b>". If true, remove the dialog widget on program exit, erasing the entire screen to its native background color, and place the terminal cursor at the lower left corner of the screen. This is useful for making the window contents invisible at the end of a series of dialog boxes. But it can also be used at earlier stages of a series of invocations of <b>dialog</b>, if the series may be aborted before it is fully completed. </section><section class=Ss><h2 class=Ss id=.exit_label><a class=permalink href=#.exit_label>.exit_label</a></h2> This corresponds to the command-line option "<b>--exit-label string</b>". The given string overrides the label used for “EXIT” buttons. </section><section class=Ss><h2 class=Ss id=.extra_button><a class=permalink href=#.extra_button>.extra_button</a></h2> This corresponds to the command-line option "<b>--extra-button</b>". If true, some widgets show an extra button, between “OK” and “Cancel” buttons. </section><section class=Ss><h2 class=Ss id=.extra_label><a class=permalink href=#.extra_label>.extra_label</a></h2> This corresponds to the command-line option "<b>--extra-label</b><i>string</i>". The given string overrides the label used for “Extra” buttons. Note: for inputmenu widgets, this defaults to “Rename”. </section><section class=Ss><h2 class=Ss id=.formitem_type><a class=permalink href=#.formitem_type>.formitem_type</a></h2> This is set by the command-line option "<b>--passwordform</b>" to tell the form widget that its text fields should be treated like password widgets. </section><section class=Ss><h2 class=Ss id=.help_button><a class=permalink href=#.help_button>.help_button</a></h2> This corresponds to the command-line option "<b>--help-button</b>". If true, some widgets show a help-button after “OK” and “Cancel” buttons, i.e., in checklist, radiolist and menu boxes. If <b>--item-help</b> is also given, on exit the return status will be the same as for the “OK” button, and the item-help text will be written to <b>dialog</b>'s output after the token “HELP”. Otherwise, the return status will indicate that the Help button was pressed, and no message printed. </section><section class=Ss><h2 class=Ss id=.help_file><a class=permalink href=#.help_file>.help_file</a></h2> This corresponds to the command-line option "<b>--hfile</b><i>string</i>". The given filename is passed to <b>dialog_helpfile</b> when the user presses F1. </section><section class=Ss><h2 class=Ss id=.help_label><a class=permalink href=#.help_label>.help_label</a></h2> This corresponds to the command-line option "<b>--help-label</b><i>string</i>". The given string overrides the label used for “Help” buttons. </section><section class=Ss><h2 class=Ss id=.help_line><a class=permalink href=#.help_line>.help_line</a></h2> This corresponds to the command-line option "<b>--hline</b><i>string</i>". The given string is displayed in the bottom of dialog windows, like a subtitle. </section><section class=Ss><h2 class=Ss id=.help_status><a class=permalink href=#.help_status>.help_status</a></h2> This corresponds to the command-line option "<b>--help-status</b>". If true, and the the help-button is selected, writes the checklist or radiolist information after the item-help “HELP” information. This can be used to reconstruct the state of a checklist after processing the help request. </section><section class=Ss><h2 class=Ss id=.help_tags><a class=permalink href=#.help_tags>.help_tags</a></h2> This corresponds to the command-line option "<b>--help-tags</b>". If true, <b>dlg_add_help_formitem</b> and <b>dlg_add_help_listitem</b> use the item's tag value consistently rather than using the tag's help-text value when <i>DIALOG_VARS.item_help</i> is set. </section><section class=Ss><h2 class=Ss id=.input_length><a class=permalink href=#.input_length>.input_length</a></h2> This is nonzero if <i>DIALOG_VARS.input_result</i> is allocated, versus being a pointer to the user's local variables. </section><section class=Ss><h2 class=Ss id=.input_menu><a class=permalink href=#.input_menu>.input_menu</a></h2> This flag is set to denote whether the menubox widget implements a menu versus a inputmenu widget. </section><section class=Ss><h2 class=Ss id=.input_result><a class=permalink href=#.input_result>.input_result</a></h2> This may be either a user-supplied buffer, or a buffer dynamically allocated by the library, depending on <i>DIALOG_VARS.input_length</i>: <ul class=Bl-bullet><li>If <i>DIALOG_VARS.input_length</i> is zero, this is a pointer to user buffer (on the stack, or static). The buffer size is assumed to be <b>MAX_LEN</b>, which is defined in <i>&lt;dialog.h&gt;</i>.</li><li>When <i>DIALOG_VARS.input_length</i> is nonzero, this is a dynamically-allocated buffer used by the widgets to return printable results to the calling application.</li></ul><p class=Pp>Certain widgets copy a result to this buffer. If the pointer is NULL, or if the length is insufficient for the result, then the <b>dialog</b> library allocates a buffer which is large enough, and sets <i>DIALOG_VARS.input_length</i>. Callers should check for this case if they have supplied their own buffer.</p></section><section class=Ss><h2 class=Ss id=.insecure><a class=permalink href=#.insecure>.insecure</a></h2> This corresponds to the command-line option "<b>--insecure</b>". If true, make the password widget friendlier but less secure, by echoing asterisks for each character. </section><section class=Ss><h2 class=Ss id=.in_helpfile><a class=permalink href=#.in_helpfile>.in_helpfile</a></h2> This variable is used to prevent <b>dialog_helpfile</b> from showing anything, e.g., if F1 were pressed within a help-file display. </section><section class=Ss><h2 class=Ss id=.iso_week><a class=permalink href=#.iso_week>.iso_week</a></h2> This corresponds to the command-line option "<b>--iso-week</b>". It is used in the calendar widget to tell how to compute the starting week for the year: <ul class=Bl-bullet><li>by default, the calendar treats January 1 as the first week of the year.</li><li>If this variable is true, the calendar uses ISO 8601's convention. ISO 8601 numbers weeks starting with the first week in January with a Thursday in the current year. January 1 may be in the <i>previous</i> year.</li></ul></section><section class=Ss><h2 class=Ss id=.item_help><a class=permalink href=#.item_help>.item_help</a></h2> This corresponds to the command-line option "<b>--item-help</b>". If true, interpret the tags data for checklist, radiolist and menu boxes adding a column whose text is displayed in the bottom line of the screen, for the currently selected item. </section><section class=Ss><h2 class=Ss id=.keep_tite><a class=permalink href=#.keep_tite>.keep_tite</a></h2> This is set by the command-line option "<b>--keep-tite</b>" to tell <b>dialog</b> to not attempt to cancel the terminal initialization (termcap <i>ti</i>/<i>te</i>) sequences which correspond to xterm's alternate-screen switching. Normally <b>dialog</b> does this to avoid flickering when run several times in a script. </section><section class=Ss><h2 class=Ss id=.keep_window><a class=permalink href=#.keep_window>.keep_window</a></h2> This corresponds to the command-line option "<b>--keep-window</b>". If true, do not remove/repaint the window on exit. This is useful for keeping the window contents visible when several widgets are run in the same process. Note that curses will clear the screen when starting a new process. </section><section class=Ss><h2 class=Ss id=.last_key><a class=permalink href=#.last_key>.last_key</a></h2> This corresponds to the command-line option "<b>--last-key</b>". </section><section class=Ss><h2 class=Ss id=.max_input><a class=permalink href=#.max_input>.max_input</a></h2> This corresponds to the command-line option "<b>--max-input</b><i>size</i>". Limit input strings to the given size. If not specified, the limit is 2048. </section><section class=Ss><h2 class=Ss id=.no_hot_key><a class=permalink href=#.no_hot_key>.no_hot_key</a></h2> This corresponds to the command-line option "<b>--no-hot-list</b>". <p class=Pp>Some widgets (buildlist, checklist, inputmenu, menu, radiolist, treeview) display a list for which the leading capital letter in each entry is accepted as a hot-key, to quickly move the focus to that entry.</p><p class=Pp>Setting this variable to TRUE disables the feature.</p></section><section class=Ss><h2 class=Ss id=.no_items><a class=permalink href=#.no_items>.no_items</a></h2> This corresponds to the command-line option "<b>--no-items</b>". Some widgets (checklist, inputmenu, radiolist, menu) display a list with two columns (a “tag” and “item”, i.e., “description”). This tells <b>dialog</b> to read shorter rows from data, omitting the “list”. </section><section class=Ss><h2 class=Ss id=.no_label><a class=permalink href=#.no_label>.no_label</a></h2> This corresponds to the command-line option "<b>--no-label</b><i>string</i>". The given string overrides the label used for “No” buttons. </section><section class=Ss><h2 class=Ss id=.no_lines><a class=permalink href=#.no_lines>.no_lines</a></h2> This corresponds to the command-line option "<b>--no-lines</b>. It suppresses line-drawing. See <i>DIALOG_VARS.ascii_lines</i>. </section><section class=Ss><h2 class=Ss id=.no_nl_expand><a class=permalink href=#.no_nl_expand>.no_nl_expand</a></h2> This corresponds to the command-line option "<b>--no-nl-expand</b>". If false, <b>dlg_trim_string</b> converts literal "\n" substrings in a message into newlines. </section><section class=Ss><h2 class=Ss id=.no_tags><a class=permalink href=#.no_tags>.no_tags</a></h2> This corresponds to the command-line option "<b>--no-tags</b>". Some widgets (checklist, inputmenu, radiolist, menu) display a list with two columns (a “tag” and “item”, also known as “description”). The tag is useful for scripting, but may not help the user. The <b>--no-tags</b> option (from Xdialog) may be used to suppress the column of tags from the display. <p class=Pp>Normally <b>dialog</b> allows you to quickly move to entries on the displayed list, by matching a single character to the first character of the tag. When the <b>--no-tags</b> option is given, <b>dialog</b> matches against the first character of the description. In either case, the matchable character is highlighted.</p><p class=Pp>Here is a table showing how the no_tags and no_items values interact:</p><table class=tbl><tr style="border-bottom-style: solid;"><td>Widget</td><td>Fields Shown</td><td>Fields Read</td><td>.no_items</td><td>.no_tags</td></tr><tr><td>buildlist</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">0*</td></tr><tr><td>buildlist</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">1</td></tr><tr><td>buildlist</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">0*</td></tr><tr><td>buildlist</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">1</td></tr><tr><td>checklist</td><td>tag,item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">0</td></tr><tr><td>checklist</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">1</td></tr><tr><td>checklist</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">0</td></tr><tr><td>checklist</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">1</td></tr><tr><td>inputmenu</td><td>tag,item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">0</td></tr><tr><td>inputmenu</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">1</td></tr><tr><td>inputmenu</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">0</td></tr><tr><td>inputmenu</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">1</td></tr><tr><td>menu</td><td>tag,item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">0</td></tr><tr><td>menu</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">1</td></tr><tr><td>menu</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">0</td></tr><tr><td>menu</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">1</td></tr><tr><td>radiolist</td><td>tag,item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">0</td></tr><tr><td>radiolist</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">1</td></tr><tr><td>radiolist</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">0</td></tr><tr><td>radiolist</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">1</td></tr><tr><td>treeview</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">0*</td></tr><tr><td>treeview</td><td>item</td><td>tag,item</td><td style="text-align: right;">0</td><td style="text-align: right;">1</td></tr><tr><td>treeview</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">0*</td></tr><tr style="border-bottom-style: solid;"><td>treeview</td><td>tag</td><td>tag</td><td style="text-align: right;">1</td><td style="text-align: right;">1</td></tr></table><dl class=Bl-tag><dt>*</dt><dd>Xdialog does not display the tag column for the analogous buildlist and treeview widgets. <b>Dialog</b> does the same on the command-line. However the library interface defaults to displaying the tag column. Your application can enable or disable the tag column as needed for each widget.</dd></dl></section><section class=Ss><h2 class=Ss id=.nocancel><a class=permalink href=#.nocancel>.nocancel</a></h2> This corresponds to the command-line option "<b>--no-cancel</b>". If true, suppress the “Cancel” button in checklist, inputbox and menu box modes. A script can still test if the user pressed the ESC key to cancel to quit. </section><section class=Ss><h2 class=Ss id=.nocollapse><a class=permalink href=#.nocollapse>.nocollapse</a></h2> This corresponds to the command-line option "<b>--no-collapse</b>". Normally <b>dialog</b> converts tabs to spaces and reduces multiple spaces to a single space for text which is displayed in a message boxes, etc. It true, that feature is disabled. Note that <b>dialog</b> will still wrap text, subject to the <b>--cr-wrap</b> option. </section><section class=Ss><h2 class=Ss id=.nook><a class=permalink href=#.nook>.nook</a></h2> This corresponds to the command-line option "<b>--no-ok</b>. <b>Dialog</b> will suppress the “ok” (or “yes”) button from the widget. </section><section class=Ss><h2 class=Ss id=.ok_label><a class=permalink href=#.ok_label>.ok_label</a></h2> This corresponds to the command-line option "<b>--ok-label</b><i>string</i>". The given string overrides the label used for “OK” buttons. </section><section class=Ss><h2 class=Ss id=.pause_secs><a class=permalink href=#.pause_secs>.pause_secs</a></h2> When set, force <b>dlg_set_timeout</b> to use 10 milliseconds rather than using the <i>DIALOG_VARS.timeout_secs</i> value. </section><section class=Ss><h2 class=Ss id=.print_siz><a class=permalink href=#.print_siz>.print_siz</a></h2> This corresponds to the command-line option "<b>--print-size</b>". If true, each widget prints its size to <b>dialog</b>'s output when it is invoked. </section><section class=Ss><h2 class=Ss id=.quoted><a class=permalink href=#.quoted>.quoted</a></h2> This corresponds to the command-line option "<b>--quoted</b>. Normally <b>dialog</b> quotes the strings returned by checklist's as well as the item-help text. If true, <b>dialog</b> will quote all string results. </section><section class=Ss><h2 class=Ss id=.reorder><a class=permalink href=#.reorder>.reorder</a></h2> This corresponds to the command-line option "<b>--reorder</b>. By default, the buildlist widget uses the same order for the output (right) list as for the input (left). If true, <b>dialog</b> will use the order in which a user adds selections to the output list. </section><section class=Ss><h2 class=Ss id=.separate_output><a class=permalink href=#.separate_output>.separate_output</a></h2> This corresponds to the command-line option "<b>--separate-output</b>". If true, checklist widgets output result one line at a time, with no quoting. This facilitates parsing by another program. </section><section class=Ss><h2 class=Ss id=.single_quoted><a class=permalink href=#.single_quoted>.single_quoted</a></h2> This corresponds to the command-line option "<b>--single-quoted</b>". If true, use single-quoting as needed (and no quotes if unneeded) for the output of checklist's as well as the item-help text. If this option is not set, <b>dialog</b> uses double quotes around each item. The latter requires occasional use of backslashes to make the output useful in shell scripts. </section><section class=Ss><h2 class=Ss id=.size_err><a class=permalink href=#.size_err>.size_err</a></h2> This corresponds to the command-line option "<b>--size-err</b>". If true, check the resulting size of a dialog box before trying to use it, printing the resulting size if it is larger than the screen. (This option is obsolete, since all new-window calls are checked). </section><section class=Ss><h2 class=Ss id=.sleep_secs><a class=permalink href=#.sleep_secs>.sleep_secs</a></h2> This corresponds to the command-line option "<b>--sleep</b><i>secs</i>". This option is implemented in the main program, not the library. If nonzero, this is the number of seconds after to delay after processing a dialog box. </section><section class=Ss><h2 class=Ss id=.tab_correct><a class=permalink href=#.tab_correct>.tab_correct</a></h2> This corresponds to the command-line option "<b>--tab-correct</b>". If true, convert each tab character of the text to one or more spaces. Otherwise, tabs are rendered according to the curses library's interpretation. </section><section class=Ss><h2 class=Ss id=.time_format><a class=permalink href=#.time_format>.time_format</a></h2> This corresponds to the command-line option "<b>--time-format</b><i>string</i>". If the host provides <b>strftime</b>, and the value is nonnull, the timebox widget uses this to format its output. </section><section class=Ss><h2 class=Ss id=.timeout_secs><a class=permalink href=#.timeout_secs>.timeout_secs</a></h2> This corresponds to the command-line option "<b>--timeout</b><i>secs</i>". If nonzero, timeout input requests (exit with error code) if no user response within the given number of seconds. </section><section class=Ss><h2 class=Ss id=.title><a class=permalink href=#.title>.title</a></h2> This corresponds to the command-line option "<b>--title</b><i>title</i>". Specifies a <i>title</i> string to be displayed at the top of the dialog box. </section><section class=Ss><h2 class=Ss id=.trim_whitespace><a class=permalink href=#.trim_whitespace>.trim_whitespace</a></h2> This corresponds to the command-line option "<b>--trim</b>". If true, eliminate leading blanks, trim literal newlines and repeated blanks from message text. </section><section class=Ss><h2 class=Ss id=.week_start><a class=permalink href=#.week_start>.week_start</a></h2> This corresponds to the command-line option "<b>--week-start</b>". It is used in the calendar widget to set the starting day for the week. The string value can be <ul class=Bl-bullet><li>a number (0 to 6, Sunday through Saturday using POSIX) or</li><li>the special value “locale” (this works with systems using glibc, providing an extension to the <b>locale</b> command, the <b>first_weekday</b> value).</li><li>a string matching one of the abbreviations for the day of the week shown in the <b>calendar</b> widget, e.g., “Mo” for “Monday”.</li></ul></section><section class=Ss><h2 class=Ss id=.yes_label><a class=permalink href=#.yes_label>.yes_label</a></h2> This corresponds to the command-line option "<b>--yes-label</b><i>string</i>". The given string overrides the label used for “Yes” buttons. </section></section><section class=Sh><h2 class=Sh id=WIDGETS><a class=permalink href=#WIDGETS>WIDGETS</a></h2> Functions that implement major functionality for the command-line <b>dialog</b> program, e.g., widgets, have names beginning "<i>dialog_</i>". <p class=Pp>All dialog boxes have at least three parameters:</p><div class=Bd-indent><dl class=Bl-tag><dt><i>title</i></dt><dd>the caption for the box, shown on its top border.</dd><dt><i>height</i></dt><dd>the height of the dialog box.</dd><dt><i>width</i></dt><dd>the width of the dialog box.</dd></dl></div><p class=Pp>Other parameters depend on the box type.</p><section class=Ss><h2 class=Ss id=dialog_buildlist><a class=permalink href=#dialog_buildlist>dialog_buildlist</a></h2> implements the "<b>--buildlist</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>list_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>char ** <i>items</i></b></dt><dd>is an array of strings which is viewed either as a list of rows</dd></dl><div class=Bd-indent><i>tag item status</i></div><dl class=Bl-tag><dt></dt><dd>or</dd></dl><div class=Bd-indent><i>tag item status help</i></div><dl class=Bl-tag><dt></dt><dd>depending on whether <b>dialog_vars.item_help</b> is set.</dd></dl><dl class=Bl-tag><dt><b>int <i>order_mode</i></b></dt><dd>is reserved for future enhancements</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_calendar><a class=permalink href=#dialog_calendar>dialog_calendar</a></h2> implements the "<b>--calendar</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>subtitle</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the height excluding the fixed-height calendar grid.</dd><dt><b>int <i>width</i></b></dt><dd>is the overall width of the box, which is adjusted up to the calendar grid's minimum width if needed.</dd><dt><b>int <i>day</i></b></dt><dd>is the initial day of the week shown, counting zero as Sunday. If the value is negative, the current day of the week is used.</dd><dt><b>int <i>month</i></b></dt><dd>is the initial month of the year shown, counting one as January. If the value is negative, the current month of the year is used.</dd><dt><b>int <i>year</i></b></dt><dd>is the initial year shown. If the value is negative, the current year is used.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_checklist><a class=permalink href=#dialog_checklist>dialog_checklist</a></h2> implements the "<b>--checklist</b>" and "<b>--radiolist</b>" options depending on the <i>flag</i> parameter. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>list_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>int <i>items</i></b></dt><dd>is an array of strings which is viewed either as a list of rows</dd></dl><div class=Bd-indent><i>tag item status</i></div><dl class=Bl-tag><dt></dt><dd>or</dd></dl><div class=Bd-indent><i>tag item status help</i></div><dl class=Bl-tag><dt></dt><dd>depending on whether <b>dialog_vars.item_help</b> is set.</dd><dt>flag</dt><dd>is either <i>FLAG_CHECK</i>, for checklists, or <i>FLAG_RADIO</i> for radiolists.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_dselect><a class=permalink href=#dialog_dselect>dialog_dselect</a></h2> implements the "<b>--dselect</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>path</i></b></dt><dd>is the preselected value to show in the input-box, which is used also to set the directory- and file-windows.</dd><dt><b>int <i>height</i></b></dt><dd>is the height excluding the minimum needed to show the dialog box framework. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_editbox><a class=permalink href=#dialog_editbox>dialog_editbox</a></h2> implements the "<b>--editbox</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>file</i></b></dt><dd>is the name of the file from which to read.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_form><a class=permalink href=#dialog_form>dialog_form</a></h2> implements the "<b>--form</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>form_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>int <i>items</i></b></dt><dd>is an array of strings which is viewed either as a list of rows</dd></dl><div class=Bd-indent><i>Name NameY NameX Text TextY TextX FLen ILen</i></div><dl class=Bl-tag><dt></dt><dd>or</dd></dl><div class=Bd-indent><i>Name NameY NameX Text TextY TextX FLen ILen Help</i></div><dl class=Bl-tag><dt></dt><dd>depending on whether <b>dialog_vars.item_help</b> is set.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_fselect><a class=permalink href=#dialog_fselect>dialog_fselect</a></h2> implements the "<b>--fselect</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>path</i></b></dt><dd>is the preselected value to show in the input-box, which is used also to set the directory- and file-windows.</dd><dt><b>int <i>height</i></b></dt><dd>is the height excluding the minimum needed to show the dialog box framework. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_gauge><a class=permalink href=#dialog_gauge>dialog_gauge</a></h2> implements the "<b>--gauge</b>" option. Alternatively, a simpler or customized gauge widget can be set up using <b>dlg_allocate_gauge</b>, <b>dlg_reallocate_gauge</b>, <b>dlg_update_gauge</b> and <b>dlg_free_gauge</b>. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>percent</i></b></dt><dd>is the percentage to show in the progress bar.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_inputbox><a class=permalink href=#dialog_inputbox>dialog_inputbox</a></h2> implements the "<b>--inputbox</b>" or "<b>--password</b>" option, depending on the value of <i>password</i>. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>const char * <i>init</i></b></dt><dd>is the initial value of the input box, whose length is taken into account when auto-sizing the width of the dialog box.</dd><dt><b>int <i>password</i></b></dt><dd>if true, causes typed input to be echoed as asterisks.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_helpfile><a class=permalink href=#dialog_helpfile>dialog_helpfile</a></h2> implements the "<b>--hfile</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>file</i></b></dt><dd>is the name of a file containing the text to display. This function is internally bound to F1 (function key “1”), passing <b>dialog_vars.help_file</b> as a parameter. The <b>dialog</b> program sets that variable when the <b>--hfile</b> option is given.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_menu><a class=permalink href=#dialog_menu>dialog_menu</a></h2> implements the "<b>--menu</b>" or "<b>--inputmenu</b>" option depending on whether <b>dialog_vars.input_menu</b> is set. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>menu_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>int <i>items</i></b></dt><dd>is an array of strings which is viewed either as a list of rows</dd></dl><div class=Bd-indent><i>tag item</i></div><dl class=Bl-tag><dt></dt><dd>or</dd></dl><div class=Bd-indent><i>tag item help</i></div><dl class=Bl-tag><dt></dt><dd>depending on whether <b>dialog_vars.item_help</b> is set.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_mixedform><a class=permalink href=#dialog_mixedform>dialog_mixedform</a></h2> implements the "<b>--mixedform</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>form_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>int <i>items</i></b></dt><dd>is an array of strings which is viewed either as a list of rows</dd></dl><div class=Bd-indent><i>Name NameY NameX Text TextY TextX FLen ILen Ityp</i></div><dl class=Bl-tag><dt></dt><dd>or</dd></dl><div class=Bd-indent><i>Name NameY NameX Text TextY TextX FLen ILen Ityp Help</i></div><dl class=Bl-tag><dt></dt><dd>depending on whether <b>dialog_vars.item_help</b> is set.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_mixedgauge><a class=permalink href=#dialog_mixedgauge>dialog_mixedgauge</a></h2> implements the "<b>--mixedgauge</b>" option <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the caption text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>percent</i></b></dt><dd>is the percentage to show in the progress bar.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>int <i>items</i></b></dt><dd>is an array of strings which is viewed as a list of <i>tag</i> and <i>item</i> values. The <i>tag</i> values are listed, one per row, in the list at the top of the widget.</dd></dl><dl class=Bl-tag><dt></dt><dd>The <i>item</i> values are decoded: digits 0 through 9 are the following strings</dd></dl><div class=Bd-indent><dl class=Bl-tag><dt>0</dt><dd>Succeeded</dd><dt>1</dt><dd>Failed</dd><dt>2</dt><dd>Passed</dd><dt>3</dt><dd>Completed</dd><dt>4</dt><dd>Checked</dd><dt>5</dt><dd>Done</dd><dt>6</dt><dd>Skipped</dd><dt>7</dt><dd>In Progress</dd><dt>8</dt><dd>(blank)</dd><dt>9</dt><dd>N/A</dd></dl></div><dl class=Bl-tag><dt></dt><dd>A string with a leading "-" character is centered, marked with "%". For example, "-75" is displayed as "75%". Other strings are displayed as is.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_msgbox><a class=permalink href=#dialog_msgbox>dialog_msgbox</a></h2> implements the "<b>--msgbox</b>" or "<b>--infobox</b>" option depending on whether <i>pauseopt</i> is set. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>pauseopt</i></b></dt><dd>if true, an “OK” button will be shown, and the dialog will wait for it to complete. With an “OK” button, it is denoted a “msgbox”, without an “OK” button, it is denoted an “infobox”.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_pause><a class=permalink href=#dialog_pause>dialog_pause</a></h2> implements the "<b>--pause</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>seconds</i></b></dt><dd>is the timeout to use for the progress bar.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_prgbox><a class=permalink href=#dialog_prgbox>dialog_prgbox</a></h2> implements the "<b>--prgbox</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget. If empty or null, no prompt is shown.</dd><dt><b>const char * <i>command</i></b></dt><dd>is the name of the command to execute.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>pauseopt</i></b></dt><dd>if true, an “OK” button will be shown, and the dialog will wait for it to complete.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_progressbox><a class=permalink href=#dialog_progressbox>dialog_progressbox</a></h2> implements the "<b>--progressbox</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget. If empty or null, no prompt is shown.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_rangebox><a class=permalink href=#dialog_rangebox>dialog_rangebox</a></h2> implements the "<b>--rangebox</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget. If empty or null, no prompt is shown.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the widget. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the widget. If zero, the height is based on the screen size.</dd><dt><b>int <i>min_value</i></b></dt><dd>is the minimum value to allow.</dd><dt><b>int <i>max_value</i></b></dt><dd>is the maximum value to allow.</dd><dt><b>int <i>default_value</i></b></dt><dd>is the default value, if no change is made.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_tailbox><a class=permalink href=#dialog_tailbox>dialog_tailbox</a></h2> implements the "<b>--tailbox</b>" or "<b>--tailboxbg</b>" option depending on whether <i>bg_task</i> is set. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>file</i></b></dt><dd>is the name of the file to display in the dialog.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>bg_task</i></b></dt><dd>if true, the window is added to the callback list in <b>dialog_state</b>, and the application will poll for the window to be updated. Otherwise an “OK” button is added to the window, and it will be closed when the button is activated.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_textbox><a class=permalink href=#dialog_textbox>dialog_textbox</a></h2> implements the "<b>--textbox</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>file</i></b></dt><dd>is the name of the file to display in the dialog.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_timebox><a class=permalink href=#dialog_timebox>dialog_timebox</a></h2> implements the "<b>--timebox</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>subtitle</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>hour</i></b></dt><dd>is the initial hour shown. If the value is negative, the current hour is used. Returns DLG_EXIT_ERROR if the value specified is greater than or equal to 24.</dd><dt><b>int <i>minute</i></b></dt><dd>is the initial minute shown. If the value is negative, the current minute is used. Returns DLG_EXIT_ERROR if the value specified is greater than or equal to 60.</dd><dt><b>int <i>second</i></b></dt><dd>is the initial second shown. If the value is negative, the current second is used. Returns DLG_EXIT_ERROR if the value specified is greater than or equal to 60.</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_treeview><a class=permalink href=#dialog_treeview>dialog_treeview</a></h2> implements the "<b>--treeview</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>list_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>char ** <i>items</i></b></dt><dd>is the list of items, contain tag, name, and optionally help strings (if <b>dialog_vars.item_help</b> is set). The initial selection state for each item is also in this list.</dd><dt><b>int <i>flag</i></b></dt><dd></dd></dl><dl class=Bl-tag><dt>flag</dt><dd>is either <i>FLAG_CHECK</i>, for checklists (multiple selections), or <i>FLAG_RADIO</i> for radiolists (a single selection).</dd></dl></section><section class=Ss><h2 class=Ss id=dialog_yesno><a class=permalink href=#dialog_yesno>dialog_yesno</a></h2> implements the "<b>--yesno</b>" option. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd></dl></section></section><section class=Sh><h2 class=Sh id=UTILITY_FUNCTIONS><a class=permalink href=#UTILITY_FUNCTIONS>UTILITY FUNCTIONS</a></h2> Most functions that implement lower-level functionality for the command-line <b>dialog</b> program or widgets, have names beginning "<i>dlg_</i>". Bowing to longstanding usage, the functions that initialize the display and end it are named <i>init_dialog</i> and <i>end_dialog</i>. <p class=Pp>The only non-widget function whose name begins with "<i>dialog_</i>" is <b>dialog_version</b>, which returns the version number of the library as a string.</p><p class=Pp>A few functions are prefixed "<i>_dlg_</i>", because they are required for internal use, but not intended as part of the library application programming interface.</p><p class=Pp>Here is a brief summary of the utility functions and their parameters:</p><section class=Ss><h2 class=Ss id=dlg_add_callback><a class=permalink href=#dlg_add_callback>dlg_add_callback</a></h2> Add a callback, used to allow polling input from multiple tailbox widgets. <dl class=Bl-tag><dt><b>DIALOG_CALLBACK *<i>p</i></b></dt><dd>contains the callback information.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_add_callback_ref><a class=permalink href=#dlg_add_callback_ref>dlg_add_callback_ref</a></h2> Like <b>dlg_add_callback</b>, but passes a reference to the <b>DIALOG_CALLBACK</b> as well as a pointer to a cleanup function which will be called when the associated input ends. <dl class=Bl-tag><dt><b>DIALOG_CALLBACK **<i>p</i></b></dt><dd>points to the callback information. This is a reference to the pointer so that the caller's pointer can be zeroed when input ends.</dd><dt><b>DIALOG_FREEBACK <i>func</i></b></dt><dd>function to call when input ends, e.g., to free caller's additional data.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_add_help_formitem><a class=permalink href=#dlg_add_help_formitem>dlg_add_help_formitem</a></h2> This is a utility function used enforce consistent behavior for the <i>DIALOG_VARS.help_tags</i> and <i>DIALOG_VARS.item_help</i> variables. <dl class=Bl-tag><dt><b>int *<i>result</i></b></dt><dd>this is updated to DLG_EXIT_ITEM_HELP if <i>DIALOG_VARS.item_help</i> is set.</dd><dt><b>char **<i>tag</i></b></dt><dd>the tag- or help-text is stored here.</dd><dt><b>DIALOG_FORMITEM *<i>item</i></b></dt><dd>contains the list item to use for tag- or help-text.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_add_help_listitem><a class=permalink href=#dlg_add_help_listitem>dlg_add_help_listitem</a></h2> This is a utility function used enforce consistent behavior for the <i>DIALOG_VARS.help_tags</i> and <i>DIALOG_VARS.item_help</i> variables. <dl class=Bl-tag><dt><b>int *<i>result</i></b></dt><dd>this is updated to DLG_EXIT_ITEM_HELP if <i>DIALOG_VARS.item_help</i> is set.</dd><dt><b>char **<i>tag</i></b></dt><dd>the tag- or help-text is stored here.</dd><dt><b>DIALOG_LISTITEM *<i>item</i></b></dt><dd>contains the list item to use for tag- or help-text.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_add_last_key><a class=permalink href=#dlg_add_last_key>dlg_add_last_key</a></h2> Report the last key entered by the user. This implements the <b>--last-key</b> command-line option, using <b>dialog_vars.last_key</b>. <dl class=Bl-tag><dt><b>int <i>mode</i></b></dt><dd>controls the way the last key report is separated from other results:</dd></dl><div class=Bd-indent><dl class=Bl-tag><dt>-2</dt><dd>(no separator)</dd><dt>-1</dt><dd>(separator after the key name)</dd><dt>0</dt><dd>(separator is optionally before the key name)</dd><dt>1</dt><dd>(same as -1)</dd></dl></div></section><section class=Ss><h2 class=Ss id=dlg_add_quoted><a class=permalink href=#dlg_add_quoted>dlg_add_quoted</a></h2> Add a quoted string to the result buffer (see <b>dlg_add_result</b>). If no quotes are necessary, none are used. If <b>dialog_vars.single_quoted</b> is set, single-quotes are used. Otherwise, double-quotes are used. <dl class=Bl-tag><dt><b>char * <i>string</i></b></dt><dd>is the string to add.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_add_result><a class=permalink href=#dlg_add_result>dlg_add_result</a></h2> Add a string to the result buffer <b>dialog_vars.input_result</b>. <dl class=Bl-tag><dt><b>char * <i>string</i></b></dt><dd>is the string to add.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_add_separator><a class=permalink href=#dlg_add_separator>dlg_add_separator</a></h2> Add an output-separator to the result buffer <b>dialog_vars.input_result</b>. If <b>dialog_vars.output_separator</b> is set, use that. Otherwise, if <b>dialog_vars.separate_output</b> is set, use newline. If neither is set, use a space. </section><section class=Ss><h2 class=Ss id=dlg_add_string><a class=permalink href=#dlg_add_string>dlg_add_string</a></h2> Add a quoted or unquoted string to the result buffer (see <b>dlg_add_quoted</b>) and <b>dlg_add_result</b>), according to whether <b>dialog_vars.quoted</b> is true. <dl class=Bl-tag><dt><b>char * <i>string</i></b></dt><dd>is the string to add.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_align_columns><a class=permalink href=#dlg_align_columns>dlg_align_columns</a></h2> Copy and reformat an array of pointers to strings, aligning according to the column separator <b>dialog_vars.column_separator</b>. If no column separator is set, the array will be unmodified; otherwise it is copied and reformatted. <dl class=Bl-tag><dt></dt><dd>Caveat: This function is only implemented for 8-bit characters.</dd></dl><dl class=Bl-tag><dt><b>char **<i>target</i></b></dt><dd>This is the array to reformat. It points to the first string to modify.</dd><dt><b>int <i>per_row</i></b></dt><dd>This is the size of the struct for each row of the array.</dd><dt><b>int <i>num_rows</i></b></dt><dd>This is the number of rows in the array.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_allocate_gauge><a class=permalink href=#dlg_allocate_gauge>dlg_allocate_gauge</a></h2> Allocates a gauge widget. Use <b>dlg_update_gauge</b> to display the result. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>percent</i></b></dt><dd>is the percentage to show in the progress bar.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_asciibox><a class=permalink href=#dlg_asciibox>dlg_asciibox</a></h2> returns its parameter transformed to the corresponding "+" or "-", etc., for the line-drawing characters used in <b>dialog</b>. If the parameter is not a line-drawing or other special character such as ACS_DARROW, it returns 0. <dl class=Bl-tag><dt><b>chtype <i>ch</i></b></dt><dd>is the parameter, usually one of the <b>ACS_</b><i>xxx</i> constants.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_attr_clear><a class=permalink href=#dlg_attr_clear>dlg_attr_clear</a></h2> Set window to the given attribute. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>int <i>height</i></b></dt><dd>is the number of rows to update.</dd><dt><b>int <i>width</i></b></dt><dd>is the number of columns to update.</dd><dt><b>chtype <i>attr</i></b></dt><dd>is the attribute, e.g., <b>A_BOLD</b>.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_auto_size><a class=permalink href=#dlg_auto_size>dlg_auto_size</a></h2> Compute window size based on the size of the formatted <i>prompt</i> and minimum dimensions for a given widget. <p class=Pp><b>Dialog</b> sets <b>dialog_state.text_height</b> and <b>dialog_state.text_width</b> for the formatted <i>prompt</i> as a side-effect.</p><p class=Pp>Normally <b>dialog</b> writes the formatted <i>prompt</i> to the curses window, but it will write the formatted <i>prompt</i> to the output stream if <b>dialog_state.text_only</b> is set.</p><dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>prompt</i></b></dt><dd>is the message text which will be displayed in the widget, used here to determine how large the widget should be.</dd></dl><dl class=Bl-tag><dt></dt><dd>If the value is <i>NULL</i>, <b>dialog</b> allows the widget to use the whole screen, i.e., if the values referenced by <i>height</i> and/or <i>width</i> are zero.</dd></dl><dl class=Bl-tag><dt><b>int * <i>height</i></b></dt><dd>is the nominal height. <b>Dialog</b> checks the referenced value and may update it:</dd></dl><div class=Bd-indent><ul class=Bl-bullet><li>if the value is negative, <b>dialog</b> updates it to the available height of the screen, after reserving rows for the window border and shadow, as well as taking into account <b>dialog_vars.begin_y</b> and <b>dialog_vars.begin_set</b>.</li><li>if the value is zero, <b>dialog</b> updates it to the required height of the window, taking into account a (possibly) multi-line <i>prompt</i>.</li><li>if the value is greater than zero, <b>dialog</b> uses it internally, but restores the value on return.</li></ul></div><dl class=Bl-tag><dt><b>int * <i>width</i></b></dt><dd>is the nominal width. <b>Dialog</b> checks the referenced value and may update it:</dd></dl><div class=Bd-indent><ul class=Bl-bullet><li>if the value is negative, <b>dialog</b> updates it to the available width of the screen, after reserving rows for the window border and shadow, as well as taking into account <b>dialog_vars.begin_x</b> and <b>dialog_vars.begin_set</b>.</li><li>if the value is zero, <b>dialog</b> updates it to the required width of the window, taking into account a (possibly) multi-line <i>prompt</i>.</li><li>if the value is greater than zero, <b>dialog</b> uses it internally, but restores the value on return.</li></ul></div><dl class=Bl-tag><dt><b>int <i>boxlines</i></b></dt><dd>is the number of lines to reserve in the vertical direction.</dd><dt><b>int <i>mincols</i></b></dt><dd>is the minimum number of columns to use.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_auto_sizefile><a class=permalink href=#dlg_auto_sizefile>dlg_auto_sizefile</a></h2> Like <b>dlg_auto_size</b>, but use a file contents to decide how large the widget should be. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>file</i></b></dt><dd>is the name of the file.</dd><dt><b>int * <i>height</i></b></dt><dd>is the nominal height.</dd></dl><dl class=Bl-tag><dt></dt><dd>If it is -1, use the screen's height (after subtracting <b>dialog_vars.begin_y</b> if <b>dialog_vars.begin_set</b> is true).</dd><dt></dt><dd>If it is greater than zero, limit the referenced value to the screen-height after verifying that the file exists.</dd></dl><dl class=Bl-tag><dt><b>int * <i>width</i></b></dt><dd>is the nominal width.</dd></dl><dl class=Bl-tag><dt></dt><dd>If it is -1, use the screen's width (after subtracting <b>dialog_vars.begin_x</b> if <b>dialog_vars.begin_set</b> is true).</dd><dt></dt><dd>If it is greater than zero, limit the referenced value to the screen-width after verifying that the file exists.</dd></dl><dl class=Bl-tag><dt><b>int <i>boxlines</i></b></dt><dd>is the number of lines to reserve on the screen for drawing boxes.</dd><dt><b>int <i>mincols</i></b></dt><dd>is the number of columns to reserve on the screen for drawing boxes.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_beeping><a class=permalink href=#dlg_beeping>dlg_beeping</a></h2> If <b>dialog_vars.beep_signal</b> is nonzero, this calls <b>beep</b> once and sets <b>dialog_vars.beep_signal</b> to zero. </section><section class=Ss><h2 class=Ss id=dlg_boxchar><a class=permalink href=#dlg_boxchar>dlg_boxchar</a></h2> returns its <b>chtype</b> parameter transformed as follows: <ul class=Bl-bullet><li>if neither <b>dialog_vars.ascii_lines</b> nor <b>dialog_vars.no_lines</b> is set.</li><li>if <b>dialog_vars.ascii_lines</b> is set, returns the corresponding "+" or "-", etc., for the line-drawing characters used in <b>dialog</b>.</li><li>otherwise, if <b>dialog_vars.no_lines</b> is set, returns a space for the line-drawing characters.</li><li>if the parameter is not a line-drawing or other special character such as ACS_DARROW, it returns the parameter unchanged.</li></ul></section><section class=Ss><h2 class=Ss id=dlg_box_x_ordinate><a class=permalink href=#dlg_box_x_ordinate>dlg_box_x_ordinate</a></h2> returns a suitable x-ordinate (column) for a new widget. If <b>dialog_vars.begin_set</b> is 1, use <b>dialog_vars.begin_x</b>; otherwise center the widget on the screen (using the <i>width</i> parameter). <dl class=Bl-tag><dt><b>int <i>width</i></b></dt><dd>is the width of the widget.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_box_y_ordinate><a class=permalink href=#dlg_box_y_ordinate>dlg_box_y_ordinate</a></h2> returns a suitable y-ordinate (row) for a new widget. If <b>dialog_vars.begin_set</b> is 1, use <b>dialog_vars.begin_y</b>; otherwise center the widget on the screen (using the <i>height</i> parameter). <dl class=Bl-tag><dt><b>int <i>height</i></b></dt><dd>is the height of the widget.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_buildlist><a class=permalink href=#dlg_buildlist>dlg_buildlist</a></h2> This is an alternate interface to the <b>buildlist</b> widget which allows the application to read the list item states back directly without putting them in the output buffer. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>list_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>DIALOG_LISTITEM * <i>items</i></b></dt><dd>is the list of items, contain tag, name, and optionally help strings (if <b>dialog_vars.item_help</b> is set). The initial selection state for each item is also in this list.</dd><dt><b>const char * <i>states</i></b></dt><dd>This is a list of characters to display for the given states. Normally a buildlist provides true (1) and false (0) values, which the widget displays as "*" and space, respectively. An application may set this parameter to an arbitrary null-terminated string. The widget determines the number of states from the length of this string, and will cycle through the corresponding display characters as the user presses the space-bar.</dd><dt><b>int <i>order_mode</i></b></dt><dd>is reserved for future enhancements</dd><dt><b>int * <i>current_item</i></b></dt><dd>The widget sets the referenced location to the index of the current display item (cursor) when it returns.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_button_count><a class=permalink href=#dlg_button_count>dlg_button_count</a></h2> Count the buttons in the list. <dl class=Bl-tag><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_button_key><a class=permalink href=#dlg_button_key>dlg_button_key</a></h2> If a key was bound to one of the button-codes in <b>dlg_result_key</b>, fake a button-value and an “Cancel” key to cause the calling widget to return the corresponding status. <p class=Pp>See <b>dlg_ok_buttoncode</b>, which maps settings for ok/extra/help and button number into exit-code.</p></section><section class=Ss><h2 class=Ss id=dlg_button_layout><a class=permalink href=#dlg_button_layout>dlg_button_layout</a></h2> Make sure there is enough space for the buttons by computing the width required for their labels, adding margins and limiting based on the screen size. <dl class=Bl-tag><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd><dt><b>int * <i>limit</i></b></dt><dd>the function sets the referenced <i>limit</i> to the width required for the buttons (limited by the screen size) if that is wider than the passed-in limit.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_button_sizes><a class=permalink href=#dlg_button_sizes>dlg_button_sizes</a></h2> Compute the size of the button array in columns. <dl class=Bl-tag><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd><dt><b>int <i>vertical</i></b></dt><dd>is true if the buttons are arranged in a column rather than a row.</dd><dt><b>int * <i>longest</i></b></dt><dd>Return the total number of columns in the referenced location.</dd><dt><b>int * <i>length</i></b></dt><dd>Return the longest button's columns in the referenced location.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_button_to_char><a class=permalink href=#dlg_button_to_char>dlg_button_to_char</a></h2> Find the first uppercase character in the label, which we may use for an abbreviation. If the label is empty, return -1. If no uppercase character is found, return 0. Otherwise return the uppercase character. <p class=Pp>Normally <b>dlg_draw_buttons</b> and <b>dlg_char_to_button</b> use the first uppercase character. However, they keep track of all of the labels and if the first has already been used in another label, they will continue looking for another uppercase character. This function does not have enough information to make that check.</p><dl class=Bl-tag><dt><b>const char * <i>label</i></b></dt><dd>is the label to test.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_button_x_step><a class=permalink href=#dlg_button_x_step>dlg_button_x_step</a></h2> Compute the step-size needed between elements of the button array. <dl class=Bl-tag><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd><dt><b>int <i>limit</i></b></dt><dd>is the maximum number of columns to allow for the buttons.</dd><dt><b>int * <i>gap</i></b></dt><dd>store the nominal gap between buttons in the referenced location. This is constrained to be at least one.</dd><dt><b>int * <i>margin</i></b></dt><dd>store the left+right total margins (for the list of buttons) in the referenced location.</dd><dt><b>int * <i>step</i></b></dt><dd>store the step-size in the referenced location.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_calc_list_width><a class=permalink href=#dlg_calc_list_width>dlg_calc_list_width</a></h2> Calculate the minimum width for the list, assuming none of the items are truncated. <dl class=Bl-tag><dt><b>int <i>item_no</i></b></dt><dd>is the number of <i>items</i>.</dd><dt><b>DIALOG_LISTITEM * <i>items</i></b></dt><dd>contains a <i>name</i> and <i>text</i> field, e.g., for checklists or radiobox lists. The function returns the sum of the widest columns needed for of each of these fields.</dd></dl><dl class=Bl-tag><dt></dt><dd>If <b>dialog_vars.no_items</b> is set, the <i>text</i> fields in the list are ignored.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_calc_listh><a class=permalink href=#dlg_calc_listh>dlg_calc_listh</a></h2> Calculate new height and list_height values. <dl class=Bl-tag><dt><b>int * <i>height</i></b></dt><dd>on input, is the height without adding the list-height. On return, this contains the total list-height and is the actual widget's height.</dd><dt><b>int * <i>list_height</i></b></dt><dd>on input, is the requested list-height. On return, this contains the number of rows available for displaying the list after taking into account the screen size and the <b>dialog_vars.begin_set</b> and <b>dialog_vars.begin_y</b> variables.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of <i>items</i> in the list.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_calc_listw><a class=permalink href=#dlg_calc_listw>dlg_calc_listw</a></h2> This function is obsolete, provided for library-compatibility. It is replaced by <b>dlg_calc_list_width</b>. <dl class=Bl-tag><dt><b>int <i>item_no</i></b></dt><dd>is the number of <i>items</i>.</dd><dt><b>char ** <i>items</i></b></dt><dd>is a list of character pointers.</dd><dt><b>int <i>group</i></b></dt><dd>is the number of items in each group, e.g., the second array index.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_char_to_button><a class=permalink href=#dlg_char_to_button>dlg_char_to_button</a></h2> Given a list of button labels, and a character which may be the abbreviation for one, find it, if it exists. An abbreviation will be the first character which happens to be capitalized in the label. If the character is found, return its index within the list of <i>labels</i>. Otherwise, return <b>DLG_EXIT_UNKNOWN</b>. <dl class=Bl-tag><dt><b>int <i>ch</i></b></dt><dd>is the character to find.</dd><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_checklist><a class=permalink href=#dlg_checklist>dlg_checklist</a></h2> This entrypoint provides the <b>--checklist</b> or <b>--radiolist</b> functionality without the limitations of <b>dialog</b>'s command-line syntax (compare to <b>dialog_checklist</b>). <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>list_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of <i>items</i>.</dd><dt><b>DIALOG_LISTITEM * <i>items</i></b></dt><dd>This is a list of the items to display in the checklist.</dd><dt><b>const char * <i>states</i></b></dt><dd>This is a list of characters to display for the given states. Normally a checklist provides true (1) and false (0) values, which the widget displays as "*" and space, respectively. An application may set this parameter to an arbitrary null-terminated string. The widget determines the number of states from the length of this string, and will cycle through the corresponding display characters as the user presses the space-bar.</dd><dt><b>int <i>flag</i></b></dt><dd>This is should be one of <b>FLAG_CHECK</b> or <b>FLAG_RADIO</b>, depending on whether the widget should act as a checklist or radiobox.</dd><dt><b>int * <i>current_item</i></b></dt><dd>The widget sets the referenced location to the index of the current display item (cursor) when it returns.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_check_scrolled><a class=permalink href=#dlg_check_scrolled>dlg_check_scrolled</a></h2> given a function key (or other key that was mapped to a function key), check if it is one of the up/down scrolling functions: <p class=Pp></p><div class=Bd-indent>DLGK_PAGE_FIRST, <br> DLGK_PAGE_LAST, <br> DLGK_GRID_UP, <br> DLGK_GRID_DOWN, <br> DLGK_PAGE_PREV or <br> DLGK_PAGE_NEXT.</div><br><p class=Pp>Some widgets use these key bindings for scrolling the prompt-text up and down, to allow for display in very small windows.</p><p class=Pp>The function returns 0 (zero) if it finds one of these keys, and -1 if not.</p><dl class=Bl-tag><dt><b>int <i>key</i></b></dt><dd>is the function-key to check</dd><dt><b>int <i>last</i></b></dt><dd>is the number of lines which would be used to display the scrolled prompt in an arbitrarily tall window. It is used here to check limits for the <i>offset</i> value.</dd><dt><b>int <i>page</i></b></dt><dd>this is the available height for writing scrolled text, which is smaller than the window if it contains buttons.</dd><dt><b>bool * <i>show</i></b></dt><dd>on return, holds TRUE if <b>dlg_print_scrolled</b> should be used to redisplay the prompt text.</dd><dt><b>int * <i>offset</i></b></dt><dd>on entry, holds the starting line number (counting from zero) last used for <b>dlg_print_scrolled</b>. On return, holds the updated starting line number.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_clear><a class=permalink href=#dlg_clear>dlg_clear</a></h2> Set window to the default <b>dialog</b> screen attribute. This is set in the rc-file with <b>screen_color</b>. </section><section class=Ss><h2 class=Ss id=dlg_clr_result><a class=permalink href=#dlg_clr_result>dlg_clr_result</a></h2> Free storage used for the result buffer (<b>dialog_vars.input_result</b>). The corresponding pointer is set to NULL. </section><section class=Ss><h2 class=Ss id=dlg_color_count><a class=permalink href=#dlg_color_count>dlg_color_count</a></h2> Return the number of colors that can be configured in <b>dialog</b>. </section><section class=Ss><h2 class=Ss id=dlg_color_setup><a class=permalink href=#dlg_color_setup>dlg_color_setup</a></h2> Initialize the color pairs used in <b>dialog</b>. </section><section class=Ss><h2 class=Ss id=dlg_count_argv><a class=permalink href=#dlg_count_argv>dlg_count_argv</a></h2> Count the entries in an argument vector. <dl class=Bl-tag><dt><b>argv</b></dt><dd>Points to the argument vector.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_count_columns><a class=permalink href=#dlg_count_columns>dlg_count_columns</a></h2> Returns the number of columns used for a string. This is not necessarily the number of bytes in a string. <dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the string to measure.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_count_real_columns><a class=permalink href=#dlg_count_real_columns>dlg_count_real_columns</a></h2> Returns the number of columns used for a string, accounting for "\Z" sequences which can be used for coloring the text if <b>dialog_vars.colors</b> is set. This is not necessarily the number of bytes in a string. <dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the string to measure.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_count_wchars><a class=permalink href=#dlg_count_wchars>dlg_count_wchars</a></h2> Returns the number of wide-characters in the string. <dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the string to measure.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_create_rc><a class=permalink href=#dlg_create_rc>dlg_create_rc</a></h2> Create a configuration file, i.e., write internal tables to a file which can be read back by <b>dialog</b> as an rc-file. <dl class=Bl-tag><dt><b>const char * <i>filename</i></b></dt><dd>is the name of the file to write to.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_ctl_size><a class=permalink href=#dlg_ctl_size>dlg_ctl_size</a></h2> If <b>dialog_vars.size_err</b> is true, check if the given window size is too large to fit on the screen. If so, exit with an error reporting the size of the window. <dl class=Bl-tag><dt><b>int <i>height</i></b></dt><dd>is the window's height</dd><dt><b>int <i>width</i></b></dt><dd>is the window's width</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_default_button><a class=permalink href=#dlg_default_button>dlg_default_button</a></h2> If <b>dialog_vars.default_button</b> is positive, return the button-index for that button code, using <b>dlg_ok_buttoncode</b> to test indices starting with zero. Otherwise (or if no match was found for the button code), return zero. </section><section class=Ss><h2 class=Ss id=dlg_default_formitem><a class=permalink href=#dlg_default_formitem>dlg_default_formitem</a></h2> If <b>dialog_vars.default_item</b> is not null, find that name by matching the <i>name</i> field in the list of form <i>items</i>. If found, return the index of that item in the list. Otherwise, return zero. <dl class=Bl-tag><dt><b>DIALOG_FORMITEM * <i>items</i></b></dt><dd>is the list of items to search. It is terminated by an entry with a null <i>name</i> field.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_default_item><a class=permalink href=#dlg_default_item>dlg_default_item</a></h2> This function is obsolete, provided for library-compatibility. It is replaced by <b>dlg_default_formitem</b> and <b>dlg_default_listitem</b>. <dl class=Bl-tag><dt><b>char ** <i>items</i></b></dt><dd>is the list of items to search.</dd><dt><b>int <i>llen</i></b></dt><dd>is the number of items in each group, e.g., the second array index.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_defaultno_button><a class=permalink href=#dlg_defaultno_button>dlg_defaultno_button</a></h2> If <b>dialog_vars.defaultno</b> is true, and <b>dialog_vars.nocancel</b> is not, find the button-index for the “Cancel” button. Otherwise, return the index for “OK” (always zero). </section><section class=Ss><h2 class=Ss id=dlg_del_window><a class=permalink href=#dlg_del_window>dlg_del_window</a></h2> Remove a window, repainting everything else. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to remove.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_der_window><a class=permalink href=#dlg_der_window>dlg_der_window</a></h2> create a derived window, e.g., for an input area of a widget <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the parent window</dd><dt><b>int <i>height</i></b></dt><dd>is the subwindow's height</dd><dt><b>int <i>width</i></b></dt><dd>is the subwindow's width</dd><dt><b>int <i>y</i></b></dt><dd>is the subwindow's top-row</dd><dt><b>int <i>x</i></b></dt><dd>is the subwindow's left-column</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_does_output><a class=permalink href=#dlg_does_output>dlg_does_output</a></h2> This is called each time a widget is invoked which may do output. It increments <b>dialog_state.output_count</b>, so the output function in <b>dialog</b> can test this and add a separator. </section><section class=Ss><h2 class=Ss id=dlg_draw_arrows><a class=permalink href=#dlg_draw_arrows>dlg_draw_arrows</a></h2> Draw up/down arrows on a window, e.g., for scrollable lists. It calls <b>dlg_draw_arrows2</b> using the <i>menubox_color</i> and <i>menubox_border_color</i> attributes. <dl class=Bl-tag><dt><b>WINDOW * <i>dialog</i></b></dt><dd>is the window on which to draw an arrow.</dd><dt><b>int <i>top_arrow</i></b></dt><dd>is true if an up-arrow should be drawn at the top of the window.</dd><dt><b>int <i>bottom_arrow</i></b></dt><dd>is true if an down-arrow should be drawn at the bottom of the window.</dd><dt><b>int <i>x</i></b></dt><dd>is the zero-based column within the window on which to draw arrows.</dd><dt><b>int <i>top</i></b></dt><dd>is the zero-based row within the window on which to draw up-arrows as well as a horizontal line to show the window's top.</dd><dt><b>int <i>bottom</i></b></dt><dd>is the zero-based row within the window on which to draw down-arrows as well as a horizontal line to show the window's bottom.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_arrows2><a class=permalink href=#dlg_draw_arrows2>dlg_draw_arrows2</a></h2> Draw up/down arrows on a window, e.g., for scrollable lists. <dl class=Bl-tag><dt><b>WINDOW * <i>dialog</i></b></dt><dd>is the window on which to draw an arrow.</dd><dt><b>int <i>top_arrow</i></b></dt><dd>is true if an up-arrow should be drawn at the top of the window.</dd><dt><b>int <i>bottom_arrow</i></b></dt><dd>is true if an down-arrow should be drawn at the bottom of the window.</dd><dt><b>int <i>x</i></b></dt><dd>is the zero-based column within the window on which to draw arrows.</dd><dt><b>int <i>top</i></b></dt><dd>is the zero-based row within the window on which to draw up-arrows as well as a horizontal line to show the window's top.</dd><dt><b>int <i>bottom</i></b></dt><dd>is the zero-based row within the window on which to draw down-arrows as well as a horizontal line to show the window's bottom.</dd><dt><b>chtype <i>attr</i></b></dt><dd>is the window's background attribute.</dd><dt><b>chtype <i>borderattr</i></b></dt><dd>is the window's border attribute.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_bottom_box><a class=permalink href=#dlg_draw_bottom_box>dlg_draw_bottom_box</a></h2> Draw a partial box at the bottom of a window, e.g., to surround a row of buttons. It is designed to merge with an existing box around the whole window (see <b>dlg_draw_box</b>), so it uses tee-elements rather than corner-elements on the top corners of this box. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_bottom_box2><a class=permalink href=#dlg_draw_bottom_box2>dlg_draw_bottom_box2</a></h2> Draw a partial box at the bottom of a window, e.g., to surround a row of buttons. It is designed to merge with an existing box around the whole window (see <b>dlg_draw_box2</b>), so it uses tee-elements rather than corner-elements on the top corners of this box. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>chtype <i>on_left</i></b></dt><dd>is used to color the upper/left edges of the box, i.e., the tee-element and horizontal line</dd><dt><b>chtype <i>on_right</i></b></dt><dd>is used to color the right edge of the box, i.e., the tee-element</dd><dt><b>chtype <i>on_inside</i></b></dt><dd>is used to fill-color the inside of the box</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_box><a class=permalink href=#dlg_draw_box>dlg_draw_box</a></h2> Draw a rectangular box with line drawing characters. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>int <i>y</i></b></dt><dd>is the top row of the box.</dd><dt><b>int <i>x</i></b></dt><dd>is the left column of the box.</dd><dt><b>int <i>height</i></b></dt><dd>is the height of the box.</dd><dt><b>int <i>width</i></b></dt><dd>is the width of the box.</dd><dt><b>chtype <i>boxchar</i></b></dt><dd>is used to color the right/lower edges. It also is fill-color used for the box contents.</dd><dt><b>chtype <i>borderchar</i></b></dt><dd>is used to color the upper/left edges.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_box2><a class=permalink href=#dlg_draw_box2>dlg_draw_box2</a></h2> Draw a rectangular box with line drawing characters. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>int <i>y</i></b></dt><dd>is the top row of the box.</dd><dt><b>int <i>x</i></b></dt><dd>is the left column of the box.</dd><dt><b>int <i>height</i></b></dt><dd>is the height of the box.</dd><dt><b>int <i>width</i></b></dt><dd>is the width of the box.</dd><dt><b>chtype <i>boxchar</i></b></dt><dd>is used to fill-color for the box contents.</dd><dt><b>chtype <i>borderchar</i></b></dt><dd>is used to color the upper/left edges.</dd><dt><b>chtype <i>borderchar2</i></b></dt><dd>is used to color the right/lower edges.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_buttons><a class=permalink href=#dlg_draw_buttons>dlg_draw_buttons</a></h2> Print a list of buttons at the given position. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>int <i>y</i></b></dt><dd>is the starting row.</dd><dt><b>int <i>x</i></b></dt><dd>is the starting column.</dd><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd><dt><b>int <i>selected</i></b></dt><dd>is the index within the list of the selected button.</dd><dt><b>int <i>vertical</i></b></dt><dd>is true if the buttons are arranged in a column rather than a row.</dd><dt><b>int <i>limit</i></b></dt><dd>is the number of columns (or rows if <i>vertical</i>) allowed for the display.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_helpline><a class=permalink href=#dlg_draw_helpline>dlg_draw_helpline</a></h2> draw the text in <b>dialog_vars.help_line</b> at the bottom of the given window. <dl class=Bl-tag><dt><b>WINDOW * <i>dialog</i></b></dt><dd>is the window to modify.</dd><dt><b>bool <i>decorations</i></b></dt><dd>if true, allow room for the scrolling arrows.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_scrollbar><a class=permalink href=#dlg_draw_scrollbar>dlg_draw_scrollbar</a></h2> If <b>dialog_state.use_scrollbar</b> is set, draw a scrollbar on the right margin of windows holding scrollable data. Also (whether or not the scrollbar is drawn), annotate the bottom margin of the window with the percentage of data by the bottom of that window, and call <b>dlg_draw_arrows2</b> to put markers on the window showing when more data is available. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window in which the data is scrolled. Because <i>left</i>, <i>right</i>, <i>top</i>, <i>bottom</i> are passed as parameters, this window can contain additional data.</dd><dt><b>long <i>first_data</i></b></dt><dd>is the zero-based index to the first row of data in the current window.</dd><dt><b>long <i>this_data</i></b></dt><dd>is the zero-based index to the current row of data.</dd><dt><b>long <i>next_data</i></b></dt><dd>is the zero-based index to the next data after the current row.</dd><dt><b>long <i>total_data</i></b></dt><dd>is the total number of rows of data.</dd><dt><b>int <i>left</i></b></dt><dd>is the zero-based left margin/column of the window. The up/down arrows are draw inset by 5 columns from this point.</dd><dt><b>int <i>right</i></b></dt><dd>is the zero-based right margin/column of the window. The scrollbar is drawn flush against this column.</dd><dt><b>int <i>top</i></b></dt><dd>is the zero-based row within the window on which to draw up-arrows as well as a horizontal line to show the window's top.</dd><dt><b>int <i>bottom</i></b></dt><dd>is the zero-based row within the window on which to draw down-arrows as well as a horizontal line to show the window's bottom.</dd><dt><b>chtype <i>attr</i></b></dt><dd>is the window's background attribute.</dd><dt><b>chtype <i>borderattr</i></b></dt><dd>is the window's border attribute.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_shadow><a class=permalink href=#dlg_draw_shadow>dlg_draw_shadow</a></h2> Draw shadows along the right and bottom edge of a window to give it a 3-dimensional look. (The height, etc., may not be the same as the window's actual values). <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>int <i>height</i></b></dt><dd>is the height of the window.</dd><dt><b>int <i>width</i></b></dt><dd>is the width of the window.</dd><dt><b>int <i>y</i></b></dt><dd>is the top row of the window.</dd><dt><b>int <i>x</i></b></dt><dd>is the left column of the window.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_draw_title><a class=permalink href=#dlg_draw_title>dlg_draw_title</a></h2> Draw a title centered at the top of the window. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_dummy_menutext><a class=permalink href=#dlg_dummy_menutext>dlg_dummy_menutext</a></h2> This is a utility function which supports the <b>--inputmenu</b> option of the <b>dialog</b> program. If <b>dialog_vars.input_menu</b> is set, <b>dialog_menu</b> passes this pointer to <b>dlg_menu</b> as the <i>rename_menutext</i> parameter. Otherwise, it passes <b>dlg_dummy_menutext</b>. <p class=Pp>The function should only return <b>DLG_EXIT_ERROR</b>.</p><dl class=Bl-tag><dt><b>DIALOG_LISTITEM * <i>items</i></b></dt><dd>is the list of menu items</dd><dt><b>int <i>current</i></b></dt><dd>is the index of the currently-selected item</dd><dt><b>char * <i>newtext</i></b></dt><dd>is the updated text for the menu item</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_dump_keys><a class=permalink href=#dlg_dump_keys>dlg_dump_keys</a></h2> Write all user-defined key-bindings to the given stream, e.g., as part of <b>dlg_create_rc</b>. <dl class=Bl-tag><dt><b>FILE * <i>fp</i></b></dt><dd>is the stream on which to write the bindings.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_dump_window_keys><a class=permalink href=#dlg_dump_window_keys>dlg_dump_window_keys</a></h2> Write all user-defined key-bindings to the given stream, e.g., as part of <b>dlg_create_rc</b>. <dl class=Bl-tag><dt><b>FILE * <i>fp</i></b></dt><dd>is the stream on which to write the bindings.</dd><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window for which bindings should be dumped. If it is null, then only built-in bindings are dumped.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_eat_argv><a class=permalink href=#dlg_eat_argv>dlg_eat_argv</a></h2> Remove one or more items from an argument vector. <dl class=Bl-tag><dt><b>int * <i>argcp</i></b></dt><dd>in/out parameter giving the length of the argument vector. <b>char *** <i>argvp</i></b><i>in/out parameter pointing to the argument vector.</i><b>int <i>start</i></b><i>starting index.</i><b>int <i>count</i></b><i>number of arguments to remove.</i></dd></dl></section><section class=Ss><h2 class=Ss id=dlg_edit_offset><a class=permalink href=#dlg_edit_offset>dlg_edit_offset</a></h2> Given the character-offset in the string, returns the display-offset where <b>dialog</b> should position the cursor. In this context, “characters” may be multicolumn, since the string can be a multibyte character string. <dl class=Bl-tag><dt><b>char * <i>string</i></b></dt><dd>is the string to analyze</dd><dt><b>int <i>offset</i></b></dt><dd>is the character-offset</dd><dt><b>int <i>x_last</i></b></dt><dd>is a limit on the column positions that can be used, e.g., the window's size.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_edit_string><a class=permalink href=#dlg_edit_string>dlg_edit_string</a></h2> Updates the string and character-offset, given various editing characters or literal characters which are inserted at the character-offset. Returns true if an editing change was made (and the display should be updated), and false if the key was something like <b>KEY_ENTER</b>, which is a non-editing action outside this function. <dl class=Bl-tag><dt><b>char * <i>string</i></b></dt><dd>is the (multibyte) string to update</dd><dt><b>int * <i>offset</i></b></dt><dd>is the character-offset</dd><dt><b>int <i>key</i></b></dt><dd>is the editing key</dd><dt><b>int <i>fkey</i></b></dt><dd>is true if the editing key is a function-key</dd><dt><b>bool <i>force</i></b></dt><dd>is used in a special loop case by calling code to force the return value of this function when a function-key code 0 is passed in.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_exit><a class=permalink href=#dlg_exit>dlg_exit</a></h2> Given an internal exit code, check if the corresponding environment variable is set. If so, remap the exit code to match the environment variable. Finally call <b>exit</b> with the resulting exit code. <dl class=Bl-tag><dt><b>int <i>code</i></b></dt><dd>is the internal exit code, e.g., <b>DLG_EXIT_OK</b>, which may be remapped.</dd></dl><p class=Pp>The <b>dialog</b> program uses this function to allow shell scripts to remap the exit codes so they can distinguish ESC from ERROR.</p></section><section class=Ss><h2 class=Ss id=dlg_exitcode2s><a class=permalink href=#dlg_exitcode2s>dlg_exitcode2s</a></h2> Returns the name of an exit-code, e.g., “OK” for <b>DLG_EXIT_OK</b>. <dl class=Bl-tag><dt><b>int <i>code</i></b></dt><dd>is an exit-code for <b>dialog</b> as defined in <b>&lt;dialog.h&gt;</b>.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_exitname2n><a class=permalink href=#dlg_exitname2n>dlg_exitname2n</a></h2> Returns an exit-code as the reverse of <b>dlg_exitcode2n</b>, e.g., 0 (<b>DLG_EXIT_OK</b>) for the “OK” string. <dl class=Bl-tag><dt><b>const char * <i>name</i></b></dt><dd>is the name of an exit-code for <b>dialog</b> as defined in <b>&lt;dialog.h&gt;</b> but omitting the “DLG_EXIT_” prefix.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_exit_buttoncode><a class=permalink href=#dlg_exit_buttoncode>dlg_exit_buttoncode</a></h2> Map the given button index for <b>dlg_exit_label</b> into <b>dialog</b>'s exit-code. <dl class=Bl-tag><dt><b>int <i>button</i></b></dt><dd>is the button index</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_exit_label><a class=permalink href=#dlg_exit_label>dlg_exit_label</a></h2> Return a list of button labels. If <b>dialog_vars.extra_button</b> is true, return the result of <b>dlg_ok_labels</b>. Otherwise, return a list with the “Exit” label and (if <b>dialog_vars.help_button</b> is set) the “Help” button as well. </section><section class=Ss><h2 class=Ss id=dlg_exiterr><a class=permalink href=#dlg_exiterr>dlg_exiterr</a></h2> Quit program killing all <b>tailboxbg</b> widgets. <dl class=Bl-tag><dt><b>const char * <i>fmt</i></b></dt><dd>is the format of the <b>printf</b>-like message to write.</dd><dt><b>...</b></dt><dd><br> are the variables to apply to the <i>fmt</i> format.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_find_index><a class=permalink href=#dlg_find_index>dlg_find_index</a></h2> Given the character-offset to find in the list, return the corresponding array index. <dl class=Bl-tag><dt><b>const int *<i>list</i></b></dt><dd>contains a list of character-offsets, i.e., indices into a string that denote the beginning of multibyte characters.</dd><dt><b>int <i>limit</i></b></dt><dd>is the last index into <b>list</b> to search.</dd><dt><b>int <i>to_find</i></b></dt><dd>is the character-offset to find.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_finish_string><a class=permalink href=#dlg_finish_string>dlg_finish_string</a></h2> If <i>DIALOG_STATE.finish_string</i> is true, this function discards data used to speed up layout computations. <dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the address of the string whose data should be discarded. The address rather than contents is used as the unique identifier because some of the caching is used for editable input-fields.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_flush_getc><a class=permalink href=#dlg_flush_getc>dlg_flush_getc</a></h2> Cancel the local data saved by <b>dlg_last_getc</b>. </section><section class=Ss><h2 class=Ss id=dlg_editbox><a class=permalink href=#dlg_editbox>dlg_editbox</a></h2> This entrypoint provides the <b>--editbox</b> functionality without the limitations of <b>dialog</b>'s command-line syntax (compare to <b>dialog_editbox</b>). <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>char *** <i>list</i></b></dt><dd>is a pointer to an array of <b>char *</b> pointers. The array is allocated by the caller, and so are the strings to which it points. The <b>dlg_editbox</b> function may reallocate the array and the strings.</dd><dt><b>int * <i>rows</i></b></dt><dd>points to the nominal length of <i>list</i>. The referenced value is updated if<i>list</i> is reallocated.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_form><a class=permalink href=#dlg_form>dlg_form</a></h2> This entrypoint provides the <b>--form</b> functionality without the limitations of <b>dialog</b>'s command-line syntax (compare to <b>dialog_form</b>). <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>form_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of <i>items</i>.</dd><dt><b>DIALOG_FORMITEM * <i>items</i></b></dt><dd>This is a list of the items to display in the form.</dd><dt><b>int * <i>current_item</i></b></dt><dd>The widget sets the referenced location to the index of the current display item (cursor) when it returns.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_free_columns><a class=permalink href=#dlg_free_columns>dlg_free_columns</a></h2> Free data allocated by <b>dlg_align_columns</b>. <dl class=Bl-tag><dt><b>char **<i>target</i></b></dt><dd>This is the array which was reformatted. It points to the first string to free.</dd><dt><b>int <i>per_row</i></b></dt><dd>This is the size of the struct for each row of the array.</dd><dt><b>int <i>num_rows</i></b></dt><dd>This is the number of rows in the array.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_free_formitems><a class=permalink href=#dlg_free_formitems>dlg_free_formitems</a></h2> Free memory owned by a list of DIALOG_FORMITEM's. <dl class=Bl-tag><dt><b>DIALOG_FORMITEM * <i>items</i></b></dt><dd>is the list to free.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_free_gauge><a class=permalink href=#dlg_free_gauge>dlg_free_gauge</a></h2> Remove the gauge widget from the screen and free its associated memory. <dl class=Bl-tag><dt><b>void *<i>objptr</i></b></dt><dd>points to the gauge widget.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_getc><a class=permalink href=#dlg_getc>dlg_getc</a></h2> Read a character from the given window. Handle repainting here (to simplify things in the calling application). Also, if input-callback(s) are set up, poll the corresponding files and handle the updates, e.g., for displaying a tailbox. Returns the key-code. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window within which to read.</dd><dt><b>int * <i>fkey</i></b></dt><dd>as a side-effect, set this to true if the key-code is really a function-key.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_getenv_num><a class=permalink href=#dlg_getenv_num>dlg_getenv_num</a></h2> Get a number from the environment: <ul class=Bl-bullet><li>If the caller provides a pointer in the second parameter, return success/failure for the function return, and the actual value via the pointer. Use this for decoding arbitrary numbers, e.g., negative or zero.</li><li>If the caller does not provide a pointer, return the decoded value for the function-return. Use this when only values greater than zero are useful.</li></ul><dl class=Bl-tag><dt><b>char * <i>name</i></b></dt><dd>is the name of the environment-variable to retrieve.</dd><dt><b>int * <i>value</i></b></dt><dd>is the optional pointer to a return-value.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_getenv_str><a class=permalink href=#dlg_getenv_str>dlg_getenv_str</a></h2> Get a string from the environment, rejecting those which are entirely blank. <dl class=Bl-tag><dt><b>char * <i>name</i></b></dt><dd>is the name of the environment-variable to retrieve.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_get_attrs><a class=permalink href=#dlg_get_attrs>dlg_get_attrs</a></h2> extract the video attributes from the given window. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window from which to get attributes.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_getc_callbacks><a class=permalink href=#dlg_getc_callbacks>dlg_getc_callbacks</a></h2> passes the given key-code <i>ch</i> to the current window that has established a callback. If the callback returns zero, remove it and try the next window. If no more callbacks remain, return. If any callbacks were found, return true, otherwise false. <dl class=Bl-tag><dt><b>int <i>ch</i></b></dt><dd>is the key-code</dd><dt><b>int <i>fkey</i></b></dt><dd>is true if the key is a function-key</dd><dt><b>int * <i>result</i></b></dt><dd>is used to pass an exit-code to the caller, which should pass that via <b>dlg_exit</b>.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_index_columns><a class=permalink href=#dlg_index_columns>dlg_index_columns</a></h2> Build a list of the display-columns for the given multibyte string's characters. <dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the string to analyze</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_index_wchars><a class=permalink href=#dlg_index_wchars>dlg_index_wchars</a></h2> Build an index of the wide-characters in the string, so the caller can easily tell which byte-offset begins a given wide-character. <dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the string to analyze</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_item_help><a class=permalink href=#dlg_item_help>dlg_item_help</a></h2> Draw the string for the <b>dialog_vars.item_help</b> feature. <dl class=Bl-tag><dt><b>const char * <i>txt</i></b></dt><dd>is the help-message</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_keep_tite><a class=permalink href=#dlg_keep_tite>dlg_keep_tite</a></h2> This performs the check and modifications for the command-line option "<b>--keep-tite</b>", used in <b>init_dialog</b> as well as for the command-line option <b>--erase-on-exit</b>. <dl class=Bl-tag><dt><b>FILE * <i>output</i></b></dt><dd>is the output stream used for displaying widgets. It is either <i>stdout</i> or <i>stderr</i>, depending on the <b>--stdout</b> option.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_killall_bg><a class=permalink href=#dlg_killall_bg>dlg_killall_bg</a></h2> If <b>dialog</b> has callbacks active, purge the list of all that are not marked to keep in the background. If any remain, run those in a background process. <dl class=Bl-tag><dt><b>int * <i>retval</i></b></dt><dd>stores the exit-code to pass back to the caller.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_last_getc><a class=permalink href=#dlg_last_getc>dlg_last_getc</a></h2> returns the most recent character that was read via <b>dlg_getc</b>. </section><section class=Ss><h2 class=Ss id=dlg_limit_columns><a class=permalink href=#dlg_limit_columns>dlg_limit_columns</a></h2> Given a column limit, count the number of wide characters that can fit into that limit. The offset is used to skip over a leading character that was already written. <dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the string to analyze</dd><dt><b>int <i>limit</i></b></dt><dd>is the column limit</dd><dt><b>int <i>offset</i></b></dt><dd>is the starting offset from which analysis should continue</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_lookup_key><a class=permalink href=#dlg_lookup_key>dlg_lookup_key</a></h2> Check for a key-binding. If there is no binding associated with the widget, it simply returns the given curses-key. Otherwise, it returns the result of the binding <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window on which the binding is checked</dd><dt><b>int <i>curses_key</i></b></dt><dd>is the curses key-code</dd><dt><b>int * <i>dialog_key</i></b></dt><dd>is the corresponding <b>dialog</b> internal code (see <b>DLG_KEYS_ENUM</b> in dlg_key.h).</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_max_input><a class=permalink href=#dlg_max_input>dlg_max_input</a></h2> Limit the parameter according to <b>dialog_vars.max_input</b><dl class=Bl-tag><dt><b>int <i>max_len</i></b></dt><dd>is the value to limit</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_match_char><a class=permalink href=#dlg_match_char>dlg_match_char</a></h2> Match a given character against the beginning of the string, ignoring case of the given character. The matching string must begin with an uppercase character. <dl class=Bl-tag><dt><b>int <i>ch</i></b></dt><dd>is the character to check</dd><dt><b>const char * <i>string</i></b></dt><dd>is the string to search</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_menu><a class=permalink href=#dlg_menu>dlg_menu</a></h2> This entrypoint provides the <b>--menu</b> functionality without the limitations of <b>dialog</b>'s command-line syntax (compare to <b>dialog_menu</b>). <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>menu_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of <i>items</i>.</dd><dt><b>DIALOG_LISTITEM * <i>items</i></b></dt><dd>This is a list of the items to display in the form.</dd><dt><b>int * <i>current_item</i></b></dt><dd>The widget sets the referenced location to the index of the current display item (cursor) when it returns.</dd><dt><b>DIALOG_INPUTMENU <i>rename_menutext</i></b></dt><dd>If this is not <b>dlg_dummy_menutext</b>, the widget acts like an <i>inputmenu</i> widget, providing an extra “Rename” button, which activates an edit feature on the selected menu item.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_move_window><a class=permalink href=#dlg_move_window>dlg_move_window</a></h2> Moves/resizes the given window to the given position and size. <dl class=Bl-tag><dt><b>WINDOW *<i>win</i></b></dt><dd>is the window to move/resize.</dd><dt><b>WINDOW *<i>height</i></b></dt><dd>is the height of the resized window.</dd><dt><b>WINDOW *<i>width</i></b></dt><dd>is the width of the resized window.</dd><dt><b>WINDOW *<i>y</i></b></dt><dd>y-ordinate to use for the repositioned window.</dd><dt><b>WINDOW *<i>x</i></b></dt><dd>x-ordinate to use for the repositioned window.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_mouse_bigregion><a class=permalink href=#dlg_mouse_bigregion>dlg_mouse_bigregion</a></h2> Retrieve the big-region under the pointer. <dl class=Bl-tag><dt><b>int <i>y</i></b></dt><dd>is the row on which the mouse click occurred</dd><dt><b>int <i>x</i></b></dt><dd>is the column on which the mouse click occurred</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_mouse_free_regions><a class=permalink href=#dlg_mouse_free_regions>dlg_mouse_free_regions</a></h2> Free the memory associated with mouse regions. </section><section class=Ss><h2 class=Ss id=dlg_mouse_mkbigregion><a class=permalink href=#dlg_mouse_mkbigregion>dlg_mouse_mkbigregion</a></h2> Creates a region on which the mouse-clicks will return a specified code. <dl class=Bl-tag><dt><b>int <i>y</i></b></dt><dd>is the top-row of the region.</dd><dt><b>int <i>x</i></b></dt><dd>is the left-column of the region.</dd><dt><b>int <i>height</i></b></dt><dd>is the height of the region.</dd><dt><b>int <i>width</i></b></dt><dd>is the width of the region.</dd><dt><b>int <i>code</i></b></dt><dd>is a code used to make the region unique within a widget</dd><dt><b>int <i>step_x</i></b></dt><dd>is used in modes 2 (columns) and 3 (cells) to determine the width of a column/cell.</dd><dt><b>int <i>step_y</i></b></dt><dd>is currently unused</dd><dt><b>int <i>mode</i></b></dt><dd>is used to determine how the mouse position is translated into a code (like a function-key):</dd></dl><div class=Bd-indent><dl class=Bl-tag><dt>1</dt><dd>index by lines</dd><dt>2</dt><dd>index by columns</dd><dt>3</dt><dd>index by cells</dd></dl></div></section><section class=Ss><h2 class=Ss id=dlg_mouse_mkregion><a class=permalink href=#dlg_mouse_mkregion>dlg_mouse_mkregion</a></h2><dl class=Bl-tag><dt><b>int <i>y</i></b></dt><dd>is the top-row of the region.</dd><dt><b>int <i>x</i></b></dt><dd>is the left-column of the region.</dd><dt><b>int <i>height</i></b></dt><dd>is the height of the region.</dd><dt><b>int <i>width</i></b></dt><dd>is the width of the region.</dd><dt><b>int <i>code</i></b></dt><dd>is a code used to make the region unique within a widget</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_mouse_region><a class=permalink href=#dlg_mouse_region>dlg_mouse_region</a></h2> Retrieve the frame under the mouse pointer <dl class=Bl-tag><dt><b>int <i>y</i></b></dt><dd>is the row of the mouse-click</dd><dt><b>int <i>x</i></b></dt><dd>is the column of the mouse-click</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_mouse_setbase><a class=permalink href=#dlg_mouse_setbase>dlg_mouse_setbase</a></h2> Sets a base for subsequent calls to <b>dlg_mouse_mkregion</b>, so they can make regions relative to the start of a given window. <dl class=Bl-tag><dt><b>int <i>x</i></b></dt><dd>is the left-column for the base</dd><dt><b>int <i>y</i></b></dt><dd>is the top-row for the base</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_mouse_setcode><a class=permalink href=#dlg_mouse_setcode>dlg_mouse_setcode</a></h2> Sets a value used internally by <b>dlg_mouse_mkregion</b> which is added to the <i>code</i> parameter. By providing different values, e.g., multiples of <b>KEY_MAX</b>, it is possible to support multiple “big” regions in a widget. The <i>buildlist</i> widget uses this feature to recognize mouse-clicks in the left/right panes. <dl class=Bl-tag><dt><b>int <i>code</i></b></dt><dd>is the value to add to <b>dlg_mouse_mkregion</b>'s <i>code</i> parameter.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_mouse_wgetch><a class=permalink href=#dlg_mouse_wgetch>dlg_mouse_wgetch</a></h2> is a wrapper for <b>dlg_getc</b> which additionally maps mouse-clicks (if the curses library supports those) into extended function-keys which encode the position according to the <i>mode</i> in <b>dlg_mouse_mkbigregion</b>. Returns the corresponding key-code. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window on which to perform the input</dd><dt><b>int * <i>fkey</i></b></dt><dd>the referenced location is set to true if the key-code is an actual or extended (mouse) function-key.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_mouse_wgetch_nowait><a class=permalink href=#dlg_mouse_wgetch_nowait>dlg_mouse_wgetch_nowait</a></h2> This is a non-blocking variant of <b>dlg_mouse_wgetch</b>. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window on which to perform the input</dd><dt><b>int * <i>fkey</i></b></dt><dd>the referenced location is set to true if the key-code is an actual or extended (mouse) function-key.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_need_separator><a class=permalink href=#dlg_need_separator>dlg_need_separator</a></h2> Check if an output-separator is needed. If <b>dialog_vars.output_separator</b> is set, return true. Otherwise, if <b>dialog_vars.input_result</b> is nonempty, return true. If neither, return false. </section><section class=Ss><h2 class=Ss id=dlg_new_modal_window><a class=permalink href=#dlg_new_modal_window>dlg_new_modal_window</a></h2> Create a modal window, optionally with a shadow. The shadow is created if <b>dialog_state.use_shadow</b> is true. <dl class=Bl-tag><dt><b>WINDOW * <i>parent</i></b></dt><dd>is the parent window (usually the top-level window of a widget)</dd><dt><b>int <i>height</i></b></dt><dd>is the window's height</dd><dt><b>int <i>width</i></b></dt><dd>is the window's width</dd><dt><b>int <i>y</i></b></dt><dd>is the window's top-row</dd><dt><b>int <i>x</i></b></dt><dd>is the window's left-column</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_new_window><a class=permalink href=#dlg_new_window>dlg_new_window</a></h2> Create a window, optionally with a shadow. The shadow is created if <b>dialog_state.use_shadow</b> is true. <dl class=Bl-tag><dt><b>int <i>height</i></b></dt><dd>is the window's height</dd><dt><b>int <i>width</i></b></dt><dd>is the window's width</dd><dt><b>int <i>y</i></b></dt><dd>is the window's top-row</dd><dt><b>int <i>x</i></b></dt><dd>is the window's left-column</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_next_button><a class=permalink href=#dlg_next_button>dlg_next_button</a></h2> Return the next index in the list of labels. <dl class=Bl-tag><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd><dt><b>int <i>button</i></b></dt><dd>is the current button-index.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_next_ok_buttonindex><a class=permalink href=#dlg_next_ok_buttonindex>dlg_next_ok_buttonindex</a></h2> Assuming that the caller is using <b>dlg_ok_labels</b> to list buttons, find the next index in the list of buttons. <dl class=Bl-tag><dt><b>int <i>current</i></b></dt><dd>is the current index in the list of buttons</dd><dt><b>int <i>extra</i></b></dt><dd>if negative, provides a way to enumerate extra active areas on the widget.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_ok_buttoncode><a class=permalink href=#dlg_ok_buttoncode>dlg_ok_buttoncode</a></h2> Map the given button index for <b>dlg_ok_labels</b> into <b>dialog</b>'s exit-code. <dl class=Bl-tag><dt><b>int <i>button</i></b></dt><dd>is the button-index (which is not necessarily the same as the index in the list of labels).</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_ok_button_key><a class=permalink href=#dlg_ok_button_key>dlg_ok_button_key</a></h2> Calls <b>dlg_button_key</b> with the “Cancel” button disabled, e.g., for the textbox widget. </section><section class=Ss><h2 class=Ss id=dlg_ok_label><a class=permalink href=#dlg_ok_label>dlg_ok_label</a></h2> Returns a list with the “Ok” label, and if <b>dialog_vars.help_button</b> is true, the “Help” label as well. </section><section class=Ss><h2 class=Ss id=dlg_ok_labels><a class=permalink href=#dlg_ok_labels>dlg_ok_labels</a></h2> Return a list of button labels for the OK/Cancel group of widgets. </section><section class=Ss><h2 class=Ss id=dlg_ordinate><a class=permalink href=#dlg_ordinate>dlg_ordinate</a></h2> Decode the string as an integer, decrement if greater than zero to make a curses-ordinate from a dialog-ordinate. </section><section class=Ss><h2 class=Ss id=dlg_parse_bindkey><a class=permalink href=#dlg_parse_bindkey>dlg_parse_bindkey</a></h2> Parse the parameters of the “bindkeys” configuration-file entry. This expects widget name which may be "*", followed by curses key definition and then <b>dialog</b> key definition. <dl class=Bl-tag><dt><b>char * <i>params</i></b></dt><dd>is the parameter string to parse.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_parse_rc><a class=permalink href=#dlg_parse_rc>dlg_parse_rc</a></h2> Parse the configuration file and set up variables. </section><section class=Ss><h2 class=Ss id=dlg_popen><a class=permalink href=#dlg_popen>dlg_popen</a></h2> Open a pipe which ties the standard error and output together. The <b>popen</b> function captures only the standard output of a command. <dl class=Bl-tag><dt><b>const char *<i>command</i></b></dt><dd>The shell command to run.</dd><dt><b>const char *<i>type</i></b></dt><dd>Like <b>popen</b>, "r" is used to read, and "w" is used to write.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_prev_button><a class=permalink href=#dlg_prev_button>dlg_prev_button</a></h2> Return the previous index in the list of labels. <dl class=Bl-tag><dt><b>const char ** <i>labels</i></b></dt><dd>is a list of (pointers to) button labels terminated by a null pointer.</dd><dt><b>int <i>button</i></b></dt><dd>is the current button index</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_print_listitem><a class=permalink href=#dlg_print_listitem>dlg_print_listitem</a></h2> This is a helper function used for the various “list” widgets, e.g., checklist, menu, buildlist, treeview. Each list-widget has “tag” and “description” values for each item which can be displayed. If <b>dialog_vars.no_tags</b> is true, the “tag” value is not shown. The first character of the first value shown (tag or description) is highlighted to indicate that the widget will match it for quick navigation. <dl class=Bl-tag><dt><b>WINDOW *<i>win</i></b></dt><dd>the window in which to display the text</dd><dt><b>const char *<i>text</i></b></dt><dd>the value to display</dd><dt><b>int <i>climit</i></b></dt><dd>the number of columns available for printing the text</dd><dt><b>bool <i>first</i></b></dt><dd>true if this is the first call (for “tag” and “description”), and the first character of the value should be highlighted.</dd><dt><b>int <i>selected</i></b></dt><dd>nonzero if the text should be displayed using the “selected” colors</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_print_scrolled><a class=permalink href=#dlg_print_scrolled>dlg_print_scrolled</a></h2> This is a wrapper for <b>dlg_print_autowrap</b> which allows the user to scroll too-long prompt text up/down. <p class=Pp>See <b>dlg_check_scrolled</b> for a function which updates the <i>offset</i> variable used as a parameter here. It complements this function; you need both. If <i>pauseopt</i> is set, this function returns an updated <i>last</i> parameter, needed for <b>dlg_check_scrolled</b> calls.</p><dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>const char * <i>prompt</i></b></dt><dd>is the string to print</dd><dt><b>int <i>offset</i></b></dt><dd>is the starting line-number to write wrapped text.</dd><dt><b>int <i>height</i></b></dt><dd>is the available height for writing the wrapped text</dd><dt><b>int <i>width</i></b></dt><dd>is the width that the wrapping should occur in</dd><dt><b>int <i>pauseopt</i></b></dt><dd>is true if the extra functionality for scrolling should be enabled. If false, this calls <b>dlg_print_autowrap</b> without doing any scrolling.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_print_line><a class=permalink href=#dlg_print_line>dlg_print_line</a></h2> Print one line of the prompt in the window within the limits of the specified right margin. The line will end on a word boundary and a pointer to the start of the next line is returned, or a NULL pointer if the end of *prompt is reached. <dl class=Bl-tag><dt><b>WINDOW *<i>win</i></b></dt><dd>is the window to update.</dd><dt><b>chtype *<i>attr</i></b></dt><dd>holds the starting attributes, and is updated to reflect the final attributes applied to the string.</dd><dt><b>const char *<i>prompt</i></b></dt><dd>is the string to print</dd><dt><b>int <i>lm</i></b></dt><dd>is the left margin.</dd><dt><b>int <i>rm</i></b></dt><dd>is the right margin</dd><dt><b>int *<i>x</i></b></dt><dd>returns the ending x-ordinate.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_prev_ok_buttonindex><a class=permalink href=#dlg_prev_ok_buttonindex>dlg_prev_ok_buttonindex</a></h2> Find the previous button index in the list from <b>dlg_ok_labels</b>. <dl class=Bl-tag><dt><b>int <i>current</i></b></dt><dd>is the current index</dd><dt><b>int <i>extra</i></b></dt><dd>if negative provides a way to enumerate extra active areas on the widget.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_print_autowrap><a class=permalink href=#dlg_print_autowrap>dlg_print_autowrap</a></h2> Print a string of text in a window, automatically wrap around to the next line if the string is too long to fit on one line. Note that the string may contain embedded newlines. The text is written starting at the top of the window. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>const char * <i>prompt</i></b></dt><dd>is the string to print</dd><dt><b>int <i>height</i></b></dt><dd>is the nominal height the wrapped string is limited to</dd><dt><b>int <i>width</i></b></dt><dd>is the width that the wrapping should occur in</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_print_size><a class=permalink href=#dlg_print_size>dlg_print_size</a></h2> If <b>dialog_vars.print_siz</b> is true, print the given height/width (from a widget) to <b>dialog_state.output</b>, e.g., <b>Size: height, width</b>. <dl class=Bl-tag><dt><b>int <i>height</i></b></dt><dd>is the window's height</dd><dt><b>int <i>width</i></b></dt><dd>is the window's width</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_print_text><a class=permalink href=#dlg_print_text>dlg_print_text</a></h2> Print up to <i>cols</i> columns from <b>text</b>, optionally rendering <b>dialog</b>'s escape sequences for attributes and color. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window to update.</dd><dt><b>const char * <i>txt</i></b></dt><dd>is the string to print</dd><dt><b>int <i>col</i></b></dt><dd>is the column limit</dd><dt><b>chtype * <i>attr</i></b></dt><dd>holds the starting attributes, and is updated to reflect the final attributes applied to the string.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_progressbox><a class=permalink href=#dlg_progressbox>dlg_progressbox</a></h2> implements the "<b>--prgbox</b>" and "<b>--progressbox</b>" options. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget. If empty or null, no prompt is shown.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>pauseopt</i></b></dt><dd>if true, an “OK” button will be shown, and the dialog will wait for it to complete. With an “OK” button, it is denoted a “programbox”, without an “OK” button, it is denoted a “progressbox”.</dd><dt><b>FILE * <i>fp</i></b></dt><dd>is the file pointer, which may be a pipe or a regular file.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_put_backtitle><a class=permalink href=#dlg_put_backtitle>dlg_put_backtitle</a></h2> Display the background title if <b>dialog_vars.backtitle</b> is non-null. The background title is shown at the top of the screen. </section><section class=Ss><h2 class=Ss id=dlg_reallocate_gauge><a class=permalink href=#dlg_reallocate_gauge>dlg_reallocate_gauge</a></h2> Allocates or reallocates a gauge widget (see <b>dlg_allocate_gauge</b>). Use <b>dlg_update_gauge</b> to display the result. <dl class=Bl-tag><dt><b>void ** <i>objptr</i></b></dt><dd>If the pointer referenced by this parameter is null, the function creates a new gauge widget using <b>dlg_allocate_gauge</b>. Otherwise, it updates the title and cprompt values, reusing the window from the previous call on this function. As a side-effect, the function stores the updated object-pointer via the <i>objptr</i> parameter.</dd><dt><b>const char * <i>title</i></b></dt><dd>is the title string to display at the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is adjusted to use the available screen size.</dd><dt><b>int <i>percent</i></b></dt><dd>is the percentage to show in the progress bar.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_register_buttons><a class=permalink href=#dlg_register_buttons>dlg_register_buttons</a></h2> The widget developer should call this function after <b>dlg_register_window</b>, for the list of button labels associated with the widget. One may bind a key to a button, e.g., “OK” for <b>DLGK_OK</b>, <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window with which to associate the buttons</dd><dt><b>const char * <i>name</i></b></dt><dd>is the widget's binding name (usually the name of the widget).</dd><dt><b>const char ** <i>buttons</i></b></dt><dd>is the list of buttons</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_register_window><a class=permalink href=#dlg_register_window>dlg_register_window</a></h2> For a given named widget's window, associate a binding table. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window with which to associate the buttons</dd><dt><b>const char * <i>name</i></b></dt><dd>is the widget's binding name (usually the name of the widget).</dd><dt><b>DLG_KEYS_BINDING * <i>binding</i></b></dt><dd>is the binding table</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_remove_callback><a class=permalink href=#dlg_remove_callback>dlg_remove_callback</a></h2> Remove a callback. <dl class=Bl-tag><dt><b>DIALOG_CALLBACK * <i>p</i></b></dt><dd>contains the callback information.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_renamed_menutext><a class=permalink href=#dlg_renamed_menutext>dlg_renamed_menutext</a></h2> This is a utility function which supports the <b>--inputmenu</b> option of the <b>dialog</b> program. If <b>dialog_vars.input_menu</b> is set, <b>dialog_menu</b> passes this pointer to <b>dlg_menu</b> as the <i>rename_menutext</i> parameter. Otherwise, it passes <b>dlg_dummy_menutext</b>. <p class=Pp>The function should add “RENAMED” to <b>dialog_vars.input_result</b> , followed by the menu item's name and the <i>newtext</i> value (with a space separating the three items), and return <b>DLG_EXIT_EXTRA</b>.</p><dl class=Bl-tag><dt><b>DIALOG_LISTITEM * <i>items</i></b></dt><dd>is the list of menu items</dd><dt><b>int <i>current</i></b></dt><dd>is the index of the currently-selected item</dd><dt><b>char * <i>newtext</i></b></dt><dd>is the updated text for the menu item</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_reset_timeout><a class=permalink href=#dlg_reset_timeout>dlg_reset_timeout</a></h2> Calls <b>wtimeout</b> with the value saved for a window in the last call to <b>dlg_set_timeout</b>. </section><section class=Ss><h2 class=Ss id=dlg_restore_vars><a class=permalink href=#dlg_restore_vars>dlg_restore_vars</a></h2> Restore <b>dialog</b>'s variables from the given variable (see <b>dialog_save_vars</b>). <dl class=Bl-tag><dt><b>DIALOG_VARS * <i>save</i></b></dt><dd>is the variable from which to restore.</dd></dl><p class=Pp>The <i>DIALOG_VARS.input_length</i> and <i>DIALOG_VARS.input_result</i> members are treated specially, since these are used by a widget to pass data to the caller. They are not modified by this function.</p></section><section class=Ss><h2 class=Ss id=dlg_result_key><a class=permalink href=#dlg_result_key>dlg_result_key</a></h2> Test a <b>dialog</b> internal keycode to see if it corresponds to one of the push buttons on the widget such as “OK”. This is only useful if there are user-defined key bindings, since there are no built-in bindings that map directly to <b>DLGK_OK</b>, etc. Return true if a mapping was done. <dl class=Bl-tag><dt><b>int <i>dialog_key</i></b></dt><dd>is the <b>dialog</b> key to test</dd><dt><b>int <i>fkey</i></b></dt><dd>is true if this is a function key</dd><dt><b>int * <i>resultp</i></b></dt><dd>store the result of the mapping in the referenced location.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_save_vars><a class=permalink href=#dlg_save_vars>dlg_save_vars</a></h2> Save <b>dialog</b>'s variables into the given variable (see <b>dlg_restore_vars</b>). <dl class=Bl-tag><dt><b>DIALOG_VARS * <i>save</i></b></dt><dd>is the variable into which to save.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_set_focus><a class=permalink href=#dlg_set_focus>dlg_set_focus</a></h2> Set focus on the given window, making it display above other windows on the screen. <dl class=Bl-tag><dt><b>WINDOW * <i>parent</i></b></dt><dd>is the parent window (usually the top-level window of a widget)</dd><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window on which to place focus (usually a subwindow of a widget)</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_set_result><a class=permalink href=#dlg_set_result>dlg_set_result</a></h2> Setup a fixed-buffer for the result in <b>dialog_vars.input_result</b><dl class=Bl-tag><dt><b>const char * <i>string</i></b></dt><dd>is the new contents for the result</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_set_timeout><a class=permalink href=#dlg_set_timeout>dlg_set_timeout</a></h2> Calls <b>wtimeout</b> to establish a preferred timeout for nonblocking reads, e.g., to allow the gauge widget to handle window-resizing events. The <b>dlg_may_resize</b> function temporarily overrides this value, to allow it to skip over the error codes returned while the ncurses library processes window-resizing events. It restores the value established in this call by calling <b>dlg_restore_timeout</b>. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window whose input-timeout should be set</dd><dt><b>bool <i>will_getc</i></b></dt><dd>is true if the widget is expected to read keyboard characters. Some (such as the gauge widget) do not.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_show_string><a class=permalink href=#dlg_show_string>dlg_show_string</a></h2> Displays the string, shifted as necessary, to fit within the box and show the current character-offset. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window within which to display</dd><dt><b>const char * <i>string</i></b></dt><dd>is the string to display</dd><dt><b>int <i>offset</i></b></dt><dd>is the starting (character, not bytes) offset</dd><dt><b>chtype <i>attr</i></b></dt><dd>is the window attribute to use for the string</dd><dt><b>int <i>y_base</i></b></dt><dd>beginning row on screen</dd><dt><b>int <i>x_base</i></b></dt><dd>beginning column on screen</dd><dt><b>int <i>x_last</i></b></dt><dd>number of columns on screen</dd><dt><b>bool <i>hidden</i></b></dt><dd>if true, do not echo input</dd><dt><b>bool <i>force</i></b></dt><dd>if true, force repaint</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_strclone><a class=permalink href=#dlg_strclone>dlg_strclone</a></h2> duplicate the string, like <b>strdup</b>. <dl class=Bl-tag><dt><b>const char * <i>cprompt</i></b></dt><dd>is the string to duplicate</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_strcmp><a class=permalink href=#dlg_strcmp>dlg_strcmp</a></h2> compare two strings, ignoring case. <dl class=Bl-tag><dt><b>const char * <i>a</i></b></dt><dd>is one string</dd><dt><b>const char * <i>b</i></b></dt><dd>is the other string</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_string_to_argv><a class=permalink href=#dlg_string_to_argv>dlg_string_to_argv</a></h2> Convert a string to an argument vector returning an index (which must be freed by the caller). The string is modified: <ul class=Bl-bullet><li>Blanks between arguments are replaced by nulls.</li><li>Normally arguments are separated by blanks; however you can double-quote an argument to enclose blanks. The surrounding double-quotes are removed from the string.</li><li>A backslash preceding a double-quote within double-quotes is removed.</li><li>A backslash preceding a newline outside double-quotes is removed.</li><li>Except for special cases, backslashes are preserved in the strings, since other <b>dialog</b> functions interpret backslashes, e.g., for colors.</li></ul><dl class=Bl-tag><dt><b>char *<i>blob</i></b></dt><dd>is the string to convert.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_sub_window><a class=permalink href=#dlg_sub_window>dlg_sub_window</a></h2> create a subwindow, e.g., for an input area of a widget <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the parent window</dd><dt><b>int <i>height</i></b></dt><dd>is the subwindow's height</dd><dt><b>int <i>width</i></b></dt><dd>is the subwindow's width</dd><dt><b>int <i>y</i></b></dt><dd>is the subwindow's top-row</dd><dt><b>int <i>x</i></b></dt><dd>is the subwindow's left-column</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_tab_correct_str><a class=permalink href=#dlg_tab_correct_str>dlg_tab_correct_str</a></h2> If the <b>dialog_vars.tab_correct</b> is true, convert tabs to single spaces. Return the converted result. The caller is responsible for freeing the string. <dl class=Bl-tag><dt><b>char * <i>prompt</i></b></dt><dd>is the string to convert</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_trace><a class=permalink href=#dlg_trace>dlg_trace</a></h2> If the parameter is non-null, opens a trace file with that name and stores the file pointer in <b>dialog_state.trace</b>. </section><section class=Ss><h2 class=Ss id=dlg_trace_2n><a class=permalink href=#dlg_trace_2n>dlg_trace_2n</a></h2> logs a numeric value as a comment. <dl class=Bl-tag><dt><b>char * <i>name</i></b></dt><dd>is the name to log in the comment.</dd><dt><b>int <i>value</i></b></dt><dd>is the value to log in the comment.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_trace_2s><a class=permalink href=#dlg_trace_2s>dlg_trace_2s</a></h2> logs a string value as a comment. If the value contains embedded newlines, the comment is continued with “#+” markers. <dl class=Bl-tag><dt><b>char * <i>name</i></b></dt><dd>is the name to log in the comment.</dd><dt><b>int <i>value</i></b></dt><dd>is the value to log in the comment.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_trace_chr><a class=permalink href=#dlg_trace_chr>dlg_trace_chr</a></h2> If <b>dialog_state.trace</b> is set, translate the parameters into a printable representation, log it on a “chr” line. <dl class=Bl-tag><dt><b>int <i>ch</i></b></dt><dd>is the nominal keycode value.</dd><dt><b>int <i>fkey</i></b></dt><dd>is nonzero if the value is really a function key. Some of these may be values declared in the DLG_KEYS_ENUM.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_trace_msg><a class=permalink href=#dlg_trace_msg>dlg_trace_msg</a></h2> Write a formatted message to the trace file. <dl class=Bl-tag><dt><b>const char * <i>fmt</i></b></dt><dd>is the format of the <b>printf</b>-like message to write.</dd><dt><b>...</b></dt><dd><br> are the variables to apply to the <i>fmt</i> format.</dd></dl><p class=Pp>Use the DLG_TRACE macro for portability, in case the trace feature is not compiled into the library. It uses an extra level of parentheses to work with a variable number of parameters, e.g.,</p><div class=Bd-indent><p class=Pp></p><pre>
<span class=Li>DLG_TRACE(("this is dialog version %s\n", dialog_version()));</span>
</pre></div></section><section class=Ss><h2 class=Ss id=dlg_trace_va_msg><a class=permalink href=#dlg_trace_va_msg>dlg_trace_va_msg</a></h2> Write a formatted message to the trace file. <dl class=Bl-tag><dt><b>const char *<i>fmt</i></b></dt><dd>is the format of the <b>printf</b>-like message to write.</dd><dt><b>va_list <i>ap</i></b></dt><dd>are the variables to apply to the <i>fmt</i> format.</dd></dl><p class=Pp>This is used in <b>dlg_exiterr</b> to capture error messages in the trace file:</p><div class=Bd-indent><p class=Pp></p><pre>
<span class=Li>va_start(ap, fmt);</span>
<span class=Li>dlg_trace_msg("## Error: ");</span>
<span class=Li>dlg_trace_va_msg(fmt, ap);</span>
<span class=Li>va_end(ap);</span>
</pre></div><p class=Pp>Unlike <b>dlg_trace_msg</b>, an extra macro is not needed.</p></section><section class=Ss><h2 class=Ss id=dlg_ttysize><a class=permalink href=#dlg_ttysize>dlg_ttysize</a></h2> Returns the screensize without using curses. That allows the function to be used before initializing the screen. </section><section class=Ss><h2 class=Ss id=dlg_trace_win><a class=permalink href=#dlg_trace_win>dlg_trace_win</a></h2> If <b>dialog_state.trace</b> is set, log a printable picture of the given window. </section><section class=Ss><h2 class=Ss id=dlg_treeview><a class=permalink href=#dlg_treeview>dlg_treeview</a></h2> This is an alternate interface to 'treeview' which allows the application to read the list item states back directly without putting them in the output buffer. <dl class=Bl-tag><dt><b>const char * <i>title</i></b></dt><dd>is the title on the top of the widget.</dd><dt><b>const char * <i>cprompt</i></b></dt><dd>is the prompt text shown within the widget.</dd><dt><b>int <i>height</i></b></dt><dd>is the desired height of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>width</i></b></dt><dd>is the desired width of the box. If zero, the height is based on the screen size.</dd><dt><b>int <i>list_height</i></b></dt><dd>is the minimum height to reserve for displaying the list. If zero, it is computed based on the given <i>height</i> and <i>width</i>.</dd><dt><b>int <i>item_no</i></b></dt><dd>is the number of rows in <i>items</i>.</dd><dt><b>DIALOG_LISTITEM * <i>items</i></b></dt><dd>is the list of items, contain tag, name, and optionally help strings (if <b>dialog_vars.item_help</b> is set). The initial selection state for each item is also in this list.</dd><dt><b>const char * <i>states</i></b></dt><dd>This is a list of characters to display for the given states. Normally a buildlist provides true (1) and false (0) values, which the widget displays as "*" and space, respectively. An application may set this parameter to an arbitrary null-terminated string. The widget determines the number of states from the length of this string, and will cycle through the corresponding display characters as the user presses the space-bar.</dd><dt><b>int * <i>depths</i></b></dt><dd>This is a list of depths of each item in the tree. It is a separate parameter from <i>items</i> to allow reuse of the existing functions.</dd><dt><b>int <i>flag</i></b></dt><dd>is either <i>FLAG_CHECK</i>, for checklists (multiple selections), or <i>FLAG_RADIO</i> for radiolists (a single selection).</dd><dt><b>int * <i>current_item</i></b></dt><dd>The widget sets the referenced location to the index of the current display item (cursor) when it returns.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_trim_string><a class=permalink href=#dlg_trim_string>dlg_trim_string</a></h2> The <b>dialog</b> program uses this in each widget to adjust the message string, which may contain the newline character (referred to as '\n') and/or the special substring "\n" (which can be translated into a newline character). <p class=Pp>There are several optional features:</p><ul class=Bl-bullet><li>Unless <b>dialog_vars.nocollapse</b> is set, each tab is converted to a space before other processing.</li><li>If <b>dialog_vars.no_nl_expand</b> is not set, and the string has "\n" substrings:</li></ul><div class=Bd-indent><dl class=Bl-tag><dt>•</dt><dd>The function changes embedded "\n" substrings to '\n' characters.</dd></dl><dl class=Bl-tag><dt></dt><dd>The function preserves extra spaces after these substitutions. For instance, spaces following a newline (substring or character) are preserved to use as an indentation.</dd></dl><dl class=Bl-tag><dt>•</dt><dd>If <b>dialog_vars.cr_wrap</b> is set, the function preserves '\n' newline characters. Otherwise, each '\n' newline character is converted to a space.</dd></dl></div><dl class=Bl-tag><dt>•</dt><dd>Otherwise, if <b>dialog_vars.trim_whitespace</b> is set:</dd></dl><div class=Bd-indent><ul class=Bl-bullet><li>This function strips all extra spaces to simplify justification.</li><li>If <b>dialog_vars.cr_wrap</b> is set, the function preserves '\n' newline characters. Otherwise, each '\n' newline character is converted to a space.</li></ul></div><dl class=Bl-tag><dt>•</dt><dd>Finally (if <b>dialog_vars.no_nl_expand</b> is set, or the string does not contain "\n" substrings, and <b>dialog_vars.trim_whitespace</b> is not set):</dd></dl><div class=Bd-indent><dl class=Bl-tag><dt>•</dt><dd>Unless <b>dialog_vars.nocollapse</b> is set, sequences of spaces are reduced to a single space.</dd></dl></div><dl class=Bl-tag><dt><b>char * <i>src</i></b></dt><dd>is the string to trim</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_unregister_window><a class=permalink href=#dlg_unregister_window>dlg_unregister_window</a></h2> Remove the bindings for a given window. <dl class=Bl-tag><dt><b>WINDOW * <i>win</i></b></dt><dd>is the window from which to remove bindings</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_update_gauge><a class=permalink href=#dlg_update_gauge>dlg_update_gauge</a></h2> Update a gauge widget to show a different percentage value. <dl class=Bl-tag><dt><b>void *<i>objptr</i></b></dt><dd>points to the gauge object to update.</dd><dt><b>int <i>percent</i></b></dt><dd>is the new percentage value to display.</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_will_resize><a class=permalink href=#dlg_will_resize>dlg_will_resize</a></h2> This filters out bursts of <b>KEY_RESIZE</b> values. Call this after <b>dlg_getc</b> returns <b>KEY_RESIZE</b>, to improve performance. </section><section class=Ss><h2 class=Ss id=dlg_yes_buttoncode><a class=permalink href=#dlg_yes_buttoncode>dlg_yes_buttoncode</a></h2> Map the given button index for <b>dlg_yes_labels</b> into <b>dialog</b>'s exit-code. <dl class=Bl-tag><dt><b>int <i>button</i></b></dt><dd>is the button index</dd></dl></section><section class=Ss><h2 class=Ss id=dlg_yes_labels><a class=permalink href=#dlg_yes_labels>dlg_yes_labels</a></h2> Return a list of buttons for Yes/No labels. </section><section class=Ss><h2 class=Ss id=end_dialog><a class=permalink href=#end_dialog>end_dialog</a></h2> End use of <b>dialog</b> functions. </section><section class=Ss><h2 class=Ss id=init_dialog><a class=permalink href=#init_dialog>init_dialog</a></h2> Do some initialization for <b>dialog</b>. <dl class=Bl-tag><dt><b>FILE *<i>input</i></b></dt><dd>is the real tty input of <b>dialog</b>. Usually it is the standard input, but if <b>--input-fd</b> option is used, it may be anything.</dd><dt><b>FILE *<i>output</i></b></dt><dd>is where <b>dialog</b> will send its result. Usually it is the standard error, but if <b>--stdout</b> or <b>--output-fd</b> is used, it may be anything.</dd></dl></section></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><b>dialog</b> (1). </section><section class=Sh><h2 class=Sh id=AUTHOR><a class=permalink href=#AUTHOR>AUTHOR</a></h2> Thomas E. Dickey </section></div><table class=foot><tr><td class=foot-date></td><td class=foot-os>$Date: 2021/01/17 18:02:44 $</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>