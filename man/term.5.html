<!DOCTYPE html>
<html><head><meta charset=utf-8><title>term(5)</title><keywords content=man,term></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>term(5)</h1><table class=head><tr><td class=head-ltitle>term(5)</td><td class=head-vol>FreeBSD File Formats Manual</td><td class=head-rtitle>term(5)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2> term - format of compiled term file. </section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><b>term</b></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><section class=Ss><h2 class=Ss id=STORAGE_LOCATION><a class=permalink href=#STORAGE_LOCATION>STORAGE LOCATION</a></h2> Compiled terminfo descriptions are placed under the directory <b>/usr/share/misc/terminfo</b>. Two configurations are supported (when building the <b>ncurses</b> libraries): <dl class=Bl-tag><dt><b>directory tree</b></dt><dd>A two-level scheme is used to avoid a linear search of a huge UNIX system directory: <b>/usr/share/misc/terminfo/c/name</b> where <i>name</i> is the name of the terminal, and <i>c</i> is the first character of <i>name</i>. Thus, <i>act4</i> can be found in the file <b>/usr/share/misc/terminfo/a/act4</b>. Synonyms for the same terminal are implemented by multiple links to the same compiled file.</dd><dt><b>hashed database</b></dt><dd>Using Berkeley database, two types of records are stored: the terminfo data in the same format as stored in a directory tree with the terminfo's primary name as a key, and records containing only aliases pointing to the primary name.</dd></dl><dl class=Bl-tag><dt></dt><dd>If built to write hashed databases, <b>ncurses</b> can still read terminfo databases organized as a directory tree, but cannot write entries into the directory tree. It can write (or rewrite) entries in the hashed database.</dd><dt></dt><dd><b>ncurses</b> distinguishes the two cases in the TERMINFO and TERMINFO_DIRS environment variable by assuming a directory tree for entries that correspond to an existing directory, and hashed database otherwise.</dd></dl></section><section class=Ss><h2 class=Ss id=LEGACY_STORAGE_FORMAT><a class=permalink href=#LEGACY_STORAGE_FORMAT>LEGACY STORAGE FORMAT</a></h2> The format has been chosen so that it will be the same on all hardware. An 8 or more bit byte is assumed, but no assumptions about byte ordering or sign extension are made. <p class=Pp>The compiled file is created with the <b>tic</b> program, and read by the routine <b>setupterm</b>(3X). The file is divided into six parts:</p><div class=Bd-indent><dl class=Bl-tag><dt>a) <i>header</i>,</dt><dd></dd><dt>b) <i>terminal names</i>,</dt><dd></dd><dt>c) <i>boolean flags</i>,</dt><dd></dd><dt>d) <i>numbers</i>,</dt><dd></dd><dt>e) <i>strings</i>, and</dt><dd></dd><dt>f) <i>string table</i>.</dt><dd></dd></dl></div><p class=Pp>The <i>header</i> section begins the file. This section contains six short integers in the format described below. These integers are</p><div class=Bd-indent><dl class=Bl-tag><dt>(1) the <i>magic number</i> (octal 0432);</dt><dd></dd><dt>(2) the size, in bytes, of the <i>terminal names</i> section;</dt><dd></dd><dt>(3) the number of bytes in the <i>boolean flags</i> section;</dt><dd></dd><dt>(4) the number of short integers in the <i>numbers</i> section;</dt><dd></dd><dt>(5) the number of offsets (short integers) in the <i>strings</i> section;</dt><dd></dd><dt>(6) the size, in bytes, of the <i>string table</i>.</dt><dd></dd></dl></div><p class=Pp>The capabilities in the <i>boolean flags</i>, <i>numbers</i>, and <i>strings</i> sections are in the same order as the file &lt;term.h&gt;.</p><p class=Pp>Short integers are signed, in the range -32768 to 32767. They are stored as two 8-bit bytes. The first byte contains the least significant 8 bits of the value, and the second byte contains the most significant 8 bits. (Thus, the value represented is 256*second+first.) This format corresponds to the hardware of the VAX and PDP-11 (that is, little-endian machines). Machines where this does not correspond to the hardware must read the integers as two bytes and compute the little-endian value.</p><p class=Pp>Numbers in a terminal description, whether they are entries in the <i>numbers</i> or <i>strings</i> table, are positive integers. Boolean flags are treated as positive one-byte integers. In each case, those positive integers represent a terminal capability. The terminal compiler tic uses negative integers to handle the cases where a capability is not available:</p><dl class=Bl-tag><dt>•</dt><dd>If a capability is absent from this terminal, tic stores a -1 in the corresponding table.</dd></dl><dl class=Bl-tag><dt></dt><dd>The integer value -1 is represented by two bytes 0377, 0377. <br> Absent boolean values are represented by the byte 0 (false).</dd></dl><dl class=Bl-tag><dt>•</dt><dd>If a capability has been canceled from this terminal, tic stores a -2 in the corresponding table.</dd></dl><dl class=Bl-tag><dt></dt><dd>The integer value -2 is represented by two bytes 0377, 0376. <br> The boolean value -2 is represented by the byte 0376. <br></dd></dl><dl class=Bl-tag><dt>•</dt><dd>Other negative values are illegal.</dd></dl><p class=Pp>The <i>terminal names</i> section comes after the <i>header</i>. It contains the first line of the terminfo description, listing the various names for the terminal, separated by the “|” character. The <i>terminal names</i> section is terminated with an ASCII NUL character.</p><p class=Pp>The <i>boolean flags</i> section has one byte for each flag. Boolean capabilities are either 1 or 0 (true or false) according to whether the terminal supports the given capability or not.</p><p class=Pp>Between the <i>boolean flags</i> section and the <i>number</i> section, a null byte will be inserted, if necessary, to ensure that the <i>number</i> section begins on an even byte This is a relic of the PDP-11's word-addressed architecture, originally designed to avoid traps induced by addressing a word on an odd byte boundary. All short integers are aligned on a short word boundary.</p><p class=Pp>The <i>numbers</i> section is similar to the <i>boolean flags</i> section. Each capability takes up two bytes, and is stored as a little-endian short integer.</p><p class=Pp>The <i>strings</i> section is also similar. Each capability is stored as a short integer. The capability value is an index into the <i>string table</i>.</p><p class=Pp>The <i>string table</i> is the last section. It contains all of the values of string capabilities referenced in the <i>strings</i> section. Each string is null-terminated. Special characters in ^X or \c notation are stored in their interpreted form, not the printing representation. Padding information $&lt;nn&gt; and parameter information %x are stored intact in uninterpreted form.</p></section><section class=Ss><h2 class=Ss id=EXTENDED_STORAGE_FORMAT><a class=permalink href=#EXTENDED_STORAGE_FORMAT>EXTENDED STORAGE FORMAT</a></h2> The previous section describes the conventional terminfo binary format. With some minor variations of the offsets (see PORTABILITY), the same binary format is used in all modern UNIX systems. Each system uses a predefined set of boolean, number or string capabilities. <p class=Pp>The <b>ncurses</b> libraries and applications support extended terminfo binary format, allowing users to define capabilities which are loaded at runtime. This extension is made possible by using the fact that the other implementations stop reading the terminfo data when they have reached the end of the size given in the header. <b>ncurses</b> checks the size, and if it exceeds that due to the predefined data, continues to parse according to its own scheme.</p><p class=Pp>First, it reads the extended header (5 short integers):</p><div class=Bd-indent><dl class=Bl-tag><dt>(1)</dt><dd>count of extended boolean capabilities</dd><dt>(2)</dt><dd>count of extended numeric capabilities</dd><dt>(3)</dt><dd>count of extended string capabilities</dd><dt>(4)</dt><dd>count of the items in extended string table</dd><dt>(5)</dt><dd>size of the extended string table in bytes</dd></dl></div><p class=Pp>The count- and size-values for the extended string table include the extended capability <i>names</i> as well as extended capability <i>values</i>.</p><p class=Pp>Using the counts and sizes, <b>ncurses</b> allocates arrays and reads data for the extended capabilities in the same order as the header information.</p><p class=Pp>The extended string table contains values for string capabilities. After the end of these values, it contains the names for each of the extended capabilities in order, e.g., booleans, then numbers and finally strings.</p><p class=Pp>Applications which manipulate terminal data can use the definitions described in <b>term_variables</b>(3X) which associate the long capability names with members of a <b>TERMTYPE</b> structure.</p></section><section class=Ss><h2 class=Ss id=EXTENDED_NUMBER_FORMAT><a class=permalink href=#EXTENDED_NUMBER_FORMAT>EXTENDED NUMBER FORMAT</a></h2> On occasion, 16-bit signed integers are not large enough. With <b>ncurses</b> 6.1, a new format was introduced by making a few changes to the legacy format: <ul class=Bl-bullet><li>a different magic number (octal 01036)</li><li>changing the type for the <i>number</i> array from signed 16-bit integers to signed 32-bit integers.</li></ul><p class=Pp>To maintain compatibility, the library presents the same data structures to direct users of the <b>TERMTYPE</b> structure as in previous formats. However, that cannot provide callers with the extended numbers. The library uses a similar but hidden data structure <b>TERMTYPE2</b> to provide data for the terminfo functions.</p></section></section><section class=Sh><h2 class=Sh id=PORTABILITY><a class=permalink href=#PORTABILITY>PORTABILITY</a></h2><section class=Ss><h2 class=Ss id=setupterm><a class=permalink href=#setupterm>setupterm</a></h2> Note that it is possible for <b>setupterm</b> to expect a different set of capabilities than are actually present in the file. Either the database may have been updated since <b>setupterm</b> has been recompiled (resulting in extra unrecognized entries in the file) or the program may have been recompiled more recently than the database was updated (resulting in missing entries). The routine <b>setupterm</b> must be prepared for both possibilities - this is why the numbers and sizes are included. Also, new capabilities must always be added at the end of the lists of boolean, number, and string capabilities. </section><section class=Ss><h2 class=Ss id=Binary_format><a class=permalink href=#Binary_format>Binary format</a></h2> X/Open Curses does not specify a format for the terminfo database. UNIX System V curses used a directory-tree of binary files, one per terminal description. <p class=Pp>Despite the consistent use of little-endian for numbers and the otherwise self-describing format, it is not wise to count on portability of binary terminfo entries between commercial UNIX versions. The problem is that there are at least three versions of terminfo (under HP-UX, AIX, and OSF/1) which diverged from System V terminfo after SVr1, and have added extension capabilities to the string table that (in the binary format) collide with System V and XSI Curses extensions. See <b>terminfo</b>(5) for detailed discussion of terminfo source compatibility issues.</p><p class=Pp>This implementation is by default compatible with the binary terminfo format used by Solaris curses, except in a few less-used details where it was found that the latter did not match X/Open Curses. The format used by the other Unix versions can be matched by building ncurses with different configuration options.</p></section><section class=Ss><h2 class=Ss id=Magic_codes><a class=permalink href=#Magic_codes>Magic codes</a></h2> The magic number in a binary terminfo file is the first 16-bits (two bytes). Besides making it more reliable for the library to check that a file is terminfo, utilities such as <b>file</b> also use that to tell what the file-format is. System V defined more than one magic number, with 0433, 0435 as screen-dumps (see <b>scr_dump</b>(5)). This implementation uses 01036 as a continuation of that sequence, but with a different high-order byte to avoid confusion. </section><section class=Ss><h2 class=Ss id=The_TERMTYPE_structure><a class=permalink href=#The_TERMTYPE_structure>The TERMTYPE structure</a></h2> Direct access to the <b>TERMTYPE</b> structure is provided for legacy applications. Portable applications should use the <b>tigetflag</b> and related functions described in <b>curs_terminfo</b>(3X) for reading terminal capabilities. </section><section class=Ss><h2 class=Ss id=Mixed-case_terminal_names><a class=permalink href=#Mixed-case_terminal_names>Mixed-case terminal names</a></h2> A small number of terminal descriptions use uppercase characters in their names. If the underlying filesystem ignores the difference between uppercase and lowercase, <b>ncurses</b> represents the “first character” of the terminal name used as the intermediate level of a directory tree in (two-character) hexadecimal form. </section></section><section class=Sh><h2 class=Sh id=EXAMPLE><a class=permalink href=#EXAMPLE>EXAMPLE</a></h2> As an example, here is a description for the Lear-Siegler ADM-3, a popular though rather stupid early terminal: <p class=Pp><br></p><pre>
adm3a|lsi adm3a,
        am,
        cols#80, lines#24,
        bel=^G, clear= 32$&lt;1&gt;, cr=^M, cub1=^H, cud1=^J,
        cuf1=^L, cup=\E=%p1%{32}%+%c%p2%{32}%+%c, cuu1=^K,
        home=^^, ind=^J,

<br>

<br>
</pre><pre>
and a hexadecimal dump of the compiled terminal description:

<br>

<br>
<span class=Li>0000  1a 01 10 00 02 00 03 00  82 00 31 00 61 64 6d 33  ........ ..1.adm3</span>
<span class=Li>0010  61 7c 6c 73 69 20 61 64  6d 33 61 00 00 01 50 00  a|lsi ad m3a...P.</span>
<span class=Li>0020  ff ff 18 00 ff ff 00 00  02 00 ff ff ff ff 04 00  ........ ........</span>
<span class=Li>0030  ff ff ff ff ff ff ff ff  0a 00 25 00 27 00 ff ff  ........ ..%.'...</span>
<span class=Li>0040  29 00 ff ff ff ff 2b 00  ff ff 2d 00 ff ff ff ff  ).....+. ..-.....</span>
<span class=Li>0050  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>0060  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>0070  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>0080  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>0090  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>00a0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>00b0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>00c0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>00d0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>00e0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>00f0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>0100  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>0110  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  ........ ........</span>
<span class=Li>0120  ff ff ff ff ff ff 2f 00  07 00 0d 00 1a 24 3c 31  ....../. .....$&lt;1</span>
<span class=Li>0130  3e 00 1b 3d 25 70 31 25  7b 33 32 7d 25 2b 25 63  &gt;..=%p1% {32}%+%c</span>
<span class=Li>0140  25 70 32 25 7b 33 32 7d  25 2b 25 63 00 0a 00 1e  %p2%{32} %+%c....</span>
<span class=Li>0150  00 08 00 0c 00 0b 00 0a  00                       ........ .</span>
</pre><br><p class=Pp></p></section><section class=Sh><h2 class=Sh id=LIMITS><a class=permalink href=#LIMITS>LIMITS</a></h2> Some limitations: <ul class=Bl-bullet><li>total compiled entries cannot exceed 4096 bytes in the legacy format.</li><li>total compiled entries cannot exceed 32768 bytes in the extended format.</li><li>the name field cannot exceed 128 bytes.</li></ul><p class=Pp>Compiled entries are limited to 32768 bytes because offsets into the <i>strings table</i> use two-byte integers. The legacy format could have supported 32768-byte entries, but was limited a virtual memory page's 4096 bytes.</p></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2> /usr/share/misc/terminfo/*/* compiled terminal capability data base </section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><b>curses</b>(3X), <b>terminfo</b>(5). </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> Thomas E. Dickey <br> extended terminfo format for ncurses 5.0 <br> hashed database support for ncurses 5.6 <br> extended number support for ncurses 6.1 <p class=Pp>Eric S. Raymond <br> documented legacy terminfo format, e.g., from pcurses.</p></section></div><table class=foot><tr><td class=foot-date></td><td class=foot-os></td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>