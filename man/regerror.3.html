<!DOCTYPE html>
<html><head><meta charset=utf-8><title>regerror(3)</title><keywords content=man,regerror></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>regerror(3)</h1><table class=head><tr><td class=head-ltitle>REGEX(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>REGEX(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>regcomp</code>, <code class=Nm>regexec</code>, <code class=Nm>regerror</code>, <code class=Nm>regfree</code> — <div class=Nd>regular-expression library</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2><span class=Lb>Standard C Library (libc, -lc)</span></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/regex.h.html>regex.h</a>&gt;</code><p class=Pp><var class=Ft>int</var><br><code class=Fn>regcomp</code>(<var class=Fa>regex_t * restrict preg</var>, <var class=Fa>const char * restrict pattern</var>, <var class=Fa>int cflags</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>regexec</code>(<var class=Fa>const regex_t * restrict preg</var>, <var class=Fa>const char * restrict string</var>, <var class=Fa>size_t nmatch</var>, <var class=Fa>regmatch_t pmatch[restrict]</var>, <var class=Fa>int eflags</var>);</p><p class=Pp><var class=Ft>size_t</var><br><code class=Fn>regerror</code>(<var class=Fa>int errcode</var>, <var class=Fa>const regex_t * restrict preg</var>, <var class=Fa>char * restrict errbuf</var>, <var class=Fa>size_t errbuf_size</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>regfree</code>(<var class=Fa style="white-space: nowrap;">regex_t *preg</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> These routines implement <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span> regular expressions (“RE”s); see <a class=Xr href=re_format.7.html>re_format(7)</a>. The <code class=Fn>regcomp</code>() function compiles an RE written as a string into an internal form, <code class=Fn>regexec</code>() matches that internal form against a string and reports results, <code class=Fn>regerror</code>() transforms error codes from either into human-readable messages, and <code class=Fn>regfree</code>() frees any dynamically-allocated storage used by the internal form of an RE. <p class=Pp>The header <code class=In>&lt;<a class=In href=../src/regex.h.html>regex.h</a>&gt;</code> declares two structure types, <var class=Ft>regex_t</var> and <var class=Ft>regmatch_t</var>, the former for compiled internal forms and the latter for match reporting. It also declares the four functions, a type <var class=Ft>regoff_t</var>, and a number of constants with names starting with “<code class=Dv>REG_</code>”.</p><p class=Pp>The <code class=Fn>regcomp</code>() function compiles the regular expression contained in the <var class=Fa>pattern</var> string, subject to the flags in <var class=Fa>cflags</var>, and places the results in the <var class=Ft>regex_t</var> structure pointed to by <var class=Fa>preg</var>. The <var class=Fa>cflags</var> argument is the bitwise OR of zero or more of the following flags:</p><dl class=Bl-tag><dt><a class=permalink href=#REG_EXTENDED><code class=Dv id=REG_EXTENDED>REG_EXTENDED</code></a></dt><dd>Compile modern (“extended”) REs, rather than the obsolete (“basic”) REs that are the default.</dd><dt><a class=permalink href=#REG_BASIC><code class=Dv id=REG_BASIC>REG_BASIC</code></a></dt><dd>This is a synonym for 0, provided as a counterpart to <code class=Dv>REG_EXTENDED</code> to improve readability.</dd><dt><a class=permalink href=#REG_NOSPEC><code class=Dv id=REG_NOSPEC>REG_NOSPEC</code></a></dt><dd>Compile with recognition of all special characters turned off. All characters are thus considered ordinary, so the “RE” is a literal string. This is an extension, compatible with but not specified by <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>, and should be used with caution in software intended to be portable to other systems. <code class=Dv>REG_EXTENDED</code> and <code class=Dv>REG_NOSPEC</code> may not be used in the same call to <code class=Fn>regcomp</code>().</dd><dt><a class=permalink href=#REG_ICASE><code class=Dv id=REG_ICASE>REG_ICASE</code></a></dt><dd>Compile for matching that ignores upper/lower case distinctions. See <a class=Xr href=re_format.7.html>re_format(7)</a>.</dd><dt><a class=permalink href=#REG_NOSUB><code class=Dv id=REG_NOSUB>REG_NOSUB</code></a></dt><dd>Compile for matching that need only report success or failure, not what was matched.</dd><dt><a class=permalink href=#REG_NEWLINE><code class=Dv id=REG_NEWLINE>REG_NEWLINE</code></a></dt><dd>Compile for newline-sensitive matching. By default, newline is a completely ordinary character with no special meaning in either REs or strings. With this flag, ‘<code class=Li>[^</code>’ bracket expressions and ‘<code class=Li>.</code>’ never match newline, a ‘<code class=Li>^</code>’ anchor matches the null string after any newline in the string in addition to its normal function, and the ‘<code class=Li>$</code>’ anchor matches the null string before any newline in the string in addition to its normal function.</dd><dt><a class=permalink href=#REG_PEND><code class=Dv id=REG_PEND>REG_PEND</code></a></dt><dd>The regular expression ends, not at the first NUL, but just before the character pointed to by the <var class=Va>re_endp</var> member of the structure pointed to by <var class=Fa>preg</var>. The <var class=Va>re_endp</var> member is of type <var class=Ft>const char *</var>. This flag permits inclusion of NULs in the RE; they are considered ordinary characters. This is an extension, compatible with but not specified by <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>, and should be used with caution in software intended to be portable to other systems.</dd></dl><p class=Pp>When successful, <code class=Fn>regcomp</code>() returns 0 and fills in the structure pointed to by <var class=Fa>preg</var>. One member of that structure (other than <var class=Va>re_endp</var>) is publicized: <var class=Va>re_nsub</var>, of type <var class=Ft>size_t</var>, contains the number of parenthesized subexpressions within the RE (except that the value of this member is undefined if the <code class=Dv>REG_NOSUB</code> flag was used). If <code class=Fn>regcomp</code>() fails, it returns a non-zero error code; see <a class=Sx href=#DIAGNOSTICS>DIAGNOSTICS</a>.</p><p class=Pp>The <code class=Fn>regexec</code>() function matches the compiled RE pointed to by <var class=Fa>preg</var> against the <var class=Fa>string</var>, subject to the flags in <var class=Fa>eflags</var>, and reports results using <var class=Fa>nmatch</var>, <var class=Fa>pmatch</var>, and the returned value. The RE must have been compiled by a previous invocation of <code class=Fn>regcomp</code>(). The compiled form is not altered during execution of <code class=Fn>regexec</code>(), so a single compiled RE can be used simultaneously by multiple threads.</p><p class=Pp>By default, the NUL-terminated string pointed to by <var class=Fa>string</var> is considered to be the text of an entire line, minus any terminating newline. The <var class=Fa>eflags</var> argument is the bitwise OR of zero or more of the following flags:</p><dl class=Bl-tag><dt><a class=permalink href=#REG_NOTBOL><code class=Dv id=REG_NOTBOL>REG_NOTBOL</code></a></dt><dd>The first character of the string is treated as the continuation of a line. This means that the anchors ‘<code class=Li>^</code>’, ‘<code class=Li>[[:&lt;:]]</code>’, and ‘<code class=Li>\&lt;</code>’ do not match before it; but see <code class=Dv>REG_STARTEND</code> below. This does not affect the behavior of newlines under <code class=Dv>REG_NEWLINE</code>.</dd><dt><a class=permalink href=#REG_NOTEOL><code class=Dv id=REG_NOTEOL>REG_NOTEOL</code></a></dt><dd>The NUL terminating the string does not end a line, so the ‘<code class=Li>$</code>’ anchor does not match before it. This does not affect the behavior of newlines under <code class=Dv>REG_NEWLINE</code>.</dd><dt><a class=permalink href=#REG_STARTEND><code class=Dv id=REG_STARTEND>REG_STARTEND</code></a></dt><dd>The string is considered to start at <var class=Fa>string</var><span class=No>+</span><var class=Fa>pmatch</var>[0].<var class=Fa>rm_so</var> and to end before the byte located at <var class=Fa>string</var><span class=No>+</span><var class=Fa>pmatch</var>[0].<var class=Fa>rm_eo</var>, regardless of the value of <var class=Fa>nmatch</var>. See below for the definition of <var class=Fa>pmatch</var> and <var class=Fa>nmatch</var>. This is an extension, compatible with but not specified by <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>, and should be used with caution in software intended to be portable to other systems. <p class=Pp>Without <code class=Dv>REG_NOTBOL</code>, the position <var class=Fa>rm_so</var> is considered the beginning of a line, such that ‘<code class=Li>^</code>’ matches before it, and the beginning of a word if there is a word character at this position, such that ‘<code class=Li>[[:&lt;:]]</code>’ and ‘<code class=Li>\&lt;</code>’ match before it.</p><p class=Pp>With <code class=Dv>REG_NOTBOL</code>, the character at position <var class=Fa>rm_so</var> is treated as the continuation of a line, and if <var class=Fa>rm_so</var> is greater than 0, the preceding character is taken into consideration. If the preceding character is a newline and the regular expression was compiled with <code class=Dv>REG_NEWLINE</code>, ‘<code class=Li>^</code>’ matches before the string; if the preceding character is not a word character but the string starts with a word character, ‘<code class=Li>[[:&lt;:]]</code>’ and ‘<code class=Li>\&lt;</code>’ match before the string.</p></dd></dl><p class=Pp>See <a class=Xr href=re_format.7.html>re_format(7)</a> for a discussion of what is matched in situations where an RE or a portion thereof could match any of several substrings of <var class=Fa>string</var>.</p><p class=Pp>Normally, <code class=Fn>regexec</code>() returns 0 for success and the non-zero code <code class=Dv>REG_NOMATCH</code> for failure. Other non-zero error codes may be returned in exceptional situations; see <a class=Sx href=#DIAGNOSTICS>DIAGNOSTICS</a>.</p><p class=Pp>If <code class=Dv>REG_NOSUB</code> was specified in the compilation of the RE, or if <var class=Fa>nmatch</var> is 0, <code class=Fn>regexec</code>() ignores the <var class=Fa>pmatch</var> argument (but see below for the case where <code class=Dv>REG_STARTEND</code> is specified). Otherwise, <var class=Fa>pmatch</var> points to an array of <var class=Fa>nmatch</var> structures of type <var class=Ft>regmatch_t</var>. Such a structure has at least the members <var class=Va>rm_so</var> and <var class=Va>rm_eo</var>, both of type <var class=Ft>regoff_t</var> (a signed arithmetic type at least as large as an <var class=Ft>off_t</var> and a <var class=Ft>ssize_t</var>), containing respectively the offset of the first character of a substring and the offset of the first character after the end of the substring. Offsets are measured from the beginning of the <var class=Fa>string</var> argument given to <code class=Fn>regexec</code>(). An empty substring is denoted by equal offsets, both indicating the character following the empty substring.</p><p class=Pp>The 0th member of the <var class=Fa>pmatch</var> array is filled in to indicate what substring of <var class=Fa>string</var> was matched by the entire RE. Remaining members report what substring was matched by parenthesized subexpressions within the RE; member <var class=Va>i</var> reports subexpression <var class=Va>i</var>, with subexpressions counted (starting at 1) by the order of their opening parentheses in the RE, left to right. Unused entries in the array (corresponding either to subexpressions that did not participate in the match at all, or to subexpressions that do not exist in the RE (that is, <var class=Va>i</var> &gt; <var class=Fa>preg</var>-&gt;<var class=Va>re_nsub</var>)) have both <var class=Va>rm_so</var> and <var class=Va>rm_eo</var> set to -1. If a subexpression participated in the match several times, the reported substring is the last one it matched. (Note, as an example in particular, that when the RE ‘<code class=Li>(b*)+</code>’ matches ‘<code class=Li>bbb</code>’, the parenthesized subexpression matches each of the three ‘<code class=Li>b</code>’s and then an infinite number of empty strings following the last ‘<code class=Li>b</code>’, so the reported substring is one of the empties.)</p><p class=Pp>If <code class=Dv>REG_STARTEND</code> is specified, <var class=Fa>pmatch</var> must point to at least one <var class=Ft>regmatch_t</var> (even if <var class=Fa>nmatch</var> is 0 or <code class=Dv>REG_NOSUB</code> was specified), to hold the input offsets for <code class=Dv>REG_STARTEND</code>. Use for output is still entirely controlled by <var class=Fa>nmatch</var>; if <var class=Fa>nmatch</var> is 0 or <code class=Dv>REG_NOSUB</code> was specified, the value of <var class=Fa>pmatch</var>[0] will not be changed by a successful <code class=Fn>regexec</code>().</p><p class=Pp>The <code class=Fn>regerror</code>() function maps a non-zero <var class=Fa>errcode</var> from either <code class=Fn>regcomp</code>() or <code class=Fn>regexec</code>() to a human-readable, printable message. If <var class=Fa>preg</var> is <span class=No>non-</span><code class=Dv>NULL</code>, the error code should have arisen from use of the <var class=Ft>regex_t</var> pointed to by <var class=Fa>preg</var>, and if the error code came from <code class=Fn>regcomp</code>(), it should have been the result from the most recent <code class=Fn>regcomp</code>() using that <var class=Ft>regex_t</var>. The (<code class=Fn>regerror</code>() may be able to supply a more detailed message using information from the <var class=Ft>regex_t</var>.) The <code class=Fn>regerror</code>() function places the NUL-terminated message into the buffer pointed to by <var class=Fa>errbuf</var>, limiting the length (including the NUL) to at most <var class=Fa>errbuf_size</var> bytes. If the whole message will not fit, as much of it as will fit before the terminating NUL is supplied. In any case, the returned value is the size of buffer needed to hold the whole message (including terminating NUL). If <var class=Fa>errbuf_size</var> is 0, <var class=Fa>errbuf</var> is ignored but the return value is still correct.</p><p class=Pp>If the <var class=Fa>errcode</var> given to <code class=Fn>regerror</code>() is first ORed with <code class=Dv>REG_ITOA</code>, the “message” that results is the printable name of the error code, e.g. “<code class=Dv>REG_NOMATCH</code>”, rather than an explanation thereof. If <var class=Fa>errcode</var> is <code class=Dv>REG_ATOI</code>, then <var class=Fa>preg</var> shall be <span class=No>non-</span><code class=Dv>NULL</code> and the <var class=Va>re_endp</var> member of the structure it points to must point to the printable name of an error code; in this case, the result in <var class=Fa>errbuf</var> is the decimal digits of the numeric value of the error code (0 if the name is not recognized). <code class=Dv>REG_ITOA</code> and <code class=Dv>REG_ATOI</code> are intended primarily as debugging facilities; they are extensions, compatible with but not specified by <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>, and should be used with caution in software intended to be portable to other systems. Be warned also that they are considered experimental and changes are possible.</p><p class=Pp>The <code class=Fn>regfree</code>() function frees any dynamically-allocated storage associated with the compiled RE pointed to by <var class=Fa>preg</var>. The remaining <var class=Ft>regex_t</var> is no longer a valid compiled RE and the effect of supplying it to <code class=Fn>regexec</code>() or <code class=Fn>regerror</code>() is undefined.</p><p class=Pp>None of these functions references global variables except for tables of constants; all are safe for use from multiple threads if the arguments are safe.</p></section><section class=Sh><h2 class=Sh id=IMPLEMENTATION_CHOICES><a class=permalink href=#IMPLEMENTATION_CHOICES>IMPLEMENTATION CHOICES</a></h2> There are a number of decisions that <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span> leaves up to the implementor, either by explicitly saying “undefined” or by virtue of them being forbidden by the RE grammar. This implementation treats them as follows. <p class=Pp>See <a class=Xr href=re_format.7.html>re_format(7)</a> for a discussion of the definition of case-independent matching.</p><p class=Pp>There is no particular limit on the length of REs, except insofar as memory is limited. Memory usage is approximately linear in RE size, and largely insensitive to RE complexity, except for bounded repetitions. See <a class=Sx href=#BUGS>BUGS</a> for one short RE using them that will run almost any system out of memory.</p><p class=Pp>A backslashed character other than one specifically given a magic meaning by <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span> (such magic meanings occur only in obsolete [“basic”] REs) is taken as an ordinary character.</p><p class=Pp>Any unmatched ‘<code class=Li>[</code>’ is a <code class=Dv>REG_EBRACK</code> error.</p><p class=Pp>Equivalence classes cannot begin or end bracket-expression ranges. The endpoint of one range cannot begin another.</p><p class=Pp><code class=Dv>RE_DUP_MAX</code>, the limit on repetition counts in bounded repetitions, is 255.</p><p class=Pp>A repetition operator (‘<code class=Li>?</code>’, ‘<code class=Li>*</code>’, ‘<code class=Li>+</code>’, or bounds) cannot follow another repetition operator. A repetition operator cannot begin an expression or subexpression or follow ‘<code class=Li>^</code>’ or ‘<code class=Li>|</code>’.</p><p class=Pp>‘<code class=Li>|</code>’ cannot appear first or last in a (sub)expression or after another ‘<code class=Li>|</code>’, i.e., an operand of ‘<code class=Li>|</code>’ cannot be an empty subexpression. An empty parenthesized subexpression, ‘<code class=Li>()</code>’, is legal and matches an empty (sub)string. An empty string is not a legal RE.</p><p class=Pp>A ‘<code class=Li>{</code>’ followed by a digit is considered the beginning of bounds for a bounded repetition, which must then follow the syntax for bounds. A ‘<code class=Li>{</code>’ <i class=Em>not</i> followed by a digit is considered an ordinary character.</p><p class=Pp>‘<code class=Li>^</code>’ and ‘<code class=Li>$</code>’ beginning and ending subexpressions in obsolete (“basic”) REs are anchors, not ordinary characters.</p></section><section class=Sh><h2 class=Sh id=DIAGNOSTICS><a class=permalink href=#DIAGNOSTICS>DIAGNOSTICS</a></h2> Non-zero error codes from <code class=Fn>regcomp</code>() and <code class=Fn>regexec</code>() include the following: <p class=Pp></p><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#REG_NOMATCH><code class=Dv id=REG_NOMATCH>REG_NOMATCH</code></a></dt><dd>The <code class=Fn>regexec</code>() function failed to match</dd><dt><a class=permalink href=#REG_BADPAT><code class=Dv id=REG_BADPAT>REG_BADPAT</code></a></dt><dd>invalid regular expression</dd><dt><a class=permalink href=#REG_ECOLLATE><code class=Dv id=REG_ECOLLATE>REG_ECOLLATE</code></a></dt><dd>invalid collating element</dd><dt><a class=permalink href=#REG_ECTYPE><code class=Dv id=REG_ECTYPE>REG_ECTYPE</code></a></dt><dd>invalid character class</dd><dt><a class=permalink href=#REG_EESCAPE><code class=Dv id=REG_EESCAPE>REG_EESCAPE</code></a></dt><dd>‘<code class=Li>\</code>’ applied to unescapable character</dd><dt><a class=permalink href=#REG_ESUBREG><code class=Dv id=REG_ESUBREG>REG_ESUBREG</code></a></dt><dd>invalid backreference number</dd><dt><a class=permalink href=#REG_EBRACK><code class=Dv id=REG_EBRACK>REG_EBRACK</code></a></dt><dd>brackets ‘<code class=Li>[ ]</code>’ not balanced</dd><dt><a class=permalink href=#REG_EPAREN><code class=Dv id=REG_EPAREN>REG_EPAREN</code></a></dt><dd>parentheses ‘<code class=Li>( )</code>’ not balanced</dd><dt><a class=permalink href=#REG_EBRACE><code class=Dv id=REG_EBRACE>REG_EBRACE</code></a></dt><dd>braces ‘<code class=Li>{ }</code>’ not balanced</dd><dt><a class=permalink href=#REG_BADBR><code class=Dv id=REG_BADBR>REG_BADBR</code></a></dt><dd>invalid repetition count(s) in ‘<code class=Li>{ }</code>’</dd><dt><a class=permalink href=#REG_ERANGE><code class=Dv id=REG_ERANGE>REG_ERANGE</code></a></dt><dd>invalid character range in ‘<code class=Li>[ ]</code>’</dd><dt><a class=permalink href=#REG_ESPACE><code class=Dv id=REG_ESPACE>REG_ESPACE</code></a></dt><dd>ran out of memory</dd><dt><a class=permalink href=#REG_BADRPT><code class=Dv id=REG_BADRPT>REG_BADRPT</code></a></dt><dd>‘<code class=Li>?</code>’, ‘<code class=Li>*</code>’, or ‘<code class=Li>+</code>’ operand invalid</dd><dt><a class=permalink href=#REG_EMPTY><code class=Dv id=REG_EMPTY>REG_EMPTY</code></a></dt><dd>empty (sub)expression</dd><dt><a class=permalink href=#REG_ASSERT><code class=Dv id=REG_ASSERT>REG_ASSERT</code></a></dt><dd>cannot happen - you found a bug</dd><dt><a class=permalink href=#REG_INVARG><code class=Dv id=REG_INVARG>REG_INVARG</code></a></dt><dd>invalid argument, e.g. negative-length string</dd><dt><a class=permalink href=#REG_ILLSEQ><code class=Dv id=REG_ILLSEQ>REG_ILLSEQ</code></a></dt><dd>illegal byte sequence (bad multibyte character)</dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=grep.1.html>grep(1)</a>, <a class=Xr href=re_format.7.html>re_format(7)</a><p class=Pp><span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>, sections 2.8 (Regular Expression Notation) and B.5 (C Binding for Regular Expression Matching).</p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> Originally written by <span class=An>Henry Spencer</span>. Altered for inclusion in the <span class=Ux>4.4BSD</span> distribution. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> This is an alpha release with known defects. Please report problems. <p class=Pp>The back-reference code is subtle and doubts linger about its correctness in complex cases.</p><p class=Pp>The <code class=Fn>regexec</code>() function performance is poor. This will improve with later releases. The <var class=Fa>nmatch</var> argument exceeding 0 is expensive; <var class=Fa>nmatch</var> exceeding 1 is worse. The <code class=Fn>regexec</code>() function is largely insensitive to RE complexity <i class=Em>except</i> that back references are massively expensive. RE length does matter; in particular, there is a strong speed bonus for keeping RE length under about 30 characters, with most special characters counting roughly double.</p><p class=Pp>The <code class=Fn>regcomp</code>() function implements bounded repetitions by macro expansion, which is costly in time and space if counts are large or bounded repetitions are nested. An RE like, say, ‘<code class=Li>((((a{1,100}){1,100}){1,100}){1,100}){1,100}</code>’ will (eventually) run almost any existing machine out of swap space.</p><p class=Pp>There are suspected problems with response to obscure error conditions. Notably, certain kinds of internal overflow, produced only by truly enormous REs or by multiply nested bounded repetitions, are probably not handled well.</p><p class=Pp>Due to a mistake in <span class=St>IEEE Std 1003.2 (“POSIX.2”)</span>, things like ‘<code class=Li>a)b</code>’ are legal REs because ‘<code class=Li>)</code>’ is a special character only in the presence of a previous unmatched ‘<code class=Li>(</code>’. This cannot be fixed until the spec is fixed.</p><p class=Pp>The standard's definition of back references is vague. For example, does ‘<code class=Li>a\(\(b\)*\2\)*d</code>’ match ‘<code class=Li>abbbd</code>’? Until the standard is clarified, behavior in such cases should not be relied on.</p><p class=Pp>The implementation of word-boundary matching is a bit of a kludge, and bugs may lurk in combinations of word-boundary matching and anchoring.</p><p class=Pp>Word-boundary matching does not work properly in multibyte locales.</p></section></div><table class=foot><tr><td class=foot-date>May 25, 2016</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>