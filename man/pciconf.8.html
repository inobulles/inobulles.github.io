<!DOCTYPE html>
<html><head><meta charset=utf-8><title>pciconf(8)</title><keywords content=man,pciconf></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>pciconf(8)</h1><table class=head><tr><td class=head-ltitle>PCICONF(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>PCICONF(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>pciconf</code> — <div class=Nd>diagnostic utility for the PCI bus</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>pciconf</code></td><td><code class=Fl>-l</code> [<code class=Fl>-BbceVv</code>] [<var class=Ar>device</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>pciconf</code></td><td><code class=Fl>-a</code><var class=Ar>device</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>pciconf</code></td><td><code class=Fl>-r</code> [<code class=Fl>-b</code> | <code class=Fl>-h</code>] <var class=Ar>device addr</var>[:<var class=Ar>addr2</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>pciconf</code></td><td><code class=Fl>-w</code> [<code class=Fl>-b</code> | <code class=Fl>-h</code>] <var class=Ar>device addr value</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>pciconf</code></td><td><code class=Fl>-D</code> [<code class=Fl>-b</code> | <code class=Fl>-h</code> | <code class=Fl>-x</code>] <var class=Ar>device addr</var> [start[:<var class=Ar>count</var>]]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>pciconf</code> utility provides a command line interface to functionality provided by the <a class=Xr href=pci.4.html>pci(4)</a><a class=Xr href=ioctl.2.html>ioctl(2)</a> interface. As such, some of the functions are only available to users with write access to <span class=Pa>/dev/pci</span>, normally only the super-user. <p class=Pp>With the <code class=Fl>-l</code> option, <code class=Nm>pciconf</code> lists PCI devices in the following format:</p><div class="Bd Pp"><pre>
foo0@pci0:0:4:0: class=0x010000 rev=0x01 hdr=0x00 vendor=0x1000 device=0x000f subvendor=0x0000 subdevice=0x0000
bar0@pci0:0:5:0: class=0x000100 rev=0x00 hdr=0x00 vendor=0x88c1 device=0x5333 subvendor=0x0000 subdevice=0x0000
none0@pci0:0:6:0: class=0x020000 rev=0x00 hdr=0x00 vendor=0x10ec device=0x8029 subvendor=0x0000 subdevice=0x0000
</pre></div><p class=Pp>The first column gives the driver name, unit number, and selector. If there is no driver attached to the PCI device in question, the driver name will be “none”. Unit numbers for detached devices start at zero and are incremented for each detached device that is encountered. The selector is in a form which may directly be used for the other forms of the command. The second column is the class code, with the class byte printed as two hex digits, followed by the sub-class and the interface bytes. The third column prints the device's revision. The fourth column describes the header type.</p><p class=Pp>Currently assigned header types include 0 for standard devices, 1 for PCI to PCI bridges, and 2 for PCI to CardBus bridges. If the most significant bit of the header type register is set for function 0 of a PCI device, it is a <i class=Em>multi-function</i> device, which contains several (similar or independent) functions on one chip.</p><p class=Pp>The sixth and seventh columns contain the vendor ID and the device ID of the device. The eigth and ninth columns contain subvendor and subdevice IDs, introduced in revision 2.1 of the PCI standard. Note that they will be 0 for older cards.</p><p class=Pp>Adding a second <code class=Fl>-l</code> option causes output to be in a compact columnar format, suitable for 80 column output:</p><div class="Bd Pp"><pre>
drv     selector        class   rev hdr vendor device subven subdev
foo0@pci0:0:4:0:        010000  01  00  1000   000f   0000   0000
bar0@pci0:0:5:0:        000100  00  00  88c1   5333   0000   0000
none0@pci0:0:6:0:       020000  00  00  10ec   8029   0000   0000
</pre></div><p class=Pp>All fields retain the same definition as with the non-compact form.</p><p class=Pp>If the <code class=Fl>-B</code> option is supplied, <code class=Nm>pciconf</code> will list additional information for PCI to PCI and PCI to CardBus bridges, specifically the resource ranges decoded by the bridge for use by devices behind the bridge. Each bridge lists a range of bus numbers handled by the bridge and its downstream devices. Memory and I/O port decoding windows are enumerated via a line in the following format:</p><div class="Bd Pp"><pre>
    window[1c] = type I/O Port, range 16, addr 0x5000-0x8fff, enabled
</pre></div><p class=Pp>The first value after the “<code class=Li>window</code>” prefix in the square brackets is the offset of the decoding window in config space in hexadecimal. The type of a window is one of “Memory”, “Prefetchable Memory”, or “I/O Port”. The range indicates the binary log of the maximum address the window decodes. The address field indicates the start and end addresses of the decoded range. Finally, the last flag indicates if the window is enabled or disabled.</p><p class=Pp>If the <code class=Fl>-b</code> option is supplied, <code class=Nm>pciconf</code> will list any base address registers (BARs) that are assigned resources for each device. Each BAR will be enumerated via a line in the following format:</p><div class="Bd Pp"><pre>
    bar   [10] = type Memory, range 32, base 0xda060000, size 131072, enabled
</pre></div><p class=Pp>The first value after the “<code class=Li>bar</code>” prefix in the square brackets is the offset of the BAR in config space in hexadecimal. The type of a BAR is one of “Memory”, “Prefetchable Memory”, or “I/O Port”. The range indicates the binary log of the maximum address the BAR decodes. The base and size indicate the start and length of the BAR's address window, respectively. Finally, the last flag indicates if the BAR is enabled or disabled.</p><p class=Pp>If the <code class=Fl>-c</code> option is supplied, <code class=Nm>pciconf</code> will list any capabilities supported by each device. A second invocation of <code class=Fl>-c</code> will print additional data for certain capabilities. Each capability is enumerated via a line in the following format:</p><div class="Bd Pp"><pre>
    cap 10[40] = PCI-Express 1 root port
</pre></div><p class=Pp>The first value after the “<code class=Li>cap</code>” prefix is the capability ID in hexadecimal. The second value in the square brackets is the offset of the capability in config space in hexadecimal. The format of the text after the equals sign is capability-specific.</p><p class=Pp>Each extended capability is enumerated via a line in a similar format:</p><div class="Bd Pp"><pre>
ecap 0002[100] = VC 1 max VC0
</pre></div><p class=Pp>The first value after the “<code class=Li>ecap</code>” prefix is the extended capability ID in hexadecimal. The second value in the square brackets is the offset of the extended capability in config space in hexadecimal. The format of the text after the equals sign is capability-specific.</p><p class=Pp>If the <code class=Fl>-e</code> option is supplied, <code class=Nm>pciconf</code> will list any errors reported for this device in standard PCI error registers. Errors are checked for in the PCI status register, the PCI-express device status register, and the Advanced Error Reporting status registers.</p><p class=Pp>If the <code class=Fl>-v</code> option is supplied, <code class=Nm>pciconf</code> will attempt to load the vendor/device information database, and print vendor, device, class and subclass identification strings for each device.</p><p class=Pp>If the <code class=Fl>-V</code> option is supplied, <code class=Nm>pciconf</code> will list any vital product data (VPD) provided by each device. Each VPD keyword is enumerated via a line in the following format:</p><div class="Bd Pp"><pre>
    VPD ro PN  = '110114640C0     '
</pre></div><p class=Pp>The first string after the “<code class=Li>VPD</code>” prefix indicates if the keyword is read-only “ro” or read-write “rw”. The second string provides the keyword name. The text after the equals sign lists the value of the keyword which is usually an ASCII string.</p><p class=Pp>If the optional <var class=Ar>device</var> argument is given with the <code class=Fl>-l</code> flag, <code class=Nm>pciconf</code> will only list details about a single device instead of all devices.</p><p class=Pp>All invocations of <code class=Nm>pciconf</code> except for <code class=Fl>-l</code> require a <var class=Ar>device</var>. The device can be identified either by a device name if the device is attached to a driver or by a selector. Selectors identify a PCI device by its address in PCI config space and can take one of the following forms:</p><p class=Pp></p><ul class="Bl-bullet Bd-indent Bl-compact"><li><a class=permalink href=#pci><code class=Li id=pci>pci</code></a><var class=Va>domain</var>:<var class=Va>bus</var>:<var class=Va>device</var>:<var class=Va>function</var></li><li><a class=permalink href=#pci_2><code class=Li id=pci_2>pci</code></a><var class=Va>bus</var>:<var class=Va>device</var>:<var class=Va>function</var></li><li><a class=permalink href=#pci_3><code class=Li id=pci_3>pci</code></a><var class=Va>bus</var>:<var class=Va>device</var></li></ul><p class=Pp>In the case of an abridged form, omitted selector components are assumed to be 0. An optional leading device name followed by @ and an optional final colon will be ignored; this is so that the first column in the output of <code class=Nm>pciconf</code><code class=Fl>-l</code> can be used without modification. All numbers are base 10.</p><p class=Pp>With the <code class=Fl>-a</code> flag, <code class=Nm>pciconf</code> determines whether any driver has been assigned to the device identified by <var class=Ar>selector</var>. An exit status of zero indicates that the device has a driver; non-zero indicates that it does not.</p><p class=Pp>The <code class=Fl>-r</code> option reads a configuration space register at byte offset <var class=Ar>addr</var> of device <var class=Ar>selector</var> and prints out its value in hexadecimal. The optional second address <var class=Ar>addr2</var> specifies a range to read. The <code class=Fl>-w</code> option writes the <var class=Ar>value</var> into a configuration space register at byte offset <var class=Ar>addr</var> of device <var class=Ar>selector</var>.</p><p class=Pp>The <code class=Fl>-D</code> option request a dump of the specified BAR. Dump is performed to the standard output, raw register values are written. Use <a class=Xr href=hexdump.1.html>hexdump(1)</a> to convert them to human-readable dump, or redirect into a file to save the snapshot of the device state. Optionally, the <var class=Ar>start</var> and <var class=Ar>count</var> of the registers dumped can be specified, in multiple of the operation width, see next paragraph.</p><p class=Pp>For read, write, and dump operations, the flags <code class=Fl>-b</code>, <code class=Fl>-h</code>, and <code class=Fl>-x</code> select the width of the operation; <code class=Fl>-b</code> indicates a byte operation, and <code class=Fl>-h</code> indicates a halfword (two-byte) operation. <code class=Fl>-x</code> indicates a quadword (four-byte) operation. The default is to read or write a longword (four bytes). The quadword mode is only valid for BAR dump.</p></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2> PCI vendor and device information is read from <span class=Pa>/usr/local/share/pciids/pci.ids</span>. If that file is not present, it is read from <span class=Pa>/usr/share/misc/pci_vendors</span>. This path can be overridden by setting the environment variable <code class=Ev>PCICONF_VENDOR_DATABASE</code>. </section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=ioctl.2.html>ioctl(2)</a>, <a class=Xr href=devinfo.8.html>devinfo(8)</a>, <a class=Xr href=kldload.8.html>kldload(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>pciconf</code> utility appeared first in <span class=Ux>FreeBSD 2.2</span>. The <code class=Fl>-a</code> option was added for PCI KLD support in <span class=Ux>FreeBSD 3.0</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The <code class=Nm>pciconf</code> utility was written by <span class=An>Stefan Esser</span> and <span class=An>Garrett Wollman</span>. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> The <code class=Fl>-b</code> and <code class=Fl>-h</code> options are implemented in <code class=Nm>pciconf</code>, but not in the underlying <a class=Xr href=ioctl.2.html>ioctl(2)</a>. <p class=Pp>It might be useful to give non-root users access to the <code class=Fl>-a</code> and <code class=Fl>-r</code> options. But only root will be able to execute a <code class=Nm>kldload</code> to provide the device with a driver KLD, and reading of configuration space registers may cause a failure in badly designed PCI chips.</p><p class=Pp>There is currently no way to specify the caching mode for the mapping established by the <code class=Fl>-D</code> option, <code class=Nm>pciconf</code> always uses uncached access. This is fine for control register BARs.</p></section></div><table class=foot><tr><td class=foot-date>June 14, 2018</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>