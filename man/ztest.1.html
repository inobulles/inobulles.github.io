<!DOCTYPE html>
<html><head><meta charset=utf-8><title>ztest(1)</title><keywords content=man,ztest></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>ztest(1)</h1><table class=head><tr><td class=head-ltitle>ZTEST(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>ZTEST(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>ztest</code> — <div class=Nd>was written by the ZFS Developers as a ZFS unit test</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>ztest</code></td><td>[<code class=Fl>-VEG</code>] [<code class=Fl>-v</code><var class=Ar>vdevs</var>] [<code class=Fl>-s</code><var class=Ar>size_of_each_vdev</var>] [<code class=Fl>-a</code><var class=Ar>alignment_shift</var>] [<code class=Fl>-m</code><var class=Ar>mirror_copies</var>] [<code class=Fl>-r</code><var class=Ar>raidz_disks/draid_disks</var>] [<code class=Fl>-R</code><var class=Ar>raid_parity</var>] [<code class=Fl>-K</code><var class=Ar>raid_kind</var>] [<code class=Fl>-D</code><var class=Ar>draid_data</var>] [<code class=Fl>-S</code><var class=Ar>draid_spares</var>] [<code class=Fl>-C</code><var class=Ar>vdev_class_state</var>] [<code class=Fl>-d</code><var class=Ar>datasets</var>] [<code class=Fl>-t</code><var class=Ar>threads</var>] [<code class=Fl>-g</code><var class=Ar>gang_block_threshold</var>] [<code class=Fl>-i</code><var class=Ar>initialize_pool_i_times</var>] [<code class=Fl>-k</code><var class=Ar>kill_percentage</var>] [<code class=Fl>-p</code><var class=Ar>pool_name</var>] [<code class=Fl>-T</code><var class=Ar>time</var>] [<code class=Fl>-z</code><var class=Ar>zil_failure_rate</var>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><code class=Nm>ztest</code> was written by the ZFS Developers as a ZFS unit test. The tool was developed in tandem with the ZFS functionality and was executed nightly as one of the many regression test against the daily build. As features were added to ZFS, unit tests were also added to <code class=Nm>ztest</code>. In addition, a separate test development team wrote and executed more functional and stress tests. <p class=Pp>By default <code class=Nm>ztest</code> runs for ten minutes and uses block files (stored in <span class=Pa>/tmp</span>) to create pools rather than using physical disks. Block files afford <code class=Nm>ztest</code> its flexibility to play around with zpool components without requiring large hardware configurations. However, storing the block files in <span class=Pa>/tmp</span> may not work for you if you have a small tmp directory.</p><p class=Pp>By default is non-verbose. This is why entering the command above will result in <code class=Nm>ztest</code> quietly executing for 5 minutes. The <code class=Fl>-V</code> option can be used to increase the verbosity of the tool. Adding multiple <code class=Fl>-V</code> options is allowed and the more you add the more chatty <code class=Nm>ztest</code> becomes.</p><p class=Pp>After the <code class=Nm>ztest</code> run completes, you should notice many <span class=Pa>ztest.*</span> files lying around. Once the run completes you can safely remove these files. Note that you shouldn't remove these files during a run. You can re-use these files in your next <code class=Nm>ztest</code> run by using the <code class=Fl>-E</code> option.</p></section><section class=Sh><h2 class=Sh id=OPTIONS><a class=permalink href=#OPTIONS>OPTIONS</a></h2><dl class=Bl-tag><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a>, <code class=Fl>-?</code>, <code class=Fl>--help</code></dt><dd>Print a help summary.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a>, <code class=Fl>--vdevs</code>= (default: <b class=Sy>5</b>)</dt><dd>Number of vdevs.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a>, <code class=Fl>--vdev-size</code>= (default: <b class=Sy>64M</b>)</dt><dd>Size of each vdev.</dd><dt><a class=permalink href=#a><code class=Fl id=a>-a</code></a>, <code class=Fl>--alignment-shift</code>= (default: <b class=Sy>9</b>) <span class=No>(use</span><b class=Sy>0</b><span class=No>for random)</span></dt><dd>Alignment shift used in test.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a>, <code class=Fl>--mirror-copies</code>= (default: <b class=Sy>2</b>)</dt><dd>Number of mirror copies.</dd><dt><a class=permalink href=#r><code class=Fl id=r>-r</code></a>, <code class=Fl>--raid-disks</code>= (default: <b class=Sy>4</b><span class=No>for raidz/</span><b class=Sy>16</b><span class=No>for draid)</span></dt><dd>Number of raidz/draid disks.</dd><dt><a class=permalink href=#R><code class=Fl id=R>-R</code></a>, <code class=Fl>--raid-parity</code>= (default: <b class=Sy>1</b>)</dt><dd>Raid parity (raidz &amp; draid).</dd><dt><a class=permalink href=#K><code class=Fl id=K>-K</code></a>, <code class=Fl>--raid-kind</code>=<b class=Sy>raidz</b>|<b class=Sy>draid</b>|<b class=Sy>random</b><span class=No>(default:</span><b class=Sy>random</b>)</dt><dd>The kind of RAID config to use. With <b class=Sy>random</b> the kind alternates between raidz and draid.</dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a>, <code class=Fl>--draid-data</code>= (default: <b class=Sy>4</b>)</dt><dd>Number of data disks in a dRAID redundancy group.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a>, <code class=Fl>--draid-spares</code>= (default: <b class=Sy>1</b>)</dt><dd>Number of dRAID distributed spare disks.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a>, <code class=Fl>--datasets</code>= (default: <b class=Sy>7</b>)</dt><dd>Number of datasets.</dd><dt><a class=permalink href=#t><code class=Fl id=t>-t</code></a>, <code class=Fl>--threads</code>= (default: <b class=Sy>23</b>)</dt><dd>Number of threads.</dd><dt><a class=permalink href=#g><code class=Fl id=g>-g</code></a>, <code class=Fl>--gang-block-threshold</code>= (default: <b class=Sy>32K</b>)</dt><dd>Gang block threshold.</dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a>, <code class=Fl>--init-count</code>= (default: <b class=Sy>1</b>)</dt><dd>Number of pool initializations.</dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a>, <code class=Fl>--kill-percentage</code>= (default: <b class=Sy>70%</b>)</dt><dd>Kill percentage.</dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a>, <code class=Fl>--pool-name</code>= (default: <b class=Sy>ztest</b>)</dt><dd>Pool name.</dd><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a>, <code class=Fl>--vdev-file-directory</code>= (default: <span class=Pa>/tmp</span>)</dt><dd>File directory for vdev files.</dd><dt><a class=permalink href=#M><code class=Fl id=M>-M</code></a>, <code class=Fl>--multi-host</code></dt><dd>Multi-host; simulate pool imported on remote host.</dd><dt><a class=permalink href=#E><code class=Fl id=E>-E</code></a>, <code class=Fl>--use-existing-pool</code></dt><dd>Use existing pool (use existing pool instead of creating new one).</dd><dt><a class=permalink href=#T><code class=Fl id=T>-T</code></a>, <code class=Fl>--run-time</code>= (default: <b class=Sy>300</b>s)</dt><dd>Total test run time.</dd><dt><a class=permalink href=#P><code class=Fl id=P>-P</code></a>, <code class=Fl>--pass-time</code>= (default: <b class=Sy>60</b>s)</dt><dd>Time per pass.</dd><dt><a class=permalink href=#F><code class=Fl id=F>-F</code></a>, <code class=Fl>--freeze-loops</code>= (default: <b class=Sy>50</b>)</dt><dd>Max loops in <code class=Fn>spa_freeze</code>().</dd><dt><a class=permalink href=#B><code class=Fl id=B>-B</code></a>, <code class=Fl>--alt-ztest</code>=</dt><dd>Path to alternate ("older") <code class=Nm>ztest</code> to drive, which will be used to initialise the pool, and, a stochastic half the time, to run the tests. The parallel <span class=Pa>lib</span> directory is prepended to <code class=Ev>LD_LIBRARY_PATH</code>; i.e. given <code class=Fl>-B</code><span class=Pa>./chroots/lenny/usr/bin/</span><code class=Nm>ztest</code>, <span class=Pa>./chroots/lenny/usr/lib</span> will be loaded.</dd><dt><a class=permalink href=#C><code class=Fl id=C>-C</code></a>, <code class=Fl>--vdev-class-state</code>=<b class=Sy>on</b>|<b class=Sy>off</b>|<b class=Sy>random</b><span class=No>(default:</span><b class=Sy>random</b>)</dt><dd>The vdev allocation class state.</dd><dt><a class=permalink href=#o><code class=Fl id=o>-o</code></a>, <code class=Fl>--option</code>=<var class=Ar>variable</var>=<var class=Ar>value</var></dt><dd>Set global <var class=Ar>variable</var> to an unsigned 32-bit integer <var class=Ar>value</var> (little-endian only).</dd><dt><a class=permalink href=#G><code class=Fl id=G>-G</code></a>, <code class=Fl>--dump-debug</code></dt><dd>Dump zfs_dbgmsg buffer before exiting due to an error.</dd><dt><a class=permalink href=#V><code class=Fl id=V>-V</code></a>, <code class=Fl>--verbose</code></dt><dd>Verbose (use multiple times for ever more verbosity).</dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> To override <span class=Pa>/tmp</span> as your location for block files, you can use the <code class=Fl>-f</code> option: <div class="Bd Bd-indent"><code class=Li># ztest -f /</code></div><p class=Pp>To get an idea of what <code class=Nm>ztest</code> is actually testing try this:</p><div class="Bd Bd-indent"><code class=Li># ztest -f / -VVV</code></div><p class=Pp>Maybe you'd like to run <code class=Nm>ztest</code> for longer? To do so simply use the <code class=Fl>-T</code> option and specify the runlength in seconds like so:</p><div class="Bd Bd-indent"><code class=Li># ztest -f / -V -T 120</code></div></section><section class=Sh><h2 class=Sh id=ENVIRONMENT_VARIABLES><a class=permalink href=#ENVIRONMENT_VARIABLES>ENVIRONMENT VARIABLES</a></h2><dl class=Bl-tag><dt><a class=permalink href=#ZFS_HOSTID><code class=Ev id=ZFS_HOSTID>ZFS_HOSTID</code></a>=<i class=Em>id</i></dt><dd>Use <i class=Em>id</i> instead of the SPL hostid to identify this host. Intended for use with <code class=Nm>ztest</code>, but this environment variable will affect any utility which uses libzpool, including <a class=Xr href=zpool.8.html>zpool(8)</a>. Since the kernel is unaware of this setting, results with utilities other than ztest are undefined.</dd><dt><a class=permalink href=#ZFS_STACK_SIZE><code class=Ev id=ZFS_STACK_SIZE>ZFS_STACK_SIZE</code></a>=<i class=Em>stacksize</i></dt><dd>Limit the default stack size to <i class=Em>stacksize</i> bytes for the purpose of detecting and debugging kernel stack overflows. This value defaults to <i class=Em>32K</i> which is double the default <i class=Em>16K</i> Linux kernel stack size. <p class=Pp>In practice, setting the stack size slightly higher is needed because differences in stack usage between kernel and user space can lead to spurious stack overflows (especially when debugging is enabled). The specified value will be rounded up to a floor of PTHREAD_STACK_MIN which is the minimum stack required for a NULL procedure in user space.</p><p class=Pp>By default the stack size is limited to <i class=Em>256K</i>.</p></dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=zdb.1.html>zdb(1)</a>, <a class=Xr href=zfs.1.html>zfs(1)</a>, <a class=Xr href=zpool.1.html>zpool(1)</a>, <a class=Xr href=spl.4.html>spl(4)</a></section></div><table class=foot><tr><td class=foot-date>May 26, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>