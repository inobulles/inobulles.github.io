<!DOCTYPE html>
<html><head><meta charset=utf-8><title>checkversion(3)</title><keywords content=man,checkversion></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>checkversion(3)</h1><table class=head><tr><td class=head-ltitle>DEVSTAT(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>DEVSTAT(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>devstat</code>, <code class=Nm>devstat_getnumdevs</code>, <code class=Nm>devstat_getgeneration</code>, <code class=Nm>devstat_getversion</code>, <code class=Nm>devstat_checkversion</code>, <code class=Nm>devstat_getdevs</code>, <code class=Nm>devstat_selectdevs</code>, <code class=Nm>devstat_buildmatch</code>, <code class=Nm>devstat_compute_statistics</code>, <code class=Nm>devstat_compute_etime</code> — <div class=Nd>device statistics utility library</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2><span class=Lb>Device Statistics Library (libdevstat, -ldevstat)</span></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/devstat.h.html>devstat.h</a>&gt;</code><p class=Pp><var class=Ft>int</var><br><code class=Fn>devstat_getnumdevs</code>(<var class=Fa style="white-space: nowrap;">kvm_t *kd</var>);</p><p class=Pp><var class=Ft>long</var><br><code class=Fn>devstat_getgeneration</code>(<var class=Fa style="white-space: nowrap;">kvm_t *kd</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>devstat_getversion</code>(<var class=Fa style="white-space: nowrap;">kvm_t *kd</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>devstat_checkversion</code>(<var class=Fa style="white-space: nowrap;">kvm_t *kd</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>devstat_getdevs</code>(<var class=Fa style="white-space: nowrap;">kvm_t *kd</var>, <var class=Fa style="white-space: nowrap;">struct statinfo *stats</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>devstat_selectdevs</code>(<var class=Fa>struct device_selection **dev_select</var>, <var class=Fa>int *num_selected</var>, <var class=Fa>int *num_selections</var>, <var class=Fa>long *select_generation</var>, <var class=Fa>long current_generation</var>, <var class=Fa>struct devstat *devices</var>, <var class=Fa>int numdevs</var>, <var class=Fa>struct devstat_match *matches</var>, <var class=Fa>int num_matches</var>, <var class=Fa>char **dev_selections</var>, <var class=Fa>int num_dev_selections</var>, <var class=Fa>devstat_select_mode select_mode</var>, <var class=Fa>int maxshowdevs</var>, <var class=Fa>int perf_select</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>devstat_buildmatch</code>(<var class=Fa>char *match_str</var>, <var class=Fa>struct devstat_match **matches</var>, <var class=Fa>int *num_matches</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>devstat_compute_statistics</code>(<var class=Fa>struct devstat *current</var>, <var class=Fa>struct devstat *previous</var>, <var class=Fa>long double etime</var>, <var class=Fa>...</var>);</p><p class=Pp><var class=Ft>long double</var><br><code class=Fn>devstat_compute_etime</code>(<var class=Fa>struct bintime *cur_time</var>, <var class=Fa>struct bintime *prev_time</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>devstat</code> library is a library of helper functions for dealing with the kernel <a class=Xr href=devstat.9.html>devstat(9)</a> interface, which is accessible to users via <a class=Xr href=sysctl.3.html>sysctl(3)</a> and <a class=Xr href=kvm.3.html>kvm(3)</a>. All functions that take a <var class=Vt>kvm_t *</var> as first argument can be passed <code class=Dv>NULL</code> instead of a kvm handle as this argument, which causes the data to be read via <a class=Xr href=sysctl.3.html>sysctl(3)</a>. Otherwise, it is read via <a class=Xr href=kvm.3.html>kvm(3)</a> using the supplied handle. The <code class=Fn>devstat_checkversion</code>() function should be called with each kvm handle that is going to be used (or with <code class=Dv>NULL</code> if <a class=Xr href=sysctl.3.html>sysctl(3)</a> is going to be used). <p class=Pp>The <code class=Fn>devstat_getnumdevs</code>() function returns the number of devices registered with the <code class=Nm>devstat</code> subsystem in the kernel.</p><p class=Pp>The <code class=Fn>devstat_getgeneration</code>() function returns the current generation of the <code class=Nm>devstat</code> list of devices in the kernel.</p><p class=Pp>The <code class=Fn>devstat_getversion</code>() function returns the current kernel <code class=Nm>devstat</code> version.</p><p class=Pp>The <code class=Fn>devstat_checkversion</code>() function checks the userland <code class=Nm>devstat</code> version against the kernel <code class=Nm>devstat</code> version. If the two are identical, it returns zero. Otherwise, it prints an appropriate error in <var class=Va>devstat_errbuf</var> and returns -1.</p><p class=Pp>The <code class=Fn>devstat_getdevs</code>() function fetches the current list of devices and statistics into the supplied <var class=Vt>statinfo</var> structure. The <var class=Vt>statinfo</var> structure can be found in <code class=In>&lt;<a class=In href=../src/devstat.h.html>devstat.h</a>&gt;</code>:</p><div class="Bd Pp Bd-indent"><pre>
struct statinfo {
	long            cp_time[CPUSTATES];
	long            tk_nin;
	long            tk_nout;
	struct devinfo  *dinfo;
	long double     snap_time;
};
</pre></div><p class=Pp>The <code class=Fn>devstat_getdevs</code>() function expects the <var class=Vt>statinfo</var> structure to be allocated, and it also expects the <var class=Va>dinfo</var> subelement to be allocated and zeroed prior to the first invocation of <code class=Fn>devstat_getdevs</code>(). The <var class=Va>dinfo</var> subelement is used to store state between calls, and should not be modified after the first call to <code class=Fn>devstat_getdevs</code>(). The <var class=Va>dinfo</var> subelement contains the following elements:</p><div class="Bd Pp Bd-indent"><pre>
struct devinfo {
	struct devstat	*devices;
	uint8_t		*mem_ptr;
	long		generation;
	int		numdevs;
};
</pre></div><p class=Pp>The <var class=Va>kern.devstat.all</var><a class=Xr href=sysctl.8.html>sysctl(8)</a> variable contains an array of <code class=Nm>devstat</code> structures, but at the head of the array is the current <code class=Nm>devstat</code> generation. The reason the generation is at the head of the buffer is so that userland software accessing the <code class=Nm>devstat</code> statistics information can atomically get both the statistics information and the corresponding generation number. If client software were forced to get the generation number via a separate <a class=Xr href=sysctl.8.html>sysctl(8)</a> variable (which is available for convenience), the list of devices could change between the time the client gets the generation and the time the client gets the device list.</p><p class=Pp>The <var class=Va>mem_ptr</var> subelement of the <var class=Vt>devinfo</var> structure is a pointer to memory that is allocated, and resized if necessary, by <code class=Fn>devstat_getdevs</code>(). The devices subelement of the <var class=Vt>devinfo</var> structure is basically a pointer to the beginning of the array of devstat structures from the <var class=Va>kern.devstat.all</var><a class=Xr href=sysctl.8.html>sysctl(8)</a> variable (or the corresponding values read via <a class=Xr href=kvm.3.html>kvm(3)</a>). The generation subelement of the <var class=Vt>devinfo</var> structure contains the corresponding generation number. The <var class=Va>numdevs</var> subelement of the <var class=Vt>devinfo</var> structure contains the current number of devices registered with the kernel <code class=Nm>devstat</code> subsystem.</p><p class=Pp>The <code class=Fn>devstat_selectdevs</code>() function selects devices to display based upon a number of criteria:</p><dl class=Bl-tag><dt>specified devices</dt><dd>Specified devices are the first selection priority. These are generally devices specified by name by the user e.g. <code class=Li>da0</code>, <code class=Li>da1</code>, <code class=Li>cd0</code>.</dd><dt>match patterns</dt><dd>These are pattern matching expressions generated by <code class=Fn>devstat_buildmatch</code>() from user input.</dd><dt>performance</dt><dd>If performance mode is enabled, devices will be sorted based on the <var class=Va>bytes</var> field in the <var class=Vt>device_selection</var> structure passed in to <code class=Fn>devstat_selectdevs</code>(). The <var class=Va>bytes</var> value currently must be maintained by the user. In the future, this may be done for him in a <code class=Nm>devstat</code> library routine. If no devices have been selected by name or by pattern, the performance tracking code will select every device in the system, and sort them by performance. If devices have been selected by name or pattern, the performance tracking code will honor those selections and will only sort among the selected devices.</dd><dt>order in the devstat list</dt><dd>If the selection mode is set to <code class=Dv>DS_SELECT_ADD</code>, and if there are still less than <var class=Fa>maxshowdevs</var> devices selected, <code class=Fn>devstat_selectdevs</code>() will automatically select up to <var class=Fa>maxshowdevs</var> devices.</dd></dl><p class=Pp>The <code class=Fn>devstat_selectdevs</code>() function performs selections in four different modes:</p><dl class=Bl-tag><dt><a class=permalink href=#DS_SELECT_ADD><code class=Dv id=DS_SELECT_ADD>DS_SELECT_ADD</code></a></dt><dd>In “add” mode, <code class=Fn>devstat_selectdevs</code>() will select any unselected devices specified by name or matching pattern. It will also select more devices, in devstat list order, until the number of selected devices is equal to <var class=Fa>maxshowdevs</var> or until all devices are selected.</dd><dt><a class=permalink href=#DS_SELECT_ONLY><code class=Dv id=DS_SELECT_ONLY>DS_SELECT_ONLY</code></a></dt><dd>In “only” mode, <code class=Fn>devstat_selectdevs</code>() will clear all current selections, and will only select devices specified by name or by matching pattern.</dd><dt><a class=permalink href=#DS_SELECT_REMOVE><code class=Dv id=DS_SELECT_REMOVE>DS_SELECT_REMOVE</code></a></dt><dd>In “remove” mode, <code class=Fn>devstat_selectdevs</code>() will remove devices specified by name or by matching pattern. It will not select any additional devices.</dd><dt><a class=permalink href=#DS_SELECT_ADDONLY><code class=Dv id=DS_SELECT_ADDONLY>DS_SELECT_ADDONLY</code></a></dt><dd>In “add only” mode, <code class=Fn>devstat_selectdevs</code>() will select any unselected devices specified by name or matching pattern. In this respect it is identical to “add” mode. It will not, however, select any devices other than those specified.</dd></dl><p class=Pp>In all selection modes, <code class=Fn>devstat_selectdevs</code>() will not select any more than <var class=Fa>maxshowdevs</var> devices. One exception to this is when you are in “top” mode and no devices have been selected. In this case, <code class=Fn>devstat_selectdevs</code>() will select every device in the system. Client programs must pay attention to selection order when deciding whether to pay attention to a particular device. This may be the wrong behavior, and probably requires additional thought.</p><p class=Pp>The <code class=Fn>devstat_selectdevs</code>() function handles allocation and resizing of the <var class=Fa>dev_select</var> structure passed in by the client. The <code class=Fn>devstat_selectdevs</code>() function uses the <var class=Fa>numdevs</var> and <var class=Fa>current_generation</var> fields to track the current <code class=Nm>devstat</code> generation and number of devices. If <var class=Fa>num_selections</var> is not the same as <var class=Fa>numdevs</var> or if <var class=Fa>select_generation</var> is not the same as <var class=Fa>current_generation</var>, <code class=Fn>devstat_selectdevs</code>() will resize the selection list as necessary, and re-initialize the selection array.</p><p class=Pp>The <code class=Fn>devstat_buildmatch</code>() function takes a comma separated match string and compiles it into a <var class=Vt>devstat_match</var> structure that is understood by <code class=Fn>devstat_selectdevs</code>(). Match strings have the following format:</p><p class=Pp></p><div class="Bd Bd-indent"><var class=Ar>device</var>,<var class=Ar>type</var>,<var class=Ar>if</var></div><p class=Pp>The <code class=Fn>devstat_buildmatch</code>() function takes care of allocating and reallocating the match list as necessary. Currently known match types include:</p><dl class=Bl-tag><dt>device type:</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#da><code class=Li id=da>da</code></a></dt><dd>Direct Access devices</dd><dt><a class=permalink href=#sa><code class=Li id=sa>sa</code></a></dt><dd>Sequential Access devices</dd><dt><a class=permalink href=#printer><code class=Li id=printer>printer</code></a></dt><dd>Printers</dd><dt><a class=permalink href=#proc><code class=Li id=proc>proc</code></a></dt><dd>Processor devices</dd><dt><a class=permalink href=#worm><code class=Li id=worm>worm</code></a></dt><dd>Write Once Read Multiple devices</dd><dt><a class=permalink href=#cd><code class=Li id=cd>cd</code></a></dt><dd>CD devices</dd><dt><a class=permalink href=#scanner><code class=Li id=scanner>scanner</code></a></dt><dd>Scanner devices</dd><dt><a class=permalink href=#optical><code class=Li id=optical>optical</code></a></dt><dd>Optical Memory devices</dd><dt><a class=permalink href=#changer><code class=Li id=changer>changer</code></a></dt><dd>Medium Changer devices</dd><dt><a class=permalink href=#comm><code class=Li id=comm>comm</code></a></dt><dd>Communication devices</dd><dt><a class=permalink href=#array><code class=Li id=array>array</code></a></dt><dd>Storage Array devices</dd><dt><a class=permalink href=#enclosure><code class=Li id=enclosure>enclosure</code></a></dt><dd>Enclosure Services devices</dd><dt><a class=permalink href=#floppy><code class=Li id=floppy>floppy</code></a></dt><dd>Floppy devices</dd></dl></dd><dt>interface:</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#IDE><code class=Li id=IDE>IDE</code></a></dt><dd>Integrated Drive Electronics devices</dd><dt><a class=permalink href=#SCSI><code class=Li id=SCSI>SCSI</code></a></dt><dd>Small Computer System Interface devices</dd><dt><a class=permalink href=#other><code class=Li id=other>other</code></a></dt><dd>Any other device interface</dd></dl></dd><dt>passthrough:</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#pass><code class=Li id=pass>pass</code></a></dt><dd>Passthrough devices</dd></dl></dd></dl><p class=Pp>The <code class=Fn>devstat_compute_statistics</code>() function provides complete statistics calculation. There are four arguments for which values <i class=Em>must</i> be supplied: <var class=Fa>current</var>, <var class=Fa>previous</var>, <var class=Fa>etime</var>, and the terminating argument for the varargs list, <code class=Dv>DSM_NONE</code>. For most applications, the user will want to supply valid <var class=Vt>devstat</var> structures for both <var class=Fa>current</var> and <var class=Fa>previous</var>. In some instances, for instance when calculating statistics since system boot, the user may pass in a <code class=Dv>NULL</code> pointer for the <var class=Fa>previous</var> argument. In that case, <code class=Fn>devstat_compute_statistics</code>() will use the total stats in the <var class=Fa>current</var> structure to calculate statistics over <var class=Fa>etime</var>. For each statistics to be calculated, the user should supply the proper enumerated type (listed below), and a variable of the indicated type. All statistics are either integer values, for which a <var class=Vt>uint64_t</var> is used, or floating point, for which a <var class=Vt>long double</var> is used. The statistics that may be calculated are:</p><dl class=Bl-tag><dt><a class=permalink href=#DSM_NONE><code class=Dv id=DSM_NONE>DSM_NONE</code></a></dt><dd>type: N/A <p class=Pp>This <i class=Em>must</i> be the last argument passed to <code class=Fn>devstat_compute_statistics</code>(). It is an argument list terminator.</p></dd><dt><a class=permalink href=#DSM_TOTAL_BYTES><code class=Dv id=DSM_TOTAL_BYTES>DSM_TOTAL_BYTES</code></a></dt><dd>type: <var class=Vt>uint64_t *</var><p class=Pp>The total number of bytes transferred between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TOTAL_BYTES_READ><code class=Dv id=DSM_TOTAL_BYTES_READ>DSM_TOTAL_BYTES_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_BYTES_WRITE><code class=Dv id=DSM_TOTAL_BYTES_WRITE>DSM_TOTAL_BYTES_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_BYTES_FREE><code class=Dv id=DSM_TOTAL_BYTES_FREE>DSM_TOTAL_BYTES_FREE</code></a></dt><dd>type: <var class=Vt>uint64_t *</var><p class=Pp>The total number of bytes in transactions of the specified type between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TOTAL_TRANSFERS><code class=Dv id=DSM_TOTAL_TRANSFERS>DSM_TOTAL_TRANSFERS</code></a></dt><dd>type: <var class=Vt>uint64_t *</var><p class=Pp>The total number of transfers between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TOTAL_TRANSFERS_OTHER><code class=Dv id=DSM_TOTAL_TRANSFERS_OTHER>DSM_TOTAL_TRANSFERS_OTHER</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_TRANSFERS_READ><code class=Dv id=DSM_TOTAL_TRANSFERS_READ>DSM_TOTAL_TRANSFERS_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_TRANSFERS_WRITE><code class=Dv id=DSM_TOTAL_TRANSFERS_WRITE>DSM_TOTAL_TRANSFERS_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_TRANSFERS_FREE><code class=Dv id=DSM_TOTAL_TRANSFERS_FREE>DSM_TOTAL_TRANSFERS_FREE</code></a></dt><dd>type: <var class=Vt>uint64_t *</var><p class=Pp>The total number of transactions of the specified type between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TOTAL_DURATION><code class=Dv id=DSM_TOTAL_DURATION>DSM_TOTAL_DURATION</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The total duration of transactions, in seconds, between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TOTAL_DURATION_OTHER><code class=Dv id=DSM_TOTAL_DURATION_OTHER>DSM_TOTAL_DURATION_OTHER</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_DURATION_READ><code class=Dv id=DSM_TOTAL_DURATION_READ>DSM_TOTAL_DURATION_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_DURATION_WRITE><code class=Dv id=DSM_TOTAL_DURATION_WRITE>DSM_TOTAL_DURATION_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_DURATION_FREE><code class=Dv id=DSM_TOTAL_DURATION_FREE>DSM_TOTAL_DURATION_FREE</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The total duration of transactions of the specified type between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TOTAL_BUSY_TIME><code class=Dv id=DSM_TOTAL_BUSY_TIME>DSM_TOTAL_BUSY_TIME</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>Total time the device had one or more transactions outstanding between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TOTAL_BLOCKS><code class=Dv id=DSM_TOTAL_BLOCKS>DSM_TOTAL_BLOCKS</code></a></dt><dd>type: <var class=Vt>uint64_t *</var><p class=Pp>The total number of blocks transferred between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>. This number is in terms of the blocksize reported by the device. If no blocksize has been reported (i.e., the block size is 0), a default blocksize of 512 bytes will be used in the calculation.</p></dd><dt><a class=permalink href=#DSM_TOTAL_BLOCKS_READ><code class=Dv id=DSM_TOTAL_BLOCKS_READ>DSM_TOTAL_BLOCKS_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_BLOCKS_WRITE><code class=Dv id=DSM_TOTAL_BLOCKS_WRITE>DSM_TOTAL_BLOCKS_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TOTAL_BLOCKS_FREE><code class=Dv id=DSM_TOTAL_BLOCKS_FREE>DSM_TOTAL_BLOCKS_FREE</code></a></dt><dd>type: <var class=Vt>uint64_t *</var><p class=Pp>The total number of blocks of the specified type between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>. This number is in terms of the blocksize reported by the device. If no blocksize has been reported (i.e., the block size is 0), a default blocksize of 512 bytes will be used in the calculation.</p></dd><dt><a class=permalink href=#DSM_KB_PER_TRANSFER><code class=Dv id=DSM_KB_PER_TRANSFER>DSM_KB_PER_TRANSFER</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of kilobytes per transfer between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_KB_PER_TRANSFER_READ><code class=Dv id=DSM_KB_PER_TRANSFER_READ>DSM_KB_PER_TRANSFER_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_KB_PER_TRANSFER_WRITE><code class=Dv id=DSM_KB_PER_TRANSFER_WRITE>DSM_KB_PER_TRANSFER_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_KB_PER_TRANSFER_FREE><code class=Dv id=DSM_KB_PER_TRANSFER_FREE>DSM_KB_PER_TRANSFER_FREE</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of kilobytes in the specified type transaction between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TRANSFERS_PER_SECOND><code class=Dv id=DSM_TRANSFERS_PER_SECOND>DSM_TRANSFERS_PER_SECOND</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of transfers per second between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_TRANSFERS_PER_SECOND_OTHER><code class=Dv id=DSM_TRANSFERS_PER_SECOND_OTHER>DSM_TRANSFERS_PER_SECOND_OTHER</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TRANSFERS_PER_SECOND_READ><code class=Dv id=DSM_TRANSFERS_PER_SECOND_READ>DSM_TRANSFERS_PER_SECOND_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TRANSFERS_PER_SECOND_WRITE><code class=Dv id=DSM_TRANSFERS_PER_SECOND_WRITE>DSM_TRANSFERS_PER_SECOND_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_TRANSFERS_PER_SECOND_FREE><code class=Dv id=DSM_TRANSFERS_PER_SECOND_FREE>DSM_TRANSFERS_PER_SECOND_FREE</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of transactions of the specified type per second between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_MB_PER_SECOND><code class=Dv id=DSM_MB_PER_SECOND>DSM_MB_PER_SECOND</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of megabytes transferred per second between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_MB_PER_SECOND_READ><code class=Dv id=DSM_MB_PER_SECOND_READ>DSM_MB_PER_SECOND_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_MB_PER_SECOND_WRITE><code class=Dv id=DSM_MB_PER_SECOND_WRITE>DSM_MB_PER_SECOND_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_MB_PER_SECOND_FREE><code class=Dv id=DSM_MB_PER_SECOND_FREE>DSM_MB_PER_SECOND_FREE</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of megabytes per second in the specified type of transaction between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_BLOCKS_PER_SECOND><code class=Dv id=DSM_BLOCKS_PER_SECOND>DSM_BLOCKS_PER_SECOND</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of blocks transferred per second between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>. This number is in terms of the blocksize reported by the device. If no blocksize has been reported (i.e., the block size is 0), a default blocksize of 512 bytes will be used in the calculation.</p></dd><dt><a class=permalink href=#DSM_BLOCKS_PER_SECOND_READ><code class=Dv id=DSM_BLOCKS_PER_SECOND_READ>DSM_BLOCKS_PER_SECOND_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_BLOCKS_PER_SECOND_WRITE><code class=Dv id=DSM_BLOCKS_PER_SECOND_WRITE>DSM_BLOCKS_PER_SECOND_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_BLOCKS_PER_SECOND_FREE><code class=Dv id=DSM_BLOCKS_PER_SECOND_FREE>DSM_BLOCKS_PER_SECOND_FREE</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average number of blocks per second in the specified type of transaction between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>. This number is in terms of the blocksize reported by the device. If no blocksize has been reported (i.e., the block size is 0), a default blocksize of 512 bytes will be used in the calculation.</p></dd><dt><a class=permalink href=#DSM_MS_PER_TRANSACTION><code class=Dv id=DSM_MS_PER_TRANSACTION>DSM_MS_PER_TRANSACTION</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average duration of transactions between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_MS_PER_TRANSACTION_OTHER><code class=Dv id=DSM_MS_PER_TRANSACTION_OTHER>DSM_MS_PER_TRANSACTION_OTHER</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_MS_PER_TRANSACTION_READ><code class=Dv id=DSM_MS_PER_TRANSACTION_READ>DSM_MS_PER_TRANSACTION_READ</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_MS_PER_TRANSACTION_WRITE><code class=Dv id=DSM_MS_PER_TRANSACTION_WRITE>DSM_MS_PER_TRANSACTION_WRITE</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#DSM_MS_PER_TRANSACTION_FREE><code class=Dv id=DSM_MS_PER_TRANSACTION_FREE>DSM_MS_PER_TRANSACTION_FREE</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The average duration of transactions of the specified type between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_BUSY_PCT><code class=Dv id=DSM_BUSY_PCT>DSM_BUSY_PCT</code></a></dt><dd>type: <var class=Vt>long double *</var><p class=Pp>The percentage of time the device had one or more transactions outstanding between the acquisition of <var class=Fa>previous</var> and <var class=Fa>current</var>.</p></dd><dt><a class=permalink href=#DSM_QUEUE_LENGTH><code class=Dv id=DSM_QUEUE_LENGTH>DSM_QUEUE_LENGTH</code></a></dt><dd>type: <var class=Vt>uint64_t *</var><p class=Pp>The number of not yet completed transactions at the time when <var class=Fa>current</var> was acquired.</p></dd><dt><a class=permalink href=#DSM_SKIP><code class=Dv id=DSM_SKIP>DSM_SKIP</code></a></dt><dd>type: N/A <p class=Pp>If you do not need a result from <code class=Fn>devstat_compute_statistics</code>(), just put <code class=Dv>DSM_SKIP</code> as first (type) parameter and <code class=Dv>NULL</code> as second parameter. This can be useful in scenarios where the statistics to be calculated are determined at run time.</p></dd></dl><p class=Pp>The <code class=Fn>devstat_compute_etime</code>() function provides an easy way to find the difference in seconds between two <var class=Vt>bintime</var> structures. This is most commonly used in conjunction with the time recorded by the <code class=Fn>devstat_getdevs</code>() function (in <var class=Vt>struct statinfo</var>) each time it fetches the current <code class=Nm>devstat</code> list.</p></section><section class=Sh><h2 class=Sh id=RETURN_VALUES><a class=permalink href=#RETURN_VALUES>RETURN VALUES</a></h2> The <code class=Fn>devstat_getnumdevs</code>(), <code class=Fn>devstat_getgeneration</code>(), and <code class=Fn>devstat_getversion</code>() function return the indicated sysctl variable, or -1 if there is an error fetching the variable. <p class=Pp>The <code class=Fn>devstat_checkversion</code>() function returns 0 if the kernel and userland <code class=Nm>devstat</code> versions match. If they do not match, it returns -1.</p><p class=Pp>The <code class=Fn>devstat_getdevs</code>() and <code class=Fn>devstat_selectdevs</code>() functions return -1 in case of an error, 0 if there is no error, and 1 if the device list or selected devices have changed. A return value of 1 from <code class=Fn>devstat_getdevs</code>() is usually a hint to re-run <code class=Fn>devstat_selectdevs</code>() because the device list has changed.</p><p class=Pp>The <code class=Fn>devstat_buildmatch</code>() function returns -1 for error, and 0 if there is no error.</p><p class=Pp>The <code class=Fn>devstat_compute_etime</code>() function returns the computed elapsed time.</p><p class=Pp>The <code class=Fn>devstat_compute_statistics</code>() function returns -1 for error, and 0 for success.</p><p class=Pp>If an error is returned from one of the <code class=Nm>devstat</code> library functions, the reason for the error is generally printed in the global string <var class=Va>devstat_errbuf</var> which is <code class=Dv>DEVSTAT_ERRBUF_SIZE</code> characters long.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=systat.1.html>systat(1)</a>, <a class=Xr href=kvm.3.html>kvm(3)</a>, <a class=Xr href=sysctl.3.html>sysctl(3)</a>, <a class=Xr href=iostat.8.html>iostat(8)</a>, <a class=Xr href=rpc.rstatd.8.html>rpc.rstatd(8)</a>, <a class=Xr href=sysctl.8.html>sysctl(8)</a>, <a class=Xr href=vmstat.8.html>vmstat(8)</a>, <a class=Xr href=devstat.9.html>devstat(9)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>devstat</code> statistics system first appeared in <span class=Ux>FreeBSD 3.0</span>. The new interface (the functions prefixed with <code class=Li>devstat_</code>) first appeared in <span class=Ux>FreeBSD 5.0</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2><span class=An>Kenneth Merry</span> &lt;<a class=Mt href=mailto:ken@FreeBSD.org>ken@FreeBSD.org</a>&gt; </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> There should probably be an interface to de-allocate memory allocated by <code class=Fn>devstat_getdevs</code>(), <code class=Fn>devstat_selectdevs</code>(), and <code class=Fn>devstat_buildmatch</code>(). <p class=Pp>The <code class=Fn>devstat_selectdevs</code>() function should probably not select more than <var class=Fa>maxshowdevs</var> devices in “top” mode when no devices have been selected previously.</p><p class=Pp>There should probably be functions to perform the statistics buffer swapping that goes on in most of the clients of this library.</p><p class=Pp>The <var class=Vt>statinfo</var> and <var class=Vt>devinfo</var> structures should probably be cleaned up and thought out a little more.</p></section></div><table class=foot><tr><td class=foot-date>December 15, 2012</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>