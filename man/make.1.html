<!DOCTYPE html>
<html><head><meta charset=utf-8><title>make(1)</title><keywords content=man,make></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>make(1)</h1><table class=head><tr><td class=head-ltitle>MAKE(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>MAKE(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>make</code> — <div class=Nd>maintain program dependencies</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>make</code></td><td>[<code class=Fl>-BeikNnqrSstWwX</code>] [<code class=Fl>-C</code><var class=Ar>directory</var>] [<code class=Fl>-D</code><var class=Ar>variable</var>] [<code class=Fl>-d</code><var class=Ar>flags</var>] [<code class=Fl>-f</code><var class=Ar>makefile</var>] [<code class=Fl>-I</code><var class=Ar>directory</var>] [<code class=Fl>-J</code><var class=Ar>private</var>] [<code class=Fl>-j</code><var class=Ar>max_jobs</var>] [<code class=Fl>-m</code><var class=Ar>directory</var>] [<code class=Fl>-T</code><var class=Ar>file</var>] [<code class=Fl>-V</code><var class=Ar>variable</var>] [<code class=Fl>-v</code><var class=Ar>variable</var>] [<var class=Ar>variable=value</var>] [<var class=Ar>target ...</var>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><code class=Nm>make</code> is a program designed to simplify the maintenance of other programs. Its input is a list of specifications as to the files upon which programs and other files depend. If no <code class=Fl>-f</code><var class=Ar>makefile</var> makefile option is given, <code class=Nm>make</code> will try to open ‘<span class=Pa>makefile</span>’ then ‘<span class=Pa>Makefile</span>’ in order to find the specifications. If the file ‘<span class=Pa>.depend</span>’ exists, it is read (see <a class=Xr href=mkdep.1.html>mkdep(1)</a>). <p class=Pp>This manual page is intended as a reference document only. For a more thorough description of <code class=Nm>make</code> and makefiles, please refer to <span class=RsT>PMake - A Tutorial.</span></p><p class=Pp><code class=Nm>make</code> will prepend the contents of the <var class=Va>MAKEFLAGS</var> environment variable to the command line arguments before parsing them.</p><p class=Pp>The options are as follows:</p><dl class=Bl-tag><dt><a class=permalink href=#B><code class=Fl id=B>-B</code></a></dt><dd>Try to be backwards compatible by executing a single shell per command and by executing the commands to make the sources of a dependency line in sequence.</dd><dt><a class=permalink href=#C><code class=Fl id=C>-C</code></a><var class=Ar>directory</var></dt><dd>Change to <var class=Ar>directory</var> before reading the makefiles or doing anything else. If multiple <code class=Fl>-C</code> options are specified, each is interpreted relative to the previous one: <code class=Fl>-C</code><span class=Pa>/</span><code class=Fl>-C</code><span class=Pa>etc</span> is equivalent to <code class=Fl>-C</code><span class=Pa>/etc</span>.</dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a><var class=Ar>variable</var></dt><dd>Define <var class=Ar>variable</var> to be 1, in the global scope.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a><var class=Ar>[-]flags</var></dt><dd>Turn on debugging, and specify which portions of <code class=Nm>make</code> are to print debugging information. Unless the flags are preceded by ‘<code class=Li>-</code>’ they are added to the <var class=Va>MAKEFLAGS</var> environment variable and will be processed by any child make processes. By default, debugging information is printed to standard error, but this can be changed using the <var class=Ar>F</var> debugging flag. The debugging output is always unbuffered; in addition, if debugging is enabled but debugging output is not directed to standard output, then the standard output is line buffered. <var class=Ar>Flags</var> is one or more of the following: <dl class=Bl-tag><dt><var class=Ar>A</var></dt><dd>Print all possible debugging information; equivalent to specifying all of the debugging flags.</dd><dt><var class=Ar>a</var></dt><dd>Print debugging information about archive searching and caching.</dd><dt><var class=Ar>C</var></dt><dd>Print debugging information about current working directory.</dd><dt><var class=Ar>c</var></dt><dd>Print debugging information about conditional evaluation.</dd><dt><var class=Ar>d</var></dt><dd>Print debugging information about directory searching and caching.</dd><dt><var class=Ar>e</var></dt><dd>Print debugging information about failed commands and targets.</dd><dt><var class=Ar>F</var>[<b class=Sy>+</b>]<var class=Ar>filename</var></dt><dd>Specify where debugging output is written. This must be the last flag, because it consumes the remainder of the argument. If the character immediately after the ‘<code class=Li>F</code>’ flag is ‘<code class=Li>+</code>’, then the file will be opened in append mode; otherwise the file will be overwritten. If the file name is ‘<code class=Li>stdout</code>’ or ‘<code class=Li>stderr</code>’ then debugging output will be written to the standard output or standard error output file descriptors respectively (and the ‘<code class=Li>+</code>’ option has no effect). Otherwise, the output will be written to the named file. If the file name ends ‘<code class=Li>.%d</code>’ then the ‘<code class=Li>%d</code>’ is replaced by the pid.</dd><dt><var class=Ar>f</var></dt><dd>Print debugging information about loop evaluation.</dd><dt><var class=Ar>g1</var></dt><dd>Print the input graph before making anything.</dd><dt><var class=Ar>g2</var></dt><dd>Print the input graph after making everything, or before exiting on error.</dd><dt><var class=Ar>g3</var></dt><dd>Print the input graph before exiting on error.</dd><dt><var class=Ar>h</var></dt><dd>Print debugging information about hash table operations.</dd><dt><var class=Ar>j</var></dt><dd>Print debugging information about running multiple shells.</dd><dt><var class=Ar>L</var></dt><dd>Turn on lint checks. This will throw errors for variable assignments that do not parse correctly, at the time of assignment so the file and line number are available.</dd><dt><var class=Ar>l</var></dt><dd>Print commands in Makefiles regardless of whether or not they are prefixed by ‘<code class=Li>@</code>’ or other "quiet" flags. Also known as "loud" behavior.</dd><dt><var class=Ar>M</var></dt><dd>Print debugging information about "meta" mode decisions about targets.</dd><dt><var class=Ar>m</var></dt><dd>Print debugging information about making targets, including modification dates.</dd><dt><var class=Ar>n</var></dt><dd>Don't delete the temporary command scripts created when running commands. These temporary scripts are created in the directory referred to by the <code class=Ev>TMPDIR</code> environment variable, or in <span class=Pa>/tmp</span> if <code class=Ev>TMPDIR</code> is unset or set to the empty string. The temporary scripts are created by <a class=Xr href=mkstemp.3.html>mkstemp(3)</a>, and have names of the form <span class=Pa>makeXXXXXX</span>. <i class=Em>NOTE</i>: This can create many files in <code class=Ev>TMPDIR</code> or <span class=Pa>/tmp</span>, so use with care.</dd><dt><var class=Ar>p</var></dt><dd>Print debugging information about makefile parsing.</dd><dt><var class=Ar>s</var></dt><dd>Print debugging information about suffix-transformation rules.</dd><dt><var class=Ar>t</var></dt><dd>Print debugging information about target list maintenance.</dd><dt><var class=Ar>V</var></dt><dd>Force the <code class=Fl>-V</code> option to print raw values of variables, overriding the default behavior set via <var class=Va>.MAKE.EXPAND_VARIABLES</var>.</dd><dt><var class=Ar>v</var></dt><dd>Print debugging information about variable assignment.</dd><dt><var class=Ar>x</var></dt><dd>Run shell commands with <code class=Fl>-x</code> so the actual commands are printed as they are executed.</dd></dl></dd><dt><a class=permalink href=#e><code class=Fl id=e>-e</code></a></dt><dd>Specify that environment variables override macro assignments within makefiles.</dd><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a><var class=Ar>makefile</var></dt><dd>Specify a makefile to read instead of the default ‘<span class=Pa>makefile</span>’. If <var class=Ar>makefile</var> is ‘<code class=Fl>-</code>’, standard input is read. Multiple makefiles may be specified, and are read in the order specified.</dd><dt><a class=permalink href=#I><code class=Fl id=I>-I</code></a><var class=Ar>directory</var></dt><dd>Specify a directory in which to search for makefiles and included makefiles. The system makefile directory (or directories, see the <code class=Fl>-m</code> option) is automatically included as part of this list.</dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a></dt><dd>Ignore non-zero exit of shell commands in the makefile. Equivalent to specifying ‘<code class=Fl>-</code>’ before each command line in the makefile.</dd><dt><a class=permalink href=#J><code class=Fl id=J>-J</code></a><var class=Ar>private</var></dt><dd>This option should <i class=Em>not</i> be specified by the user. <p class=Pp>When the <code class=Fl>-j</code> option is in use in a recursive build, this option is passed by a make to child makes to allow all the make processes in the build to cooperate to avoid overloading the system.</p></dd><dt><a class=permalink href=#j><code class=Fl id=j>-j</code></a><var class=Ar>max_jobs</var></dt><dd>Specify the maximum number of jobs that <code class=Nm>make</code> may have running at any one time. The value is saved in <var class=Va>.MAKE.JOBS</var>. Turns compatibility mode off, unless the <code class=Fl>-B</code> option is also specified. When compatibility mode is off, all commands associated with a target are executed in a single shell invocation as opposed to the traditional one shell invocation per line. This can break traditional scripts which change directories on each command invocation and then expect to start with a fresh environment on the next line. It is more efficient to correct the scripts rather than turn backwards compatibility on.</dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a></dt><dd>Continue processing after errors are encountered, but only on those targets that do not depend on the target whose creation caused the error.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a><var class=Ar>directory</var></dt><dd>Specify a directory in which to search for sys.mk and makefiles included via the <code class=Li>&lt;</code><var class=Ar>file</var><code class=Li>&gt;</code>-style include statement. The <code class=Fl>-m</code> option can be used multiple times to form a search path. This path will override the default system include path: /usr/share/mk. Furthermore the system include path will be appended to the search path used for <code class=Li>"</code><var class=Ar>file</var><code class=Li>"</code>-style include statements (see the <code class=Fl>-I</code> option). <p class=Pp>If a file or directory name in the <code class=Fl>-m</code> argument (or the <code class=Ev>MAKESYSPATH</code> environment variable) starts with the string “.../” then <code class=Nm>make</code> will search for the specified file or directory named in the remaining part of the argument string. The search starts with the current directory of the Makefile and then works upward towards the root of the file system. If the search is successful, then the resulting directory replaces the “.../” specification in the <code class=Fl>-m</code> argument. If used, this feature allows <code class=Nm>make</code> to easily search in the current source tree for customized sys.mk files (e.g., by using “.../mk/sys.mk” as an argument).</p></dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a></dt><dd>Display the commands that would have been executed, but do not actually execute them unless the target depends on the .MAKE special source (see below) or the command is prefixed with ‘<code class=Ic>+</code>’.</dd><dt><a class=permalink href=#N><code class=Fl id=N>-N</code></a></dt><dd>Display the commands which would have been executed, but do not actually execute any of them; useful for debugging top-level makefiles without descending into subdirectories.</dd><dt><a class=permalink href=#q><code class=Fl id=q>-q</code></a></dt><dd>Do not execute any commands, but exit 0 if the specified targets are up-to-date and 1, otherwise.</dd><dt><a class=permalink href=#r><code class=Fl id=r>-r</code></a></dt><dd>Do not use the built-in rules specified in the system makefile.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a></dt><dd>Stop processing if an error is encountered. This is the default behavior and the opposite of <code class=Fl>-k</code>.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a></dt><dd>Do not echo any commands as they are executed. Equivalent to specifying ‘<code class=Ic>@</code>’ before each command line in the makefile.</dd><dt><a class=permalink href=#T><code class=Fl id=T>-T</code></a><var class=Ar>tracefile</var></dt><dd>When used with the <code class=Fl>-j</code> flag, append a trace record to <var class=Ar>tracefile</var> for each job started and completed.</dd><dt><a class=permalink href=#t><code class=Fl id=t>-t</code></a></dt><dd>Rather than re-building a target as specified in the makefile, create it or update its modification time to make it appear up-to-date.</dd><dt><a class=permalink href=#V><code class=Fl id=V>-V</code></a><var class=Ar>variable</var></dt><dd>Print the value of <var class=Ar>variable</var>. Do not build any targets. Multiple instances of this option may be specified; the variables will be printed one per line, with a blank line for each null or undefined variable. The value printed is extracted from the global scope after all makefiles have been read. By default, the raw variable contents (which may include additional unexpanded variable references) are shown. If <var class=Ar>variable</var> contains a ‘<code class=Li>$</code>’ then the value will be recursively expanded to its complete resultant text before printing. The expanded value will also be printed if <var class=Va>.MAKE.EXPAND_VARIABLES</var> is set to true and the <code class=Fl>-dV</code> option has not been used to override it. Note that loop-local and target-local variables, as well as values taken temporarily by global variables during makefile processing, are not accessible via this option. The <code class=Fl>-dv</code> debug mode can be used to see these at the cost of generating substantial extraneous output.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a><var class=Ar>variable</var></dt><dd>Like <code class=Fl>-V</code> but the variable is always expanded to its complete value.</dd><dt><a class=permalink href=#W><code class=Fl id=W>-W</code></a></dt><dd>Treat any warnings during makefile parsing as errors.</dd><dt><a class=permalink href=#w><code class=Fl id=w>-w</code></a></dt><dd>Print entering and leaving directory messages, pre and post processing.</dd><dt><a class=permalink href=#X><code class=Fl id=X>-X</code></a></dt><dd>Don't export variables passed on the command line to the environment individually. Variables passed on the command line are still exported via the <var class=Va>MAKEFLAGS</var> environment variable. This option may be useful on systems which have a small limit on the size of command arguments.</dd><dt><var class=Ar>variable=value</var></dt><dd>Set the value of the variable <var class=Ar>variable</var> to <var class=Ar>value</var>. Normally, all values passed on the command line are also exported to sub-makes in the environment. The <code class=Fl>-X</code> flag disables this behavior. Variable assignments should follow options for POSIX compatibility but no ordering is enforced.</dd></dl><p class=Pp>There are seven different types of lines in a makefile: file dependency specifications, shell commands, variable assignments, include statements, conditional directives, for loops, and comments.</p><p class=Pp>In general, lines may be continued from one line to the next by ending them with a backslash (‘<code class=Li>\</code>’). The trailing newline character and initial whitespace on the following line are compressed into a single space.</p></section><section class=Sh><h2 class=Sh id=FILE_DEPENDENCY_SPECIFICATIONS><a class=permalink href=#FILE_DEPENDENCY_SPECIFICATIONS>FILE DEPENDENCY SPECIFICATIONS</a></h2> Dependency lines consist of one or more targets, an operator, and zero or more sources. This creates a relationship where the targets “depend” on the sources and are customarily created from them. A target is considered out-of-date if it does not exist, or if its modification time is less than that of any of its sources. An out-of-date target will be re-created, but not until all sources have been examined and themselves re-created as needed. Three operators may be used: <dl class=Bl-tag><dt><a class=permalink href=#:><code class=Ic id=:>:</code></a></dt><dd>Many dependency lines may name this target but only one may have attached shell commands. All sources named in all dependency lines are considered together, and if needed the attached shell commands are run to create or re-create the target. If <code class=Nm>make</code> is interrupted, the target is removed.</dd><dt><a class=permalink href=#!><code class=Ic id=!>!</code></a></dt><dd>The same, but the target is always re-created whether or not it is out of date.</dd><dt><a class=permalink href=#::><code class=Ic id=::>::</code></a></dt><dd>Any dependency line may have attached shell commands, but each one is handled independently: its sources are considered and the attached shell commands are run if the target is out of date with respect to (only) those sources. Thus, different groups of the attached shell commands may be run depending on the circumstances. Furthermore, unlike <code class=Ic>:,</code> for dependency lines with no sources, the attached shell commands are always run. Also unlike <code class=Ic>:,</code> the target will not be removed if <code class=Nm>make</code> is interrupted.</dd></dl> All dependency lines mentioning a particular target must use the same operator. <p class=Pp>Targets and sources may contain the shell wildcard values ‘<code class=Li>?</code>’, ‘<code class=Li>*</code>’, ‘<code class=Li>[]</code>’, and ‘<code class=Li>{}</code>’. The values ‘<code class=Li>?</code>’, ‘<code class=Li>*</code>’, and ‘<code class=Li>[]</code>’ may only be used as part of the final component of the target or source, and must be used to describe existing files. The value ‘<code class=Li>{}</code>’ need not necessarily be used to describe existing files. Expansion is in directory order, not alphabetically as done in the shell.</p></section><section class=Sh><h2 class=Sh id=SHELL_COMMANDS><a class=permalink href=#SHELL_COMMANDS>SHELL COMMANDS</a></h2> Each target may have associated with it one or more lines of shell commands, normally used to create the target. Each of the lines in this script <i class=Em>must</i> be preceded by a tab. (For historical reasons, spaces are not accepted.) While targets can appear in many dependency lines if desired, by default only one of these rules may be followed by a creation script. If the ‘<code class=Ic>::</code>’ operator is used, however, all rules may include scripts and the scripts are executed in the order found. <p class=Pp>Each line is treated as a separate shell command, unless the end of line is escaped with a backslash (‘<code class=Li>\</code>’) in which case that line and the next are combined. If the first characters of the command are any combination of ‘<code class=Ic>@</code>’, ‘<code class=Ic>+</code>’, or ‘<code class=Ic>-</code>’, the command is treated specially. A ‘<code class=Ic>@</code>’ causes the command not to be echoed before it is executed. A ‘<code class=Ic>+</code>’ causes the command to be executed even when <code class=Fl>-n</code> is given. This is similar to the effect of the .MAKE special source, except that the effect can be limited to a single line of a script. A ‘<code class=Ic>-</code>’ in compatibility mode causes any non-zero exit status of the command line to be ignored.</p><p class=Pp>When <code class=Nm>make</code> is run in jobs mode with <code class=Fl>-j</code><var class=Ar>max_jobs</var>, the entire script for the target is fed to a single instance of the shell. In compatibility (non-jobs) mode, each command is run in a separate process. If the command contains any shell meta characters (‘<code class=Li>#=|^(){};&amp;&lt;&gt;*?[]:$`\\n</code>’) it will be passed to the shell; otherwise <code class=Nm>make</code> will attempt direct execution. If a line starts with ‘<code class=Ic>-</code>’ and the shell has ErrCtl enabled then failure of the command line will be ignored as in compatibility mode. Otherwise ‘<code class=Ic>-</code>’ affects the entire job; the script will stop at the first command line that fails, but the target will not be deemed to have failed.</p><p class=Pp>Makefiles should be written so that the mode of <code class=Nm>make</code> operation does not change their behavior. For example, any command which needs to use “cd” or “chdir” without potentially changing the directory for subsequent commands should be put in parentheses so it executes in a subshell. To force the use of one shell, escape the line breaks so as to make the whole script one command. For example:</p><div class="Bd Pp Bd-indent"><pre>
avoid-chdir-side-effects:
	@echo Building $@ in `pwd`
	@(cd ${.CURDIR} &amp;&amp; ${MAKE} $@)
	@echo Back in `pwd`

ensure-one-shell-regardless-of-mode:
	@echo Building $@ in `pwd`; \
	(cd ${.CURDIR} &amp;&amp; ${MAKE} $@); \
	echo Back in `pwd`
</pre></div><p class=Pp>Since <code class=Nm>make</code> will <a class=Xr href=chdir.2.html>chdir(2)</a> to ‘<var class=Va>.OBJDIR</var>’ before executing any targets, each child process starts with that as its current working directory.</p></section><section class=Sh><h2 class=Sh id=VARIABLE_ASSIGNMENTS><a class=permalink href=#VARIABLE_ASSIGNMENTS>VARIABLE ASSIGNMENTS</a></h2> Variables in make behave much like macros in the C preprocessor. <p class=Pp>Variable assignments have the form ‘<var class=Ar>NAME</var><var class=Ar>op</var><var class=Ar>value</var>’, where:</p><dl class=Bl-tag><dt><var class=Ar>NAME</var></dt><dd>is a single-word variable name, consisting, by tradition, of all upper-case letters,</dd><dt><var class=Ar>op</var></dt><dd>is one of the five variable assignment operators described below, and</dd><dt><var class=Ar>value</var></dt><dd>is interpreted according to the variable assignment operator.</dd></dl><p class=Pp>Whitespace around <var class=Ar>NAME</var>, <var class=Ar>op</var> and <var class=Ar>value</var> is discarded.</p><section class=Ss><h2 class=Ss id=Variable_assignment_operators><a class=permalink href=#Variable_assignment_operators>Variable assignment operators</a></h2> The five operators that can be used to assign values to variables are: <dl class=Bl-tag><dt><a class=permalink href="#="><code class=Ic id="=">=</code></a></dt><dd>Assign the value to the variable. Any previous value is overwritten.</dd><dt><a class=permalink href="#+="><code class=Ic id="+=">+=</code></a></dt><dd>Append the value to the current value of the variable, separating them by a single space.</dd><dt><a class=permalink href="#?="><code class=Ic id="?=">?=</code></a></dt><dd>Assign the value to the variable if it is not already defined.</dd><dt><a class=permalink href="#:="><code class=Ic id=":=">:=</code></a></dt><dd>Assign with expansion, i.e. expand the value before assigning it to the variable. Normally, expansion is not done until the variable is referenced. <p class=Pp><i class=Em>NOTE</i>: References to undefined variables are <i class=Em>not</i> expanded. This can cause problems when variable modifiers are used.</p></dd><dt><a class=permalink href="#!="><code class=Ic id="!=">!=</code></a></dt><dd>Expand the value and pass it to the shell for execution and assign the result to the variable. Any newlines in the result are replaced with spaces.</dd></dl></section><section class=Ss><h2 class=Ss id=Expansion_of_variables><a class=permalink href=#Expansion_of_variables>Expansion of variables</a></h2> In contexts where variables are expanded, ‘<code class=Li>$$</code>’ expands to a single dollar sign. References to variables have the form ‘<code class=Li>${<var class=Ar>name</var>[:<var class=Ar>modifiers</var>]}</code>’ or ‘<code class=Li>$(<var class=Ar>name</var>[:<var class=Ar>modifiers</var>]</code>’).If the variable name contains only a single character, the surrounding curly braces or parentheses are not required. This shorter form is not recommended. <p class=Pp>If the variable name contains a dollar, then the name itself is expanded first. This allows almost arbitrary variable names, however names containing dollar, braces, parentheses, or whitespace are really best avoided.</p><p class=Pp>If the result of expanding a variable contains a dollar sign (‘<code class=Li>$</code>’), the string is expanded again.</p><p class=Pp>Variable substitution occurs at four distinct times, depending on where the variable is being used.</p><ol class=Bl-enum><li>Variables in dependency lines are expanded as the line is read.</li><li>Variables in conditionals are expanded individually, but only as far as necessary to determine the result of the conditional.</li><li>Variables in shell commands are expanded when the shell command is executed.</li><li>“.for” loop index variables are expanded on each loop iteration. Note that other variables are not expanded when composing the body of a loop, so the following example code: <div class="Bd Pp Bd-indent"><pre>

<code class=Dv>.for i in 1 2 3
</code>
a+=     ${i}
j=      ${i}
b+=     ${j}
<code class=Dv>.endfor
</code>

all:
	@echo ${a}
	@echo ${b}

    </pre></div> will print: <div class="Bd Pp Bd-indent"><pre>
1 2 3
3 3 3

    </pre></div> Because while ${a} contains “1 2 3” after the loop is executed, ${b} contains “${j} ${j} ${j}” which expands to “3 3 3” since after the loop completes ${j} contains “3”.</li></ol></section><section class=Ss><h2 class=Ss id=Variable_classes><a class=permalink href=#Variable_classes>Variable classes</a></h2> The four different classes of variables (in order of increasing precedence) are: <dl class=Bl-tag><dt>Environment variables</dt><dd>Variables defined as part of <code class=Nm>make</code>'s environment.</dd><dt>Global variables</dt><dd>Variables defined in the makefile or in included makefiles.</dd><dt>Command line variables</dt><dd>Variables defined as part of the command line.</dd><dt>Local variables</dt><dd>Variables that are defined specific to a certain target.</dd></dl><p class=Pp>Local variables can be set on a dependency line, if <var class=Va>.MAKE.TARGET_LOCAL_VARIABLES</var> is not set to ‘<code class=Li>false</code>’. The rest of the line (which will already have had global variables expanded) is the variable value. For example:</p><div class="Bd Pp Bd-indent"><pre>
COMPILER_WRAPPERS= ccache distcc icecc

${OBJS}: .MAKE.META.CMP_FILTER=${COMPILER_WRAPPERS:S,^,N,}
</pre></div><p class=Pp>Only the targets ‘<code class=Li>${OBJS}</code>’ will be impacted by that filter (in "meta" mode) and simply enabling/disabling any of the compiler wrappers will not render all of those targets out-of-date.</p><p class=Pp><i class=Em>NOTE</i>: target-local variable assignments behave differently in that;</p><div class=Bd-indent><dl class=Bl-tag><dt><a class=permalink href="#+=_2"><code class=Ic id="+=_2">+=</code></a></dt><dd>Only appends to a previous local assignment for the same target and variable.</dd><dt><a class=permalink href="#:=_2"><code class=Ic id=":=_2">:=</code></a></dt><dd>Is redundant with respect to global variables, which have already been expanded.</dd></dl></div><p class=Pp>The seven built-in local variables are as follows:</p><div class=Bd-indent><dl class=Bl-tag><dt><var class=Va>.ALLSRC</var></dt><dd>The list of all sources for this target; also known as ‘<var class=Va>&gt;</var>’.</dd><dt><var class=Va>.ARCHIVE</var></dt><dd>The name of the archive file; also known as ‘<var class=Va>!</var>’.</dd><dt><var class=Va>.IMPSRC</var></dt><dd>In suffix-transformation rules, the name/path of the source from which the target is to be transformed (the “implied” source); also known as ‘<var class=Va>&lt;</var>’. It is not defined in explicit rules.</dd><dt><var class=Va>.MEMBER</var></dt><dd>The name of the archive member; also known as ‘<var class=Va>%</var>’.</dd><dt><var class=Va>.OODATE</var></dt><dd>The list of sources for this target that were deemed out-of-date; also known as ‘<var class=Va>?</var>’.</dd><dt><var class=Va>.PREFIX</var></dt><dd>The file prefix of the target, containing only the file portion, no suffix or preceding directory components; also known as ‘<var class=Va>*</var>’. The suffix must be one of the known suffixes declared with <code class=Ic>.SUFFIXES</code> or it will not be recognized.</dd><dt><var class=Va>.TARGET</var></dt><dd>The name of the target; also known as ‘<var class=Va>@</var>’. For compatibility with other makes this is an alias for <code class=Ic>.ARCHIVE</code> in archive member rules.</dd></dl></div><p class=Pp>The shorter forms (‘<code class=Li><var class=Va>&gt;</var></code>’, ‘<var class=Va>!</var>’, ‘<var class=Va>&lt;</var>’, ‘<var class=Va>%</var>’, ‘<var class=Va>?</var>’, ‘<var class=Va>*</var>’, and ‘<var class=Va>@</var>’) are permitted for backward compatibility with historical makefiles and legacy POSIX make and are not recommended.</p><p class=Pp>Variants of these variables with the punctuation followed immediately by ‘<code class=Li>D</code>’ or ‘<code class=Li>F</code>’, e.g. ‘<var class=Va>$(@D)</var>’, are legacy forms equivalent to using the ‘<code class=Li>:H</code>’ and ‘<code class=Li>:T</code>’ modifiers. These forms are accepted for compatibility with <span class=Ux>AT&amp;T System V UNIX</span> makefiles and POSIX but are not recommended.</p><p class=Pp>Four of the local variables may be used in sources on dependency lines because they expand to the proper value for each target on the line. These variables are ‘<var class=Va>.TARGET</var>’, ‘<var class=Va>.PREFIX</var>’, ‘<var class=Va>.ARCHIVE</var>’, and ‘<var class=Va>.MEMBER</var>’.</p></section><section class=Ss><h2 class=Ss id=Additional_built_in_variables><a class=permalink href=#Additional_built_in_variables>Additional built-in variables</a></h2> In addition, <code class=Nm>make</code> sets or knows about the following variables: <dl class=Bl-tag><dt><var class=Va>.ALLTARGETS</var></dt><dd>The list of all targets encountered in the Makefile. If evaluated during Makefile parsing, lists only those targets encountered thus far.</dd><dt><var class=Va>.CURDIR</var></dt><dd>A path to the directory where <code class=Nm>make</code> was executed. Refer to the description of ‘<code class=Ev>PWD</code>’ for more details.</dd><dt><var class=Va>.INCLUDEDFROMDIR</var></dt><dd>The directory of the file this Makefile was included from.</dd><dt><var class=Va>.INCLUDEDFROMFILE</var></dt><dd>The filename of the file this Makefile was included from.</dd><dt><a class=permalink href=#MAKE><code class=Ev id=MAKE>MAKE</code></a></dt><dd>The name that <code class=Nm>make</code> was executed with (<var class=Va>argv[0]</var>). For compatibility <code class=Nm>make</code> also sets <var class=Va>.MAKE</var> with the same value. The preferred variable to use is the environment variable <code class=Ev>MAKE</code> because it is more compatible with other versions of <code class=Nm>make</code> and cannot be confused with the special target with the same name.</dd><dt><var class=Va>.MAKE.ALWAYS_PASS_JOB_QUEUE</var></dt><dd>Tells <code class=Nm>make</code> whether to pass the descriptors of the job token queue even if the target is not tagged with <code class=Ic>.MAKE</code> The default is ‘<code class=Li><span class=Pa>yes</span></code>’ for backwards compatability with <span class=Ux>FreeBSD 9.0</span> and earlier.</dd><dt><var class=Va>.MAKE.DEPENDFILE</var></dt><dd>Names the makefile (default ‘<span class=Pa>.depend</span>’) from which generated dependencies are read.</dd><dt><var class=Va>.MAKE.EXPAND_VARIABLES</var></dt><dd>A boolean that controls the default behavior of the <code class=Fl>-V</code> option. If true, variable values printed with <code class=Fl>-V</code> are fully expanded; if false, the raw variable contents (which may include additional unexpanded variable references) are shown.</dd><dt><var class=Va>.MAKE.EXPORTED</var></dt><dd>The list of variables exported by <code class=Nm>make</code>.</dd><dt><var class=Va>.MAKE.JOBS</var></dt><dd>The argument to the <code class=Fl>-j</code> option.</dd><dt><var class=Va>.MAKE.JOB.PREFIX</var></dt><dd>If <code class=Nm>make</code> is run with <code class=Fl>-j</code>, the output for each target is prefixed with a token ‘<code class=Li>--- target ---</code>’ the first part of which can be controlled via <var class=Va>.MAKE.JOB.PREFIX</var>. If <var class=Va>.MAKE.JOB.PREFIX</var> is empty, no token is printed. For example, setting <var class=Va>.MAKE.JOB.PREFIX</var> to <code class=Li>${.newline}---${.MAKE:T}[${.MAKE.PID}]</code> would produce tokens like ‘<code class=Li>---make[1234] target ---</code>’ making it easier to track the degree of parallelism being achieved.</dd><dt>.MAKE.TARGET_LOCAL_VARIABLES</dt><dd>If set to ‘<code class=Li>false</code>’, apparent variable assignments in dependency lines are treated as normal sources.</dd><dt><a class=permalink href=#MAKEFLAGS><code class=Ev id=MAKEFLAGS>MAKEFLAGS</code></a></dt><dd>The environment variable ‘<code class=Ev>MAKEFLAGS</code>’ may contain anything that may be specified on <code class=Nm>make</code>'s command line. Anything specified on <code class=Nm>make</code>'s command line is appended to the ‘<code class=Ev>MAKEFLAGS</code>’ variable which is then entered into the environment for all programs which <code class=Nm>make</code> executes.</dd><dt><var class=Va>.MAKE.LEVEL</var></dt><dd>The recursion depth of <code class=Nm>make</code>. The initial instance of <code class=Nm>make</code> will be 0, and an incremented value is put into the environment to be seen by the next generation. This allows tests like: <code class=Li>.if ${.MAKE.LEVEL} == 0</code> to protect things which should only be evaluated in the initial instance of <code class=Nm>make</code>.</dd><dt><var class=Va>.MAKE.MAKEFILE_PREFERENCE</var></dt><dd>The ordered list of makefile names (default ‘<span class=Pa>makefile</span>’, ‘<span class=Pa>Makefile</span>’) that <code class=Nm>make</code> will look for.</dd><dt><var class=Va>.MAKE.MAKEFILES</var></dt><dd>The list of makefiles read by <code class=Nm>make</code>, which is useful for tracking dependencies. Each makefile is recorded only once, regardless of the number of times read.</dd><dt><var class=Va>.MAKE.MODE</var></dt><dd>Processed after reading all makefiles. Can affect the mode that <code class=Nm>make</code> runs in. It can contain a number of keywords: <dl class=Bl-hang><dt><span class=Pa>compat</span></dt><dd>Like <code class=Fl>-B</code>, puts <code class=Nm>make</code> into "compat" mode.</dd><dt><span class=Pa>meta</span></dt><dd>Puts <code class=Nm>make</code> into "meta" mode, where meta files are created for each target to capture the command run, the output generated and if <a class=Xr href=filemon.4.html>filemon(4)</a> is available, the system calls which are of interest to <code class=Nm>make</code>. The captured output can be very useful when diagnosing errors.</dd><dt><span class=Pa>curdirOk=</span><var class=Ar>bf</var></dt><dd>Normally <code class=Nm>make</code> will not create .meta files in ‘<var class=Va>.CURDIR</var>’. This can be overridden by setting <var class=Va>bf</var> to a value which represents True.</dd><dt><span class=Pa>missing-meta=</span><var class=Ar>bf</var></dt><dd>If <var class=Va>bf</var> is True, then a missing .meta file makes the target out-of-date.</dd><dt><span class=Pa>missing-filemon=</span><var class=Ar>bf</var></dt><dd>If <var class=Va>bf</var> is True, then missing filemon data makes the target out-of-date.</dd><dt><span class=Pa>nofilemon</span></dt><dd>Do not use <a class=Xr href=filemon.4.html>filemon(4)</a>.</dd><dt><span class=Pa>env</span></dt><dd>For debugging, it can be useful to include the environment in the .meta file.</dd><dt><span class=Pa>verbose</span></dt><dd>If in "meta" mode, print a clue about the target being built. This is useful if the build is otherwise running silently. The message printed the value of: <var class=Va>.MAKE.META.PREFIX</var>.</dd><dt><span class=Pa>ignore-cmd</span></dt><dd>Some makefiles have commands which are simply not stable. This keyword causes them to be ignored for determining whether a target is out of date in "meta" mode. See also <code class=Ic>.NOMETA_CMP</code>.</dd><dt><span class=Pa>silent=</span><var class=Ar>bf</var></dt><dd>If <var class=Va>bf</var> is True, when a .meta file is created, mark the target <code class=Ic>.SILENT</code>.</dd><dt><span class=Pa>randomize-targets</span></dt><dd>In both compat and parallel mode, do not make the targets in the usual order, but instead randomize their order. This mode can be used to detect undeclared dependencies between files.</dd></dl></dd><dt><var class=Va>.MAKE.META.BAILIWICK</var></dt><dd>In "meta" mode, provides a list of prefixes which match the directories controlled by <code class=Nm>make</code>. If a file that was generated outside of <var class=Va>.OBJDIR</var> but within said bailiwick is missing, the current target is considered out-of-date.</dd><dt><var class=Va>.MAKE.META.CMP_FILTER</var></dt><dd>In "meta" mode, it can (very rarely!) be useful to filter command lines before comparison. This variable can be set to a set of modifiers that will be applied to each line of the old and new command that differ, if the filtered commands still differ, the target is considered out-of-date.</dd><dt><var class=Va>.MAKE.META.CREATED</var></dt><dd>In "meta" mode, this variable contains a list of all the meta files updated. If not empty, it can be used to trigger processing of <var class=Va>.MAKE.META.FILES</var>.</dd><dt><var class=Va>.MAKE.META.FILES</var></dt><dd>In "meta" mode, this variable contains a list of all the meta files used (updated or not). This list can be used to process the meta files to extract dependency information.</dd><dt><var class=Va>.MAKE.META.IGNORE_PATHS</var></dt><dd>Provides a list of path prefixes that should be ignored; because the contents are expected to change over time. The default list includes: ‘<span class=Pa>/dev /etc /proc /tmp /var/run /var/tmp</span>’</dd><dt><var class=Va>.MAKE.META.IGNORE_PATTERNS</var></dt><dd>Provides a list of patterns to match against pathnames. Ignore any that match.</dd><dt><var class=Va>.MAKE.META.IGNORE_FILTER</var></dt><dd>Provides a list of variable modifiers to apply to each pathname. Ignore if the expansion is an empty string.</dd><dt><var class=Va>.MAKE.META.PREFIX</var></dt><dd>Defines the message printed for each meta file updated in "meta verbose" mode. The default value is: <div class="Bd Bd-indent"><code class=Li>Building ${.TARGET:H:tA}/${.TARGET:T}</code></div></dd><dt><var class=Va>.MAKEOVERRIDES</var></dt><dd>This variable is used to record the names of variables assigned to on the command line, so that they may be exported as part of ‘<code class=Ev>MAKEFLAGS</code>’. This behavior can be disabled by assigning an empty value to ‘<var class=Va>.MAKEOVERRIDES</var>’ within a makefile. Extra variables can be exported from a makefile by appending their names to ‘<var class=Va>.MAKEOVERRIDES</var>’. ‘<code class=Ev>MAKEFLAGS</code>’ is re-exported whenever ‘<var class=Va>.MAKEOVERRIDES</var>’ is modified.</dd><dt><var class=Va>.MAKE.PATH_FILEMON</var></dt><dd>If <code class=Nm>make</code> was built with <a class=Xr href=filemon.4.html>filemon(4)</a> support, this is set to the path of the device node. This allows makefiles to test for this support.</dd><dt><var class=Va>.MAKE.PID</var></dt><dd>The process-id of <code class=Nm>make</code>.</dd><dt><var class=Va>.MAKE.PPID</var></dt><dd>The parent process-id of <code class=Nm>make</code>.</dd><dt><var class=Va>.MAKE.SAVE_DOLLARS</var></dt><dd>value should be a boolean that controls whether ‘<code class=Li>$$</code>’ are preserved when doing ‘<code class=Li>:=</code>’ assignments. The default is false, for backwards compatibility. Set to true for compatability with other makes. If set to false, ‘<code class=Li>$$</code>’ becomes ‘<code class=Li>$</code>’ per normal evaluation rules.</dd><dt><var class=Va>.MAKE.UID</var></dt><dd>The user-id running <code class=Nm>make</code>.</dd><dt><var class=Va>.MAKE.GID</var></dt><dd>The group-id running <code class=Nm>make</code>.</dd><dt><var class=Va>MAKE_PRINT_VAR_ON_ERROR</var></dt><dd>When <code class=Nm>make</code> stops due to an error, it sets ‘<var class=Va>.ERROR_TARGET</var>’ to the name of the target that failed, ‘<var class=Va>.ERROR_CMD</var>’ to the commands of the failed target, and in "meta" mode, it also sets ‘<var class=Va>.ERROR_CWD</var>’ to the <a class=Xr href=getcwd.3.html>getcwd(3)</a>, and ‘<var class=Va>.ERROR_META_FILE</var>’ to the path of the meta file (if any) describing the failed target. It then prints its name and the value of ‘<var class=Va>.CURDIR</var>’ as well as the value of any variables named in ‘<var class=Va>MAKE_PRINT_VAR_ON_ERROR</var>’.</dd><dt><var class=Va>.newline</var></dt><dd>This variable is simply assigned a newline character as its value. This allows expansions using the <code class=Cm>:@</code> modifier to put a newline between iterations of the loop rather than a space. For example, the printing of ‘<var class=Va>MAKE_PRINT_VAR_ON_ERROR</var>’ could be done as ${MAKE_PRINT_VAR_ON_ERROR:@v@$v='${$v}'${.newline}@}.</dd><dt><var class=Va>.OBJDIR</var></dt><dd>A path to the directory where the targets are built. Its value is determined by trying to <a class=Xr href=chdir.2.html>chdir(2)</a> to the following directories in order and using the first match: <ol class=Bl-enum><li><a class=permalink href=#$_MAKEOBJDIRPREFIX_$_.CURDIR_><code class=Ev id=$_MAKEOBJDIRPREFIX_$_.CURDIR_>${MAKEOBJDIRPREFIX}${.CURDIR}</code></a><p class=Pp>(Only if ‘<code class=Ev>MAKEOBJDIRPREFIX</code>’ is set in the environment or on the command line.)</p></li><li><a class=permalink href=#$_MAKEOBJDIR_><code class=Ev id=$_MAKEOBJDIR_>${MAKEOBJDIR}</code></a><p class=Pp>(Only if ‘<code class=Ev>MAKEOBJDIR</code>’ is set in the environment or on the command line.)</p></li><li><a class=permalink href=#$_.CURDIR_><code class=Ev id=$_.CURDIR_>${.CURDIR}</code></a><span class=Pa>/obj.</span><code class=Ev>${MACHINE}</code></li><li><a class=permalink href=#$_.CURDIR__2><code class=Ev id=$_.CURDIR__2>${.CURDIR}</code></a><span class=Pa>/obj</span></li><li><span class=Pa>/usr/obj/</span><code class=Ev>${.CURDIR}</code></li><li><a class=permalink href=#$_.CURDIR__3><code class=Ev id=$_.CURDIR__3>${.CURDIR}</code></a></li></ol><p class=Pp>Variable expansion is performed on the value before it's used, so expressions such as</p><div class="Bd Bd-indent"><code class=Li>${.CURDIR:S,^/usr/src,/var/obj,}</code></div> may be used. This is especially useful with ‘<code class=Ev>MAKEOBJDIR</code>’. <p class=Pp>‘<var class=Va>.OBJDIR</var>’ may be modified in the makefile via the special target ‘<code class=Ic>.OBJDIR</code>’. In all cases, <code class=Nm>make</code> will <a class=Xr href=chdir.2.html>chdir(2)</a> to the specified directory if it exists, and set ‘<var class=Va>.OBJDIR</var>’ and ‘<code class=Ev>PWD</code>’ to that directory before executing any targets.</p><p class=Pp>Except in the case of an explicit ‘<code class=Ic>.OBJDIR</code>’ target, <code class=Nm>make</code> will check that the specified directory is writable and ignore it if not. This check can be skipped by setting the environment variable ‘<code class=Ev>MAKE_OBJDIR_CHECK_WRITABLE</code>’ to "no".</p></dd><dt><var class=Va>.PARSEDIR</var></dt><dd>A path to the directory of the current ‘<span class=Pa>Makefile</span>’ being parsed.</dd><dt><var class=Va>.PARSEFILE</var></dt><dd>The basename of the current ‘<span class=Pa>Makefile</span>’ being parsed. This variable and ‘<var class=Va>.PARSEDIR</var>’ are both set only while the ‘<span class=Pa>Makefiles</span>’ are being parsed. If you want to retain their current values, assign them to a variable using assignment with expansion ‘<code class=Cm>:=</code>’.</dd><dt><var class=Va>.PATH</var></dt><dd>A variable that represents the list of directories that <code class=Nm>make</code> will search for files. The search list should be updated using the target ‘<var class=Va>.PATH</var>’ rather than the variable.</dd><dt><a class=permalink href=#PWD><code class=Ev id=PWD>PWD</code></a></dt><dd>Alternate path to the current directory. <code class=Nm>make</code> normally sets ‘<var class=Va>.CURDIR</var>’ to the canonical path given by <a class=Xr href=getcwd.3.html>getcwd(3)</a>. However, if the environment variable ‘<code class=Ev>PWD</code>’ is set and gives a path to the current directory, then <code class=Nm>make</code> sets ‘<var class=Va>.CURDIR</var>’ to the value of ‘<code class=Ev>PWD</code>’ instead. This behavior is disabled if ‘<code class=Ev>MAKEOBJDIRPREFIX</code>’ is set or ‘<code class=Ev>MAKEOBJDIR</code>’ contains a variable transform. ‘<code class=Ev>PWD</code>’ is set to the value of ‘<var class=Va>.OBJDIR</var>’ for all programs which <code class=Nm>make</code> executes.</dd><dt><a class=permalink href=#.SHELL><code class=Ev id=.SHELL>.SHELL</code></a></dt><dd>The pathname of the shell used to run target scripts. It is read-only.</dd><dt><a class=permalink href=#.SUFFIXES><code class=Ev id=.SUFFIXES>.SUFFIXES</code></a></dt><dd>The list of known suffixes. It is read-only.</dd><dt><a class=permalink href=#.TARGETS><code class=Ev id=.TARGETS>.TARGETS</code></a></dt><dd>The list of targets explicitly specified on the command line, if any.</dd><dt><a class=permalink href=#VPATH><code class=Ev id=VPATH>VPATH</code></a></dt><dd>Colon-separated (“:”) lists of directories that <code class=Nm>make</code> will search for files. The variable is supported for compatibility with old make programs only, use ‘<var class=Va>.PATH</var>’ instead.</dd></dl></section><section class=Ss><h2 class=Ss id=Variable_modifiers><a class=permalink href=#Variable_modifiers>Variable modifiers</a></h2> Variable expansion may be modified to select or modify each word of the variable (where a “word” is white-space delimited sequence of characters). The general format of a variable expansion is as follows: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>${variable[:modifier[:...]]}</code></div><p class=Pp>Each modifier begins with a colon, which may be escaped with a backslash (‘<code class=Li>\</code>’).</p><p class=Pp>A set of modifiers can be specified via a variable, as follows:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>modifier_variable=modifier[:...]</code></div><div class="Bd Bd-indent"><code class=Li>${variable:${modifier_variable}[:...]}</code></div><p class=Pp>In this case the first modifier in the modifier_variable does not start with a colon, since that must appear in the referencing variable. If any of the modifiers in the modifier_variable contain a dollar sign (‘<code class=Li>$</code>’), these must be doubled to avoid early expansion.</p><p class=Pp>The supported modifiers are:</p><dl class=Bl-tag><dt><a class=permalink href=#:E><code class=Cm id=:E>:E</code></a></dt><dd>Replaces each word in the variable with its suffix.</dd><dt><a class=permalink href=#:H><code class=Cm id=:H>:H</code></a></dt><dd>Replaces each word in the variable with everything but the last component.</dd><dt><a class=permalink href=#:M__><code class=Cm id=:M__>:M</code></a><var class=Ar>pattern</var></dt><dd>Selects only those words that match <var class=Ar>pattern</var>. The standard shell wildcard characters (‘<code class=Li>*</code>’, ‘<code class=Li>?</code>’, and ‘<code class=Li>[]</code>’) may be used. The wildcard characters may be escaped with a backslash (‘<code class=Li>\</code>’). As a consequence of the way values are split into words, matched, and then joined, a construct like <div class="Bd Bd-indent"><code class=Li>${VAR:M*}</code></div> will normalize the inter-word spacing, removing all leading and trailing space, and converting multiple consecutive spaces to single spaces.</dd><dt><a class=permalink href=#:N__><code class=Cm id=:N__>:N</code></a><var class=Ar>pattern</var></dt><dd>This is identical to ‘<code class=Cm>:M</code>’, but selects all words which do not match <var class=Ar>pattern</var>.</dd><dt><a class=permalink href=#:O><code class=Cm id=:O>:O</code></a></dt><dd>Orders every word in variable alphabetically.</dd><dt><a class=permalink href=#:On><code class=Cm id=:On>:On</code></a></dt><dd>Orders every word in variable numerically. A number followed by one of ‘<code class=Li>k</code>’, ‘<code class=Li>M</code>’ or ‘<code class=Li>G</code>’ is multiplied by the appropriate factor (1024 (k), 1048576 (M), or 1073741824 (G)). Both upper- and lower-case letters are accepted.</dd><dt><a class=permalink href=#:Or><code class=Cm id=:Or>:Or</code></a></dt><dd>Orders every word in variable in reverse alphabetical order.</dd><dt><a class=permalink href=#:Orn><code class=Cm id=:Orn>:Orn</code></a></dt><dd>Orders every word in variable in reverse numerical order.</dd><dt><a class=permalink href=#:Ox><code class=Cm id=:Ox>:Ox</code></a></dt><dd>Shuffles the words in variable. The results will be different each time you are referring to the modified variable; use the assignment with expansion ‘<code class=Cm>:=</code>’ to prevent such behavior. For example, <div class="Bd Pp Bd-indent"><pre>
LIST=			uno due tre quattro
RANDOM_LIST=		${LIST:Ox}
STATIC_RANDOM_LIST:=	${LIST:Ox}

all:
	@echo "${RANDOM_LIST}"
	@echo "${RANDOM_LIST}"
	@echo "${STATIC_RANDOM_LIST}"
	@echo "${STATIC_RANDOM_LIST}"
    </pre></div> may produce output similar to: <div class="Bd Pp Bd-indent"><pre>
quattro due tre uno
tre due quattro uno
due uno quattro tre
due uno quattro tre
    </pre></div></dd><dt><a class=permalink href=#:Q><code class=Cm id=:Q>:Q</code></a></dt><dd>Quotes every shell meta-character in the variable, so that it can be passed safely to the shell.</dd><dt><a class=permalink href=#:q><code class=Cm id=:q>:q</code></a></dt><dd>Quotes every shell meta-character in the variable, and also doubles ‘$’ characters so that it can be passed safely through recursive invocations of <code class=Nm>make</code>. This is equivalent to: ‘:S/\$/&amp;&amp;/g:Q’.</dd><dt><a class=permalink href=#:R><code class=Cm id=:R>:R</code></a></dt><dd>Replaces each word in the variable with everything but its suffix.</dd><dt><a class=permalink href=#:range><code class=Cm id=:range>:range</code></a>[=<var class=Ar>count</var>]</dt><dd>The value is an integer sequence representing the words of the original value, or the supplied <var class=Va>count</var>.</dd><dt><a class=permalink href=#:gmtime><code class=Cm id=:gmtime>:gmtime</code></a>[=<var class=Ar>utc</var>]</dt><dd>The value is a format string for <a class=Xr href=strftime.3.html>strftime(3)</a>, using <a class=Xr href=gmtime.3.html>gmtime(3)</a>. If a <var class=Va>utc</var> value is not provided or is 0, the current time is used.</dd><dt><a class=permalink href=#:hash><code class=Cm id=:hash>:hash</code></a></dt><dd>Computes a 32-bit hash of the value and encode it as hex digits.</dd><dt><a class=permalink href=#:localtime><code class=Cm id=:localtime>:localtime</code></a>[=<var class=Ar>utc</var>]</dt><dd>The value is a format string for <a class=Xr href=strftime.3.html>strftime(3)</a>, using <a class=Xr href=localtime.3.html>localtime(3)</a>. If a <var class=Va>utc</var> value is not provided or is 0, the current time is used.</dd><dt><a class=permalink href=#:tA><code class=Cm id=:tA>:tA</code></a></dt><dd>Attempts to convert variable to an absolute path using <a class=Xr href=realpath.3.html>realpath(3)</a>, if that fails, the value is unchanged.</dd><dt><a class=permalink href=#:tl><code class=Cm id=:tl>:tl</code></a></dt><dd>Converts variable to lower-case letters.</dd><dt><a class=permalink href=#:ts><code class=Cm id=:ts>:ts</code></a><var class=Ar>c</var></dt><dd>Words in the variable are normally separated by a space on expansion. This modifier sets the separator to the character <var class=Ar>c</var>. If <var class=Ar>c</var> is omitted, then no separator is used. The common escapes (including octal numeric codes) work as expected.</dd><dt><a class=permalink href=#:tu><code class=Cm id=:tu>:tu</code></a></dt><dd>Converts variable to upper-case letters.</dd><dt><a class=permalink href=#:tW><code class=Cm id=:tW>:tW</code></a></dt><dd>Causes the value to be treated as a single word (possibly containing embedded white space). See also ‘<code class=Cm>:[*]</code>’.</dd><dt><a class=permalink href=#:tw><code class=Cm id=:tw>:tw</code></a></dt><dd>Causes the value to be treated as a sequence of words delimited by white space. See also ‘<code class=Cm>:[@]</code>’.</dd><dt><a class=permalink href=#:S__><code class=Cm id=:S__>:S</code></a><span class=No>/</span><var class=Ar>old_string</var><span class=No>/</span><var class=Ar>new_string</var><span class=No>/</span>[<code class=Cm>1gW</code>]</dt><dd> Modifies the first occurrence of <var class=Ar>old_string</var> in each word of the variable's value, replacing it with <var class=Ar>new_string</var>. If a ‘<code class=Li>g</code>’ is appended to the last delimiter of the pattern, all occurrences in each word are replaced. If a ‘<code class=Li>1</code>’ is appended to the last delimiter of the pattern, only the first occurrence is affected. If a ‘<code class=Li>W</code>’ is appended to the last delimiter of the pattern, then the value is treated as a single word (possibly containing embedded white space). If <var class=Ar>old_string</var> begins with a caret (‘<code class=Li>^</code>’), <var class=Ar>old_string</var> is anchored at the beginning of each word. If <var class=Ar>old_string</var> ends with a dollar sign (‘<code class=Li>$</code>’), it is anchored at the end of each word. Inside <var class=Ar>new_string</var>, an ampersand (‘<code class=Li>&amp;</code>’) is replaced by <var class=Ar>old_string</var> (without any ‘<code class=Li>^</code>’ or ‘<code class=Li>$</code>’). Any character may be used as a delimiter for the parts of the modifier string. The anchoring, ampersand and delimiter characters may be escaped with a backslash (‘<code class=Li>\</code>’). <p class=Pp>Variable expansion occurs in the normal fashion inside both <var class=Ar>old_string</var> and <var class=Ar>new_string</var> with the single exception that a backslash is used to prevent the expansion of a dollar sign (‘<code class=Li>$</code>’), not a preceding dollar sign as is usual.</p></dd><dt><a class=permalink href=#:C__><code class=Cm id=:C__>:C</code></a><span class=No>/</span><var class=Ar>pattern</var><span class=No>/</span><var class=Ar>replacement</var><span class=No>/</span>[<code class=Cm>1gW</code>]</dt><dd> The <code class=Cm>:C</code> modifier is just like the <code class=Cm>:S</code> modifier except that the old and new strings, instead of being simple strings, are an extended regular expression (see <a class=Xr href=regex.3.html>regex(3)</a>) string <var class=Ar>pattern</var> and an <a class=Xr href=ed.1.html>ed(1)</a>-style string <var class=Ar>replacement</var>. Normally, the first occurrence of the pattern <var class=Ar>pattern</var> in each word of the value is substituted with <var class=Ar>replacement</var>. The ‘<code class=Li>1</code>’ modifier causes the substitution to apply to at most one word; the ‘<code class=Li>g</code>’ modifier causes the substitution to apply to as many instances of the search pattern <var class=Ar>pattern</var> as occur in the word or words it is found in; the ‘<code class=Li>W</code>’ modifier causes the value to be treated as a single word (possibly containing embedded white space). <p class=Pp>As for the <code class=Cm>:S</code> modifier, the <var class=Ar>pattern</var> and <var class=Ar>replacement</var> are subjected to variable expansion before being parsed as regular expressions.</p></dd><dt><a class=permalink href=#:T><code class=Cm id=:T>:T</code></a></dt><dd>Replaces each word in the variable with its last path component.</dd><dt><a class=permalink href=#:u><code class=Cm id=:u>:u</code></a></dt><dd>Removes adjacent duplicate words (like <a class=Xr href=uniq.1.html>uniq(1)</a>).</dd><dt><a class=permalink href=#:_&?__><code class=Cm id=:_&?__>:?</code></a><var class=Ar>true_string</var><code class=Cm>:</code><var class=Ar>false_string</var></dt><dd> If the variable name (not its value), when parsed as a .if conditional expression, evaluates to true, return as its value the <var class=Ar>true_string</var>, otherwise return the <var class=Ar>false_string</var>. Since the variable name is used as the expression, :? must be the first modifier after the variable name itself - which will, of course, usually contain variable expansions. A common error is trying to use expressions like <div class="Bd Bd-indent"><code class=Li>${NUMBERS:M42:?match:no}</code></div> which actually tests defined(NUMBERS), to determine if any words match "42" you need to use something like: <div class="Bd Bd-indent"><code class=Li>${"${NUMBERS:M42}" != "":?match:no}.</code></div></dd><dt><a class=permalink href=#:__><code class=Cm id=:__>:</code></a><var class=Ar>old_string</var><code class=Cm>=</code><var class=Ar>new_string</var></dt><dd>This is the <span class=Ux>AT&amp;T System V UNIX</span> style variable substitution. It must be the last modifier specified. If <var class=Ar>old_string</var> or <var class=Ar>new_string</var> do not contain the pattern matching character <var class=Ar>%</var> then it is assumed that they are anchored at the end of each word, so only suffixes or entire words may be replaced. Otherwise <var class=Ar>%</var> is the substring of <var class=Ar>old_string</var> to be replaced in <var class=Ar>new_string</var>. If only <var class=Ar>old_string</var> contains the pattern matching character <var class=Ar>%</var>, and <var class=Ar>old_string</var> matches, then the result is the <var class=Ar>new_string</var>. If only the <var class=Ar>new_string</var> contains the pattern matching character <var class=Ar>%</var>, then it is not treated specially and it is printed as a literal <var class=Ar>%</var> on match. If there is more than one pattern matching character (<var class=Ar>%</var>) in either the <var class=Ar>new_string</var> or <var class=Ar>old_string</var>, only the first instance is treated specially (as the pattern character); all subsequent instances are treated as regular characters. <p class=Pp>Variable expansion occurs in the normal fashion inside both <var class=Ar>old_string</var> and <var class=Ar>new_string</var> with the single exception that a backslash is used to prevent the expansion of a dollar sign (‘<code class=Li>$</code>’), not a preceding dollar sign as is usual.</p></dd><dt><a class=permalink href=#:@><code class=Cm id=:@>:@</code></a><var class=Ar>temp</var><code class=Cm>@</code><var class=Ar>string</var><code class=Cm>@</code></dt><dd> This is the loop expansion mechanism from the OSF Development Environment (ODE) make. Unlike <code class=Cm>.for</code> loops, expansion occurs at the time of reference. Assigns <var class=Ar>temp</var> to each word in the variable and evaluates <var class=Ar>string</var>. The ODE convention is that <var class=Ar>temp</var> should start and end with a period. For example. <div class="Bd Bd-indent"><code class=Li>${LINKS:@.LINK.@${LN} ${TARGET} ${.LINK.}@}</code></div><p class=Pp>However a single character variable is often more readable:</p><div class="Bd Bd-indent"><code class=Li>${MAKE_PRINT_VAR_ON_ERROR:@v@$v='${$v}'${.newline}@}</code></div></dd><dt><a class=permalink href=#:_><code class=Cm id=:_>:_</code></a>[<code class=Cm>=</code><var class=Ar>var</var>]</dt><dd>Saves the current variable value in ‘<code class=Li>$_</code>’ or the named <var class=Va>var</var> for later reference. Example usage: <div class="Bd Pp Bd-indent"><pre>
M_cmpv.units = 1 1000 1000000
M_cmpv = S,., ,g:_:range:@i@+ $${_:[-$$i]} \
\* $${M_cmpv.units:[$$i]}@:S,^,expr 0 ,1:sh

<code class=Dv>.if ${VERSION:${M_cmpv}} &lt; ${3.1.12:L:${M_cmpv}}
</code>

    </pre></div> Here ‘<code class=Li>$_</code>’ is used to save the result of the ‘<code class=Li>:S</code>’ modifier which is later referenced using the index values from ‘<code class=Li>:range</code>’.</dd><dt><a class=permalink href=#:U__><code class=Cm id=:U__>:U</code></a><var class=Ar>newval</var></dt><dd>If the variable is undefined, <var class=Ar>newval</var> is the value. If the variable is defined, the existing value is returned. This is another ODE make feature. It is handy for setting per-target CFLAGS for instance: <div class="Bd Bd-indent"><code class=Li>${_${.TARGET:T}_CFLAGS:U${DEF_CFLAGS}}</code></div> If a value is only required if the variable is undefined, use: <div class="Bd Bd-indent"><code class=Li>${VAR:D:Unewval}</code></div></dd><dt><a class=permalink href=#:D__><code class=Cm id=:D__>:D</code></a><var class=Ar>newval</var></dt><dd>If the variable is defined, <var class=Ar>newval</var> is the value.</dd><dt><a class=permalink href=#:L><code class=Cm id=:L>:L</code></a></dt><dd>The name of the variable is the value.</dd><dt><a class=permalink href=#:P><code class=Cm id=:P>:P</code></a></dt><dd>The path of the node which has the same name as the variable is the value. If no such node exists or its path is null, then the name of the variable is used. In order for this modifier to work, the name (node) must at least have appeared on the rhs of a dependency.</dd><dt><a class=permalink href=#:_&!><code class=Cm id=:_&!>:!</code></a><var class=Ar>cmd</var><code class=Cm>!</code></dt><dd> The output of running <var class=Ar>cmd</var> is the value.</dd><dt><a class=permalink href=#:sh><code class=Cm id=:sh>:sh</code></a></dt><dd>If the variable is non-empty it is run as a command and the output becomes the new value.</dd><dt><a class=permalink href="#::="><code class=Cm id="::=">::=</code></a><var class=Ar>str</var></dt><dd>The variable is assigned the value <var class=Ar>str</var> after substitution. This modifier and its variations are useful in obscure situations such as wanting to set a variable when shell commands are being parsed. These assignment modifiers always expand to nothing, so if appearing in a rule line by themselves should be preceded with something to keep <code class=Nm>make</code> happy. <p class=Pp>The ‘<code class=Cm>::</code>’ helps avoid false matches with the <span class=Ux>AT&amp;T System V UNIX</span> style <code class=Cm>:=</code> modifier and since substitution always occurs the <code class=Cm>::=</code> form is vaguely appropriate.</p></dd><dt><a class=permalink href="#::?="><code class=Cm id="::?=">::?=</code></a><var class=Ar>str</var></dt><dd>As for <code class=Cm>::=</code> but only if the variable does not already have a value.</dd><dt><a class=permalink href="#::+="><code class=Cm id="::+=">::+=</code></a><var class=Ar>str</var></dt><dd>Append <var class=Ar>str</var> to the variable.</dd><dt><a class=permalink href="#::!="><code class=Cm id="::!=">::!=</code></a><var class=Ar>cmd</var></dt><dd>Assign the output of <var class=Ar>cmd</var> to the variable.</dd><dt><a class=permalink href=#:_&_><code class=Cm id=:_&_>:[</code></a><var class=Ar>range</var><code class=Cm>]</code></dt><dd>Selects one or more words from the value, or performs other operations related to the way in which the value is divided into words. <p class=Pp>Ordinarily, a value is treated as a sequence of words delimited by white space. Some modifiers suppress this behavior, causing a value to be treated as a single word (possibly containing embedded white space). An empty value, or a value that consists entirely of white-space, is treated as a single word. For the purposes of the ‘<code class=Cm>:[]</code>’ modifier, the words are indexed both forwards using positive integers (where index 1 represents the first word), and backwards using negative integers (where index -1 represents the last word).</p><p class=Pp>The <var class=Ar>range</var> is subjected to variable expansion, and the expanded result is then interpreted as follows:</p><dl class=Bl-tag><dt><var class=Ar>index</var></dt><dd>Selects a single word from the value.</dd><dt><var class=Ar>start</var><code class=Cm>..</code><var class=Ar>end</var></dt><dd>Selects all words from <var class=Ar>start</var> to <var class=Ar>end</var>, inclusive. For example, ‘<code class=Cm>:[2..-1]</code>’ selects all words from the second word to the last word. If <var class=Ar>start</var> is greater than <var class=Ar>end</var>, then the words are output in reverse order. For example, ‘<code class=Cm>:[-1..1]</code>’ selects all the words from last to first. If the list is already ordered, then this effectively reverses the list, but it is more efficient to use ‘<code class=Cm>:Or</code>’ instead of ‘<code class=Cm>:O:[-1..1]</code>’.</dd><dt><a class=permalink href=#*><code class=Cm id=*>*</code></a></dt><dd>Causes subsequent modifiers to treat the value as a single word (possibly containing embedded white space). Analogous to the effect of "$*" in Bourne shell.</dd><dt>0</dt><dd>Means the same as ‘<code class=Cm>:[*]</code>’.</dd><dt><a class=permalink href=#@><code class=Cm id=@>@</code></a></dt><dd>Causes subsequent modifiers to treat the value as a sequence of words delimited by white space. Analogous to the effect of "$@" in Bourne shell.</dd><dt><a class=permalink href=#_><code class=Cm id=_>#</code></a></dt><dd>Returns the number of words in the value.</dd></dl></dd></dl></section></section><section class=Sh><h2 class=Sh id=INCLUDE_STATEMENTS,_CONDITIONALS_AND_FOR_LOOPS><a class=permalink href=#INCLUDE_STATEMENTS,_CONDITIONALS_AND_FOR_LOOPS>INCLUDE STATEMENTS, CONDITIONALS AND FOR LOOPS</a></h2> Makefile inclusion, conditional structures and for loops reminiscent of the C programming language are provided in <code class=Nm>make</code>. All such structures are identified by a line beginning with a single dot (‘<code class=Li>.</code>’) character. Files are included with either <code class=Cm>.include &lt;</code><var class=Ar>file</var><code class=Cm>&gt;</code> or <code class=Cm>.include "</code><var class=Ar>file</var><code class=Cm>"</code>. Variables between the angle brackets or double quotes are expanded to form the file name. If angle brackets are used, the included makefile is expected to be in the system makefile directory. If double quotes are used, the including makefile's directory and any directories specified using the <code class=Fl>-I</code> option are searched before the system makefile directory. For compatibility with other versions of <code class=Nm>make</code> ‘<code class=Li>include file ...</code>’ is also accepted. <p class=Pp>If the include statement is written as <code class=Cm>.-include</code> or as <code class=Cm>.sinclude</code> then errors locating and/or opening include files are ignored.</p><p class=Pp>If the include statement is written as <code class=Cm>.dinclude</code> not only are errors locating and/or opening include files ignored, but stale dependencies within the included file will be ignored just like <var class=Va>.MAKE.DEPENDFILE</var>.</p><p class=Pp>Conditional expressions are also preceded by a single dot as the first character of a line. The possible conditionals are as follows:</p><dl class=Bl-tag><dt><a class=permalink href=#.error><code class=Ic id=.error>.error</code></a><var class=Ar>message</var></dt><dd>The message is printed along with the name of the makefile and line number, then <code class=Nm>make</code> will exit immediately.</dd><dt><a class=permalink href=#.export><code class=Ic id=.export>.export</code></a><var class=Ar>variable ...</var></dt><dd>Export the specified global variable. If no variable list is provided, all globals are exported except for internal variables (those that start with ‘<code class=Li>.</code>’). This is not affected by the <code class=Fl>-X</code> flag, so should be used with caution. For compatibility with other <code class=Nm>make</code> programs ‘<code class=Li>export variable=value</code>’ is also accepted. <p class=Pp>Appending a variable name to <var class=Va>.MAKE.EXPORTED</var> is equivalent to exporting a variable.</p></dd><dt><a class=permalink href=#.export-env><code class=Ic id=.export-env>.export-env</code></a><var class=Ar>variable ...</var></dt><dd>The same as ‘<code class=Li>.export</code>’, except that the variable is not appended to <var class=Va>.MAKE.EXPORTED</var>. This allows exporting a value to the environment which is different from that used by <code class=Nm>make</code> internally.</dd><dt><a class=permalink href=#.export-literal><code class=Ic id=.export-literal>.export-literal</code></a><var class=Ar>variable ...</var></dt><dd>The same as ‘<code class=Li>.export-env</code>’, except that variables in the value are not expanded.</dd><dt><a class=permalink href=#.info><code class=Ic id=.info>.info</code></a><var class=Ar>message</var></dt><dd>The message is printed along with the name of the makefile and line number.</dd><dt><a class=permalink href=#.undef><code class=Ic id=.undef>.undef</code></a><var class=Ar>variable ...</var></dt><dd>Un-define the specified global variables. Only global variables can be un-defined.</dd><dt><a class=permalink href=#.unexport><code class=Ic id=.unexport>.unexport</code></a><var class=Ar>variable ...</var></dt><dd>The opposite of ‘<code class=Li>.export</code>’. The specified global <var class=Va>variable</var> will be removed from <var class=Va>.MAKE.EXPORTED</var>. If no variable list is provided, all globals are unexported, and <var class=Va>.MAKE.EXPORTED</var> deleted.</dd><dt><a class=permalink href=#.unexport-env><code class=Ic id=.unexport-env>.unexport-env</code></a></dt><dd>Unexport all globals previously exported and clear the environment inherited from the parent. This operation will cause a memory leak of the original environment, so should be used sparingly. Testing for <var class=Va>.MAKE.LEVEL</var> being 0, would make sense. Also note that any variables which originated in the parent environment should be explicitly preserved if desired. For example: <div class="Bd Pp Bd-indent"><pre>
<code class=Li>.if ${.MAKE.LEVEL} == 0
</code>
PATH := ${PATH}
<code class=Li>.unexport-env
</code>
<code class=Li>.export PATH
</code>
<code class=Li>.endif
</code>

    </pre></div> Would result in an environment containing only ‘<code class=Ev>PATH</code>’, which is the minimal useful environment. Actually ‘<code class=Ev>.MAKE.LEVEL</code>’ will also be pushed into the new environment.</dd><dt><a class=permalink href=#.warning><code class=Ic id=.warning>.warning</code></a><var class=Ar>message</var></dt><dd>The message prefixed by ‘<span class=Pa>warning:</span>’ is printed along with the name of the makefile and line number.</dd><dt><a class=permalink href=#.if><code class=Ic id=.if>.if</code></a> [!]<var class=Ar>expression</var> [<var class=Ar>operator expression ...</var>]</dt><dd>Test the value of an expression.</dd><dt><a class=permalink href=#.ifdef><code class=Ic id=.ifdef>.ifdef</code></a> [!]<var class=Ar>variable</var> [<var class=Ar>operator variable ...</var>]</dt><dd>Test the value of a variable.</dd><dt><a class=permalink href=#.ifndef><code class=Ic id=.ifndef>.ifndef</code></a> [!]<var class=Ar>variable</var> [<var class=Ar>operator variable ...</var>]</dt><dd>Test the value of a variable.</dd><dt><a class=permalink href=#.ifmake><code class=Ic id=.ifmake>.ifmake</code></a> [!]<var class=Ar>target</var> [<var class=Ar>operator target ...</var>]</dt><dd>Test the target being built.</dd><dt><a class=permalink href=#.ifnmake><code class=Ic id=.ifnmake>.ifnmake</code></a> [!] <var class=Ar>target</var> [<var class=Ar>operator target ...</var>]</dt><dd>Test the target being built.</dd><dt><a class=permalink href=#.else><code class=Ic id=.else>.else</code></a></dt><dd>Reverse the sense of the last conditional.</dd><dt><a class=permalink href=#.elif><code class=Ic id=.elif>.elif</code></a> [!] <var class=Ar>expression</var> [<var class=Ar>operator expression ...</var>]</dt><dd>A combination of ‘<code class=Ic>.else</code>’ followed by ‘<code class=Ic>.if</code>’.</dd><dt><a class=permalink href=#.elifdef><code class=Ic id=.elifdef>.elifdef</code></a> [!]<var class=Ar>variable</var> [<var class=Ar>operator variable ...</var>]</dt><dd>A combination of ‘<code class=Ic>.else</code>’ followed by ‘<code class=Ic>.ifdef</code>’.</dd><dt><a class=permalink href=#.elifndef><code class=Ic id=.elifndef>.elifndef</code></a> [!]<var class=Ar>variable</var> [<var class=Ar>operator variable ...</var>]</dt><dd>A combination of ‘<code class=Ic>.else</code>’ followed by ‘<code class=Ic>.ifndef</code>’.</dd><dt><a class=permalink href=#.elifmake><code class=Ic id=.elifmake>.elifmake</code></a> [!]<var class=Ar>target</var> [<var class=Ar>operator target ...</var>]</dt><dd>A combination of ‘<code class=Ic>.else</code>’ followed by ‘<code class=Ic>.ifmake</code>’.</dd><dt><a class=permalink href=#.elifnmake><code class=Ic id=.elifnmake>.elifnmake</code></a> [!]<var class=Ar>target</var> [<var class=Ar>operator target ...</var>]</dt><dd>A combination of ‘<code class=Ic>.else</code>’ followed by ‘<code class=Ic>.ifnmake</code>’.</dd><dt><a class=permalink href=#.endif><code class=Ic id=.endif>.endif</code></a></dt><dd>End the body of the conditional.</dd></dl><p class=Pp>The <var class=Ar>operator</var> may be any one of the following:</p><dl class=Bl-tag><dt><a class=permalink href=#__&_><code class=Cm id=__&_>||</code></a></dt><dd>Logical OR.</dd><dt><a class=permalink href=#&&amp;><code class=Cm id=&&amp;>&amp;&amp;</code></a></dt><dd>Logical AND; of higher precedence than “||”.</dd></dl><p class=Pp>As in C, <code class=Nm>make</code> will only evaluate a conditional as far as is necessary to determine its value. Parentheses may be used to change the order of evaluation. The boolean operator ‘<code class=Ic>!</code>’ may be used to logically negate an entire conditional. It is of higher precedence than ‘<code class=Ic>&amp;&amp;</code>’.</p><p class=Pp>The value of <var class=Ar>expression</var> may be any of the following:</p><dl class=Bl-tag><dt><a class=permalink href=#defined><code class=Ic id=defined>defined</code></a></dt><dd>Takes a variable name as an argument and evaluates to true if the variable has been defined.</dd><dt><a class=permalink href=#make><code class=Ic id=make>make</code></a></dt><dd>Takes a target name as an argument and evaluates to true if the target was specified as part of <code class=Nm>make</code>'s command line or was declared the default target (either implicitly or explicitly, see <var class=Va>.MAIN</var>) before the line containing the conditional.</dd><dt><a class=permalink href=#empty><code class=Ic id=empty>empty</code></a></dt><dd>Takes a variable, with possible modifiers, and evaluates to true if the expansion of the variable would result in an empty string.</dd><dt><a class=permalink href=#exists><code class=Ic id=exists>exists</code></a></dt><dd>Takes a file name as an argument and evaluates to true if the file exists. The file is searched for on the system search path (see <var class=Va>.PATH</var>).</dd><dt><a class=permalink href=#target><code class=Ic id=target>target</code></a></dt><dd>Takes a target name as an argument and evaluates to true if the target has been defined.</dd><dt><a class=permalink href=#commands><code class=Ic id=commands>commands</code></a></dt><dd>Takes a target name as an argument and evaluates to true if the target has been defined and has commands associated with it.</dd></dl><p class=Pp><var class=Ar>Expression</var> may also be an arithmetic or string comparison. Variable expansion is performed on both sides of the comparison, after which the numerical values are compared. A value is interpreted as hexadecimal if it is preceded by 0x, otherwise it is decimal; octal numbers are not supported. The standard C relational operators are all supported. If after variable expansion, either the left or right hand side of a ‘<code class=Ic>==</code>’ or ‘<code class=Ic>!=</code>’ operator is not a numerical value, then string comparison is performed between the expanded variables. If no relational operator is given, it is assumed that the expanded variable is being compared against 0, or an empty string in the case of a string comparison.</p><p class=Pp>When <code class=Nm>make</code> is evaluating one of these conditional expressions, and it encounters a (white-space separated) word it doesn't recognize, either the “make” or “defined” expression is applied to it, depending on the form of the conditional. If the form is ‘<code class=Ic>.ifdef</code>’, ‘<code class=Ic>.ifndef</code>’, or ‘<code class=Ic>.if</code>’ the “defined” expression is applied. Similarly, if the form is ‘<code class=Ic>.ifmake</code>’ or ‘<code class=Ic>.ifnmake</code>’, the “make” expression is applied.</p><p class=Pp>If the conditional evaluates to true the parsing of the makefile continues as before. If it evaluates to false, the following lines are skipped. In both cases this continues until a ‘<code class=Ic>.else</code>’ or ‘<code class=Ic>.endif</code>’ is found.</p><p class=Pp>For loops are typically used to apply a set of rules to a list of files. The syntax of a for loop is:</p><p class=Pp></p><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#.for><code class=Ic id=.for>.for</code></a><var class=Ar>variable</var> [<var class=Ar>variable ...</var>] <code class=Ic>in</code><var class=Ar>expression</var></dt><dd style="width: auto;"> </dd><dt>⟨make-lines⟩</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#.endfor><code class=Ic id=.endfor>.endfor</code></a></dt><dd style="width: auto;"> </dd></dl><p class=Pp>After the for <code class=Ic>expression</code> is evaluated, it is split into words. On each iteration of the loop, one word is taken and assigned to each <code class=Ic>variable</code>, in order, and these <code class=Ic>variables</code> are substituted into the <code class=Ic>make-lines</code> inside the body of the for loop. The number of words must come out even; that is, if there are three iteration variables, the number of words provided must be a multiple of three.</p></section><section class=Sh><h2 class=Sh id=COMMENTS><a class=permalink href=#COMMENTS>COMMENTS</a></h2> Comments begin with a hash (‘<code class=Li>#</code>’) character, anywhere but in a shell command line, and continue to the end of an unescaped new line. </section><section class=Sh><h2 class=Sh id=SPECIAL_SOURCES_(ATTRIBUTES)><a class=permalink href=#SPECIAL_SOURCES_(ATTRIBUTES)>SPECIAL SOURCES (ATTRIBUTES)</a></h2><dl class=Bl-tag><dt><a class=permalink href=#.EXEC><code class=Ic id=.EXEC>.EXEC</code></a></dt><dd>Target is never out of date, but always execute commands anyway.</dd><dt><a class=permalink href=#.IGNORE><code class=Ic id=.IGNORE>.IGNORE</code></a></dt><dd>Ignore any errors from the commands associated with this target, exactly as if they all were preceded by a dash (‘<code class=Li>-</code>’).</dd><dt><a class=permalink href=#.MADE><code class=Ic id=.MADE>.MADE</code></a></dt><dd>Mark all sources of this target as being up-to-date.</dd><dt><a class=permalink href=#.MAKE><code class=Ic id=.MAKE>.MAKE</code></a></dt><dd>Execute the commands associated with this target even if the <code class=Fl>-n</code> or <code class=Fl>-t</code> options were specified. Normally used to mark recursive <code class=Nm>make</code>s.</dd><dt><a class=permalink href=#.META><code class=Ic id=.META>.META</code></a></dt><dd>Create a meta file for the target, even if it is flagged as <code class=Ic>.PHONY</code>, <code class=Ic>.MAKE</code>, or <code class=Ic>.SPECIAL</code>. Usage in conjunction with <code class=Ic>.MAKE</code> is the most likely case. In "meta" mode, the target is out-of-date if the meta file is missing.</dd><dt><a class=permalink href=#.NOMETA><code class=Ic id=.NOMETA>.NOMETA</code></a></dt><dd>Do not create a meta file for the target. Meta files are also not created for <code class=Ic>.PHONY</code>, <code class=Ic>.MAKE</code>, or <code class=Ic>.SPECIAL</code> targets.</dd><dt><a class=permalink href=#.NOMETA_CMP><code class=Ic id=.NOMETA_CMP>.NOMETA_CMP</code></a></dt><dd>Ignore differences in commands when deciding if target is out of date. This is useful if the command contains a value which always changes. If the number of commands change, though, the target will still be out of date. The same effect applies to any command line that uses the variable <var class=Va>.OODATE</var>, which can be used for that purpose even when not otherwise needed or desired: <div class="Bd Pp Bd-indent"><pre>

skip-compare-for-some:
	@echo this will be compared
	@echo this will not ${.OODATE:M.NOMETA_CMP}
	@echo this will also be compared

    </pre></div> The <code class=Cm>:M</code> pattern suppresses any expansion of the unwanted variable.</dd><dt><a class=permalink href=#.NOPATH><code class=Ic id=.NOPATH>.NOPATH</code></a></dt><dd>Do not search for the target in the directories specified by <code class=Ic>.PATH</code>.</dd><dt><a class=permalink href=#.NOTMAIN><code class=Ic id=.NOTMAIN>.NOTMAIN</code></a></dt><dd>Normally <code class=Nm>make</code> selects the first target it encounters as the default target to be built if no target was specified. This source prevents this target from being selected.</dd><dt><a class=permalink href=#.OPTIONAL><code class=Ic id=.OPTIONAL>.OPTIONAL</code></a></dt><dd>If a target is marked with this attribute and <code class=Nm>make</code> can't figure out how to create it, it will ignore this fact and assume the file isn't needed or already exists.</dd><dt><a class=permalink href=#.PHONY><code class=Ic id=.PHONY>.PHONY</code></a></dt><dd>The target does not correspond to an actual file; it is always considered to be out of date, and will not be created with the <code class=Fl>-t</code> option. Suffix-transformation rules are not applied to <code class=Ic>.PHONY</code> targets.</dd><dt><a class=permalink href=#.PRECIOUS><code class=Ic id=.PRECIOUS>.PRECIOUS</code></a></dt><dd>When <code class=Nm>make</code> is interrupted, it normally removes any partially made targets. This source prevents the target from being removed.</dd><dt><a class=permalink href=#.RECURSIVE><code class=Ic id=.RECURSIVE>.RECURSIVE</code></a></dt><dd>Synonym for <code class=Ic>.MAKE</code>.</dd><dt><a class=permalink href=#.SILENT><code class=Ic id=.SILENT>.SILENT</code></a></dt><dd>Do not echo any of the commands associated with this target, exactly as if they all were preceded by an at sign (‘<code class=Li>@</code>’).</dd><dt><a class=permalink href=#.USE><code class=Ic id=.USE>.USE</code></a></dt><dd>Turn the target into <code class=Nm>make</code>'s version of a macro. When the target is used as a source for another target, the other target acquires the commands, sources, and attributes (except for <code class=Ic>.USE</code>) of the source. If the target already has commands, the <code class=Ic>.USE</code> target's commands are appended to them.</dd><dt><a class=permalink href=#.USEBEFORE><code class=Ic id=.USEBEFORE>.USEBEFORE</code></a></dt><dd>Exactly like <code class=Ic>.USE</code>, but prepend the <code class=Ic>.USEBEFORE</code> target commands to the target.</dd><dt><a class=permalink href=#.WAIT><code class=Ic id=.WAIT>.WAIT</code></a></dt><dd>If <code class=Ic>.WAIT</code> appears in a dependency line, the sources that precede it are made before the sources that succeed it in the line. Since the dependents of files are not made until the file itself could be made, this also stops the dependents being built unless they are needed for another branch of the dependency tree. So given: <div class="Bd Pp"><pre>
x: a .WAIT b
	echo x
a:
	echo a
b: b1
	echo b
b1:
	echo b1

    </pre></div> the output is always ‘<code class=Li>a</code>’, ‘<code class=Li>b1</code>’, ‘<code class=Li>b</code>’, ‘<code class=Li>x</code>’. <br> The ordering imposed by <code class=Ic>.WAIT</code> is only relevant for parallel makes.</dd></dl></section><section class=Sh><h2 class=Sh id=SPECIAL_TARGETS><a class=permalink href=#SPECIAL_TARGETS>SPECIAL TARGETS</a></h2> Special targets may not be included with other targets, i.e. they must be the only target specified. <dl class=Bl-tag><dt><a class=permalink href=#.BEGIN><code class=Ic id=.BEGIN>.BEGIN</code></a></dt><dd>Any command lines attached to this target are executed before anything else is done.</dd><dt><a class=permalink href=#.DEFAULT><code class=Ic id=.DEFAULT>.DEFAULT</code></a></dt><dd>This is sort of a <code class=Ic>.USE</code> rule for any target (that was used only as a source) that <code class=Nm>make</code> can't figure out any other way to create. Only the shell script is used. The <code class=Ic>.IMPSRC</code> variable of a target that inherits <code class=Ic>.DEFAULT</code>'s commands is set to the target's own name.</dd><dt><a class=permalink href=#.DELETE_ON_ERROR><code class=Ic id=.DELETE_ON_ERROR>.DELETE_ON_ERROR</code></a></dt><dd>If this target is present in the makefile, it globally causes make to delete targets whose commands fail. (By default, only targets whose commands are interrupted during execution are deleted. This is the historical behavior.) This setting can be used to help prevent half-finished or malformed targets from being left around and corrupting future rebuilds.</dd><dt><a class=permalink href=#.END><code class=Ic id=.END>.END</code></a></dt><dd>Any command lines attached to this target are executed after everything else is done.</dd><dt><a class=permalink href=#.ERROR><code class=Ic id=.ERROR>.ERROR</code></a></dt><dd>Any command lines attached to this target are executed when another target fails. The <code class=Ic>.ERROR_TARGET</code> variable is set to the target that failed. See also <code class=Ic>MAKE_PRINT_VAR_ON_ERROR</code>.</dd><dt><a class=permalink href=#.IGNORE_2><code class=Ic id=.IGNORE_2>.IGNORE</code></a></dt><dd>Mark each of the sources with the <code class=Ic>.IGNORE</code> attribute. If no sources are specified, this is the equivalent of specifying the <code class=Fl>-i</code> option.</dd><dt><a class=permalink href=#.INTERRUPT><code class=Ic id=.INTERRUPT>.INTERRUPT</code></a></dt><dd>If <code class=Nm>make</code> is interrupted, the commands for this target will be executed.</dd><dt><a class=permalink href=#.MAIN><code class=Ic id=.MAIN>.MAIN</code></a></dt><dd>If no target is specified when <code class=Nm>make</code> is invoked, this target will be built.</dd><dt><a class=permalink href=#.MAKEFLAGS><code class=Ic id=.MAKEFLAGS>.MAKEFLAGS</code></a></dt><dd>This target provides a way to specify flags for <code class=Nm>make</code> when the makefile is used. The flags are as if typed to the shell, though the <code class=Fl>-f</code> option will have no effect.</dd><dt><a class=permalink href=#.NOPATH_2><code class=Ic id=.NOPATH_2>.NOPATH</code></a></dt><dd>Apply the <code class=Ic>.NOPATH</code> attribute to any specified sources.</dd><dt><a class=permalink href=#.NOTPARALLEL><code class=Ic id=.NOTPARALLEL>.NOTPARALLEL</code></a></dt><dd>Disable parallel mode.</dd><dt><a class=permalink href=#.NO_PARALLEL><code class=Ic id=.NO_PARALLEL>.NO_PARALLEL</code></a></dt><dd>Synonym for <code class=Ic>.NOTPARALLEL</code>, for compatibility with other pmake variants.</dd><dt><a class=permalink href=#.OBJDIR><code class=Ic id=.OBJDIR>.OBJDIR</code></a></dt><dd>The source is a new value for ‘<var class=Va>.OBJDIR</var>’. If it exists, <code class=Nm>make</code> will <a class=Xr href=chdir.2.html>chdir(2)</a> to it and update the value of ‘<var class=Va>.OBJDIR</var>’.</dd><dt><a class=permalink href=#.ORDER><code class=Ic id=.ORDER>.ORDER</code></a></dt><dd>In parallel mode, the named targets are made in sequence. This ordering does not add targets to the list of targets to be made. <p class=Pp>Since the dependents of a target do not get built until the target itself could be built, unless ‘<code class=Li>a</code>’ is built by another part of the dependency graph, the following is a dependency loop:</p><div class="Bd Pp"><pre>
.ORDER: b a
b: a
    </pre></div></dd><dt><a class=permalink href=#.PATH><code class=Ic id=.PATH>.PATH</code></a></dt><dd>The sources are directories which are to be searched for files not found in the current directory. If no sources are specified, any previously specified directories are deleted. If the source is the special <code class=Ic>.DOTLAST</code> target, then the current working directory is searched last.</dd><dt><a class=permalink href=#.PATH.><code class=Ic id=.PATH.>.PATH.</code></a><var class=Va>suffix</var></dt><dd>Like <code class=Ic>.PATH</code> but applies only to files with a particular suffix. The suffix must have been previously declared with <code class=Ic>.SUFFIXES</code>.</dd><dt><a class=permalink href=#.PHONY_2><code class=Ic id=.PHONY_2>.PHONY</code></a></dt><dd>Apply the <code class=Ic>.PHONY</code> attribute to any specified sources.</dd><dt><a class=permalink href=#.POSIX><code class=Ic id=.POSIX>.POSIX</code></a></dt><dd>If this is the first non-comment line in the main makefile, the variable <var class=Va>%POSIX</var> is set to the value ‘<code class=Li>1003.2</code>’ and the makefile ‘<code class=Li>&lt;posix.mk&gt;</code>’ is included if it exists, to provide POSIX-compatible default rules. If <code class=Nm>make</code> is run with the <code class=Fl>-r</code> flag, then only ‘<code class=Li>posix.mk</code>’ will contribute to the default rules.</dd><dt><a class=permalink href=#.PRECIOUS_2><code class=Ic id=.PRECIOUS_2>.PRECIOUS</code></a></dt><dd>Apply the <code class=Ic>.PRECIOUS</code> attribute to any specified sources. If no sources are specified, the <code class=Ic>.PRECIOUS</code> attribute is applied to every target in the file.</dd><dt><a class=permalink href=#.SHELL_2><code class=Ic id=.SHELL_2>.SHELL</code></a></dt><dd>Sets the shell that <code class=Nm>make</code> will use to execute commands. The sources are a set of <var class=Ar>field=value</var> pairs. <dl class=Bl-tag><dt><var class=Ar>name</var></dt><dd>This is the minimal specification, used to select one of the built-in shell specs; <var class=Ar>sh</var>, <var class=Ar>ksh</var>, and <var class=Ar>csh</var>.</dd><dt><var class=Ar>path</var></dt><dd>Specifies the path to the shell.</dd><dt><var class=Ar>hasErrCtl</var></dt><dd>Indicates whether the shell supports exit on error.</dd><dt><var class=Ar>check</var></dt><dd>The command to turn on error checking.</dd><dt><var class=Ar>ignore</var></dt><dd>The command to disable error checking.</dd><dt><var class=Ar>echo</var></dt><dd>The command to turn on echoing of commands executed.</dd><dt><var class=Ar>quiet</var></dt><dd>The command to turn off echoing of commands executed.</dd><dt><var class=Ar>filter</var></dt><dd>The output to filter after issuing the <var class=Ar>quiet</var> command. It is typically identical to <var class=Ar>quiet</var>.</dd><dt><var class=Ar>errFlag</var></dt><dd>The flag to pass the shell to enable error checking.</dd><dt><var class=Ar>echoFlag</var></dt><dd>The flag to pass the shell to enable command echoing.</dd><dt><var class=Ar>newline</var></dt><dd>The string literal to pass the shell that results in a single newline character when used outside of any quoting characters.</dd></dl> Example: <div class="Bd Pp"><pre>
.SHELL: name=ksh path=/bin/ksh hasErrCtl=true \
	check="set -e" ignore="set +e" \
	echo="set -v" quiet="set +v" filter="set +v" \
	echoFlag=v errFlag=e newline="'\n'"
    </pre></div></dd><dt><a class=permalink href=#.SILENT_2><code class=Ic id=.SILENT_2>.SILENT</code></a></dt><dd>Apply the <code class=Ic>.SILENT</code> attribute to any specified sources. If no sources are specified, the <code class=Ic>.SILENT</code> attribute is applied to every command in the file.</dd><dt><a class=permalink href=#.STALE><code class=Ic id=.STALE>.STALE</code></a></dt><dd>This target gets run when a dependency file contains stale entries, having <var class=Va>.ALLSRC</var> set to the name of that dependency file.</dd><dt><a class=permalink href=#.SUFFIXES_2><code class=Ic id=.SUFFIXES_2>.SUFFIXES</code></a></dt><dd>Each source specifies a suffix to <code class=Nm>make</code>. If no sources are specified, any previously specified suffixes are deleted. It allows the creation of suffix-transformation rules. <p class=Pp>Example:</p><div class="Bd Pp"><pre>
.SUFFIXES: .o
.c.o:
	cc -o ${.TARGET} -c ${.IMPSRC}
    </pre></div></dd></dl></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2><code class=Nm>make</code> uses the following environment variables, if they exist: <code class=Ev>MACHINE</code>, <code class=Ev>MACHINE_ARCH</code>, <code class=Ev>MAKE</code>, <code class=Ev>MAKEFLAGS</code>, <code class=Ev>MAKEOBJDIR</code>, <code class=Ev>MAKEOBJDIRPREFIX</code>, <code class=Ev>MAKESYSPATH</code>, <code class=Ev>PWD</code>, and <code class=Ev>TMPDIR</code>. <p class=Pp><code class=Ev>MAKEOBJDIRPREFIX</code> and <code class=Ev>MAKEOBJDIR</code> may only be set in the environment or on the command line to <code class=Nm>make</code> and not as makefile variables; see the description of ‘<var class=Va>.OBJDIR</var>’ for more details.</p></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt>.depend</dt><dd>list of dependencies</dd><dt>Makefile</dt><dd>list of dependencies</dd><dt>makefile</dt><dd>list of dependencies</dd><dt>sys.mk</dt><dd>system makefile</dd><dt>/usr/share/mk</dt><dd>system makefile directory</dd></dl></section><section class=Sh><h2 class=Sh id=COMPATIBILITY><a class=permalink href=#COMPATIBILITY>COMPATIBILITY</a></h2> The basic make syntax is compatible between different versions of make; however the special variables, variable modifiers and conditionals are not. <section class=Ss><h2 class=Ss id=Older_versions><a class=permalink href=#Older_versions>Older versions</a></h2> An incomplete list of changes in older versions of <code class=Nm>make</code>: <p class=Pp>The way that .for loop variables are substituted changed after <span class=Ux>NetBSD 5.0</span> so that they still appear to be variable expansions. In particular this stops them being treated as syntax, and removes some obscure problems using them in .if statements.</p><p class=Pp>The way that parallel makes are scheduled changed in <span class=Ux>NetBSD 4.0</span> so that .ORDER and .WAIT apply recursively to the dependent nodes. The algorithms used may change again in the future.</p></section><section class=Ss><h2 class=Ss id=Other_make_dialects><a class=permalink href=#Other_make_dialects>Other make dialects</a></h2> Other make dialects (GNU make, SVR4 make, POSIX make, etc.) do not support most of the features of <code class=Nm>make</code> as described in this manual. Most notably: <ul class="Bl-bullet Bd-indent"><li>The <code class=Ic>.WAIT</code> and <code class=Ic>.ORDER</code> declarations and most functionality pertaining to parallelization. (GNU make supports parallelization but lacks these features needed to control it effectively.)</li><li>Directives, including for loops and conditionals and most of the forms of include files. (GNU make has its own incompatible and less powerful syntax for conditionals.)</li><li>All built-in variables that begin with a dot.</li><li>Most of the special sources and targets that begin with a dot, with the notable exception of <code class=Ic>.PHONY</code>, <code class=Ic>.PRECIOUS</code>, and <code class=Ic>.SUFFIXES</code>.</li><li>Variable modifiers, except for the <div class="Bd Bd-indent"><code class=Li>:old=new</code></div> string substitution, which does not portably support globbing with ‘<code class=Li>%</code>’ and historically only works on declared suffixes.</li><li>The <code class=Ic>$&gt;</code> variable even in its short form; most makes support this functionality but its name varies.</li></ul><p class=Pp>Some features are somewhat more portable, such as assignment with <code class=Ic>+=</code>, <code class=Ic>?=</code>, and <code class=Ic>!=</code>. The <code class=Ic>.PATH</code> functionality is based on an older feature <code class=Ic>VPATH</code> found in GNU make and many versions of SVR4 make; however, historically its behavior is too ill-defined (and too buggy) to rely upon.</p><p class=Pp>The <code class=Ic>$@</code> and <code class=Ic>$&lt;</code> variables are more or less universally portable, as is the <code class=Ic>$(MAKE)</code> variable. Basic use of suffix rules (for files only in the current directory, not trying to chain transformations together, etc.) is also reasonably portable.</p></section></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=mkdep.1.html>mkdep(1)</a>, <a class=Xr href=style.Makefile.5.html>style.Makefile(5)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> A <code class=Nm>make</code> command appeared in <span class=Ux>Version 7 AT&amp;T UNIX</span>. This <code class=Nm>make</code> implementation is based on Adam De Boor's pmake program which was written for Sprite at Berkeley. It was designed to be a parallel distributed make running jobs on different machines using a daemon called “customs”. <p class=Pp>Historically the target/dependency “FRC” has been used to FoRCe rebuilding (since the target/dependency does not exist... unless someone creates an “FRC” file).</p></section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> The <code class=Nm>make</code> syntax is difficult to parse without actually acting on the data. For instance, finding the end of a variable's use should involve scanning each of the modifiers, using the correct terminator for each field. In many places <code class=Nm>make</code> just counts {} and () in order to find the end of a variable expansion. <p class=Pp>There is no way of escaping a space character in a filename.</p></section></div><table class=foot><tr><td class=foot-date>July 12, 2022</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>