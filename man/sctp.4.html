<!DOCTYPE html>
<html><head><meta charset=utf-8><title>sctp(4)</title><keywords content=man,sctp></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>sctp(4)</h1><table class=head><tr><td class=head-ltitle>SCTP(4)</td><td class=head-vol>FreeBSD Kernel Interfaces Manual</td><td class=head-rtitle>SCTP(4)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>sctp</code> — <div class=Nd>Internet Stream Control Transmission Protocol</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=Cd>options SCTP</code><br><code class=Cd>options SCTP_SUPPORT</code><p class=Pp><br><code class=In>#include &lt;<a class=In href=../src/sys/types.h.html>sys/types.h</a>&gt;</code><br><code class=In>#include &lt;<a class=In href=../src/sys/socket.h.html>sys/socket.h</a>&gt;</code><br><code class=In>#include &lt;<a class=In href=../src/netinet/sctp.h.html>netinet/sctp.h</a>&gt;</code></p><p class=Pp><var class=Ft>int</var><br><code class=Fn>socket</code>(<var class=Fa style="white-space: nowrap;">AF_INET</var>, <var class=Fa style="white-space: nowrap;">SOCK_STREAM</var>, <var class=Fa style="white-space: nowrap;">IPPROTO_SCTP</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>socket</code>(<var class=Fa style="white-space: nowrap;">AF_INET</var>, <var class=Fa style="white-space: nowrap;">SOCK_SEQPACKET</var>, <var class=Fa style="white-space: nowrap;">IPPROTO_SCTP</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The SCTP protocol provides reliable, flow-controlled, two-way transmission of data. It is a message oriented protocol and can support the <code class=Dv>SOCK_STREAM</code> and <code class=Dv>SOCK_SEQPACKET</code> abstractions. SCTP uses the standard Internet address format and, in addition, provides a per-host collection of “port addresses”. Thus, each address is composed of an Internet address specifying the host and network, with a specific SCTP port on the host identifying the peer entity. <p class=Pp>There are two models of programming in SCTP. The first uses the <code class=Dv>SOCK_STREAM</code> abstraction. In this abstraction sockets utilizing the SCTP protocol are either “active” or “passive”. Active sockets initiate connections to passive sockets. By default, SCTP sockets are created active; to create a passive socket, the <a class=Xr href=listen.2.html>listen(2)</a> system call must be used after binding the socket with the <a class=Xr href=bind.2.html>bind(2)</a> or <a class=Xr href=sctp_bindx.3.html>sctp_bindx(3)</a> system calls. Only passive sockets may use the <a class=Xr href=accept.2.html>accept(2)</a> call to accept incoming connections. Only active sockets may use the <a class=Xr href=connect.2.html>connect(2)</a> call to initiate connections.</p><p class=Pp>The other abstraction <code class=Dv>SOCK_SEQPACKET</code> provides a “connectionless” mode of operation in that the user may send to an address (using any of the valid send calls that carry a socket address) and an association will be setup implicitly by the underlying SCTP transport stack. This abstraction is the only one capable of sending data on the third leg of the four-way handshake. A user must still call <a class=Xr href=listen.2.html>listen(2)</a> to allow the socket to accept connections. Calling <a class=Xr href=listen.2.html>listen(2)</a> however does not restrict the user from still initiating implicit connections to other peers.</p><p class=Pp>The SCTP protocol directly supports multi-homing. So when binding a socket with the “wildcard” address <code class=Dv>INADDR_ANY</code>, the SCTP stack will inform the peer about all of the local addresses that are deemed in scope of the peer. The peer will then possibly have multiple paths to reach the local host.</p><p class=Pp>The SCTP transport protocol is also multi-streamed. Multi-streaming refers to the ability to send sub-ordered flows of messages. A user performs this by specifying a specific stream in one of the extended send calls such as the <a class=Xr href=sctp_send.3.html>sctp_send(3)</a> function call. Sending messages on different streams will allow parallel delivery of data i.e., a message loss in stream 1 will not block the delivery of messages sent in stream 2.</p><p class=Pp>The SCTP transport protocol also provides a unordered service as well. The unordered service allows a message to be sent and delivered with no regard to the ordering of any other message.</p><p class=Pp>The SCTP kernel implementation may either be compiled into the kernel, or loaded dynamically as a module. To support dynamic loading of the stack, the kernel must be compiled with <code class=Cd>options SCTP_SUPPORT</code>.</p><section class=Ss><h2 class=Ss id=Extensions><a class=permalink href=#Extensions>Extensions</a></h2> The <span class=Ux>FreeBSD</span> implementation of SCTP also supports the following extensions: <dl class=Bl-tag><dt>sctp partial reliability</dt><dd>This extension allows one to have message be skipped and not delivered based on some user specified parameters.</dd><dt>sctp dynamic addressing</dt><dd>This extension allows addresses to be added and deleted dynamically from an existing association.</dd><dt>sctp authentication</dt><dd>This extension allows the user to authenticate specific peer chunks (including data) to validate that the peer who sent the message is in fact the peer who setup the association. A shared key option is also provided for so that two stacks can pre-share keys.</dd><dt>packet drop</dt><dd>Some routers support a special satellite protocol that will report losses due to corruption. This allows retransmissions without subsequent loss in bandwidth utilization.</dd><dt>stream reset</dt><dd>This extension allows a user on either side to reset the stream sequence numbers used by any or all streams.</dd></dl></section><section class=Ss><h2 class=Ss id=Socket_Options><a class=permalink href=#Socket_Options>Socket Options</a></h2> SCTP supports a number of socket options which can be set with <a class=Xr href=setsockopt.2.html>setsockopt(2)</a> and tested with <a class=Xr href=getsockopt.2.html>getsockopt(2)</a> or <a class=Xr href=sctp_opt_info.3.html>sctp_opt_info(3)</a>: <dl class=Bl-tag><dt><a class=permalink href=#SCTP_NODELAY><code class=Dv id=SCTP_NODELAY>SCTP_NODELAY</code></a></dt><dd>Under most circumstances, SCTP sends data when it is presented; when outstanding data has not yet been acknowledged, it gathers small amounts of output to be sent in a single packet once an acknowledgement is received. For some clients, such as window systems that send a stream of mouse events which receive no replies, this packetization may cause significant delays. The boolean option <code class=Dv>SCTP_NODELAY</code> defeats this algorithm.</dd><dt><a class=permalink href=#SCTP_RTOINFO><code class=Dv id=SCTP_RTOINFO>SCTP_RTOINFO</code></a></dt><dd>This option returns specific information about an associations “Retransmission Time Out”. It can also be used to change the default values.</dd><dt><a class=permalink href=#SCTP_ASSOCINFO><code class=Dv id=SCTP_ASSOCINFO>SCTP_ASSOCINFO</code></a></dt><dd>This option returns specific information about the requested association.</dd><dt><a class=permalink href=#SCTP_INITMSG><code class=Dv id=SCTP_INITMSG>SCTP_INITMSG</code></a></dt><dd>This option allows you to get or set the default sending parameters when an association is implicitly setup. It allows you to change such things as the maximum number of streams allowed inbound and the number of streams requested of the peer.</dd><dt><a class=permalink href=#SCTP_AUTOCLOSE><code class=Dv id=SCTP_AUTOCLOSE>SCTP_AUTOCLOSE</code></a></dt><dd>For the one-to-many model (<code class=Dv>SOCK_SEQPACKET</code>) associations are setup implicitly. This option allows the user to specify a default number of idle seconds to allow the association be maintained. After the idle timer (where no user message have been sent or have been received from the peer) the association will be gracefully closed. The default for this value is 0, or unlimited (i.e., no automatic close).</dd><dt><a class=permalink href=#SCTP_SET_PEER_PRIMARY_ADDR><code class=Dv id=SCTP_SET_PEER_PRIMARY_ADDR>SCTP_SET_PEER_PRIMARY_ADDR</code></a></dt><dd>The dynamic address extension allows a peer to also request a particular address of its be made into the primary address. This option allows the caller to make such a request to a peer. Note that if the peer does not also support the dynamic address extension, this call will fail. Note the caller must provide a valid local address that the peer has been told about during association setup or dynamically.</dd><dt><a class=permalink href=#SCTP_PRIMARY_ADDR><code class=Dv id=SCTP_PRIMARY_ADDR>SCTP_PRIMARY_ADDR</code></a></dt><dd>This option allows the setting of the primary address that the caller wishes to send to. The caller provides the address of a peer that is to be made primary.</dd><dt><a class=permalink href=#SCTP_ADAPTATION_LAYER><code class=Dv id=SCTP_ADAPTATION_LAYER>SCTP_ADAPTATION_LAYER</code></a></dt><dd>The dynamic address extension also allows a user to pass a 32 bit opaque value upon association setup. This option allows a user to set or get this value.</dd><dt><a class=permalink href=#SCTP_DISABLE_FRAGMENTS><code class=Dv id=SCTP_DISABLE_FRAGMENTS>SCTP_DISABLE_FRAGMENTS</code></a></dt><dd>By default SCTP will fragment user messages into multiple pieces that will fit on the network and then later, upon reception, reassemble the pieces into a single user message. If this option is enabled instead, any send that exceeds the path maximum transfer unit (P-MTU) will fail and the message will NOT be sent.</dd><dt><a class=permalink href=#SCTP_PEER_ADDR_PARAMS><code class=Dv id=SCTP_PEER_ADDR_PARAMS>SCTP_PEER_ADDR_PARAMS</code></a></dt><dd>This option will allow a user to set or get specific peer address parameters.</dd><dt><a class=permalink href=#SCTP_DEFAULT_SEND_PARAM><code class=Dv id=SCTP_DEFAULT_SEND_PARAM>SCTP_DEFAULT_SEND_PARAM</code></a></dt><dd>When a user does not use one of the extended send calls (e.g., <a class=Xr href=sctp_sendmsg.3.html>sctp_sendmsg(3)</a>) a set of default values apply to each send. These values include things like the stream number to send to as well as the per-protocol id. This option lets a caller both get and set these values. If the user changes these default values, then these new values will be used as the default whenever no information is provided by the sender (i.e., the non-extended API is used).</dd><dt><a class=permalink href=#SCTP_EVENTS><code class=Dv id=SCTP_EVENTS>SCTP_EVENTS</code></a></dt><dd>SCTP has non-data events that it can communicate to its application. By default these are all disabled since they arrive in the data path with a special flag <code class=Dv>MSG_NOTIFICATION</code> set upon the received message. This option lets a caller both get what events are current being received as well as set different events that they may be interested in receiving.</dd><dt><a class=permalink href=#SCTP_I_WANT_MAPPED_V4_ADDR><code class=Dv id=SCTP_I_WANT_MAPPED_V4_ADDR>SCTP_I_WANT_MAPPED_V4_ADDR</code></a></dt><dd>SCTP supports both IPV4 and IPV6. An association may span both IPV4 and IPV6 addresses since SCTP is multi-homed. By default, when opening an IPV6 socket, when data arrives on the socket from a peer's V4 address the V4 address will be presented with an address family of AF_INET. If this is undesirable, then this option can be enabled which will then convert all V4 addresses into mapped V6 representations.</dd><dt><a class=permalink href=#SCTP_MAXSEG><code class=Dv id=SCTP_MAXSEG>SCTP_MAXSEG</code></a></dt><dd>By default SCTP chooses its message fragmentation point based upon the smallest P-MTU of the peer. This option lets the caller set it to a smaller value. Note that while the user can change this value, if the P-MTU is smaller than the value set by the user, then the P-MTU value will override any user setting.</dd><dt><a class=permalink href=#SCTP_DELAYED_ACK_TIME><code class=Dv id=SCTP_DELAYED_ACK_TIME>SCTP_DELAYED_ACK_TIME</code></a></dt><dd>This option lets the user both set and get the delayed ack time (in milliseconds) that SCTP is using. The default is 200 milliseconds.</dd><dt><a class=permalink href=#SCTP_PARTIAL_DELIVERY_POINT><code class=Dv id=SCTP_PARTIAL_DELIVERY_POINT>SCTP_PARTIAL_DELIVERY_POINT</code></a></dt><dd>SCTP at times may need to start delivery of a very large message before the entire message has arrived. By default SCTP waits until the incoming message is larger than one fourth of the receive buffer. This option allows the stacks value to be overridden with a smaller value.</dd><dt><a class=permalink href=#SCTP_FRAGMENT_INTERLEAVE><code class=Dv id=SCTP_FRAGMENT_INTERLEAVE>SCTP_FRAGMENT_INTERLEAVE</code></a></dt><dd>SCTP at times will start partial delivery (as mentioned above). In the normal case successive reads will continue to return the rest of the message, blocking if needed, until all of that message is read. However this means other messages may have arrived and be ready for delivery and be blocked behind the message being partially delivered. If this option is enabled, when a partial delivery message has no more data to be received, then a subsequent read may return a different message that is ready for delivery. By default this option is off since the user must be using the extended API's to be able to tell the difference between messages (via the stream and stream sequence number).</dd><dt><a class=permalink href=#SCTP_AUTH_CHUNK><code class=Dv id=SCTP_AUTH_CHUNK>SCTP_AUTH_CHUNK</code></a></dt><dd>By default only the dynamic addressing chunks are authenticated. This option lets a user request an additional chunk be authenticated as well. Note that successive calls to this option will work and continue to add more chunks that require authentication. Note that this option only effects future associations and not existing ones.</dd><dt><a class=permalink href=#SCTP_AUTH_KEY><code class=Dv id=SCTP_AUTH_KEY>SCTP_AUTH_KEY</code></a></dt><dd>This option allows a user to specify a shared key that can be later used to authenticate a peer.</dd><dt><a class=permalink href=#SCTP_HMAC_IDENT><code class=Dv id=SCTP_HMAC_IDENT>SCTP_HMAC_IDENT</code></a></dt><dd>This option will let you get or set the list of HMAC algorithms used to authenticate peers. Note that the HMAC values are in priority order where the first HMAC identifier is the most preferred and the last is the least preferred.</dd><dt><a class=permalink href=#SCTP_AUTH_ACTIVE_KEY><code class=Dv id=SCTP_AUTH_ACTIVE_KEY>SCTP_AUTH_ACTIVE_KEY</code></a></dt><dd>This option allows you to make a key active for the generation of authentication information. Note that the peer must have the same key or else the data will be discarded.</dd><dt><a class=permalink href=#SCTP_AUTH_DELETE_KEY><code class=Dv id=SCTP_AUTH_DELETE_KEY>SCTP_AUTH_DELETE_KEY</code></a></dt><dd>This option allows you to delete an old key.</dd><dt><a class=permalink href=#SCTP_USE_EXT_RECVINFO><code class=Dv id=SCTP_USE_EXT_RECVINFO>SCTP_USE_EXT_RECVINFO</code></a></dt><dd>The sockets api document allows an extended send/receive information structure to be used. The extended structure includes additional fields related to the next message to be received (after the current receive completes) if such information is known. By default the system will not pass this information. This option allows the user to request this information.</dd><dt><a class=permalink href=#SCTP_AUTO_ASCONF><code class=Dv id=SCTP_AUTO_ASCONF>SCTP_AUTO_ASCONF</code></a></dt><dd>By default when bound to all address and the system administrator has enables automatic dynamic addresses, the SCTP stack will automatically generate address changes into add and delete requests to any peers by setting this option to true. This option allows an endpoint to disable that behavior.</dd><dt><a class=permalink href=#SCTP_MAXBURST><code class=Dv id=SCTP_MAXBURST>SCTP_MAXBURST</code></a></dt><dd>By default SCTP implements micro-burst control so that as the congestion window opens up no large burst of packets can be generated. The default burst limit is four. This option lets the user change this value.</dd><dt><a class=permalink href=#SCTP_CONTEXT><code class=Dv id=SCTP_CONTEXT>SCTP_CONTEXT</code></a></dt><dd>Many sctp extended calls have a context field. The context field is a 32 bit opaque value that will be returned in send failures. This option lets the caller set the default context value to use when none is provided by the user.</dd><dt><a class=permalink href=#SCTP_EXPLICIT_EOR><code class=Dv id=SCTP_EXPLICIT_EOR>SCTP_EXPLICIT_EOR</code></a></dt><dd>By default, a single send is a complete message. SCTP generates an implied record boundary. If this option is enabled, then all sends are part of the same message until the user indicates an end of record with the special flag <code class=Dv>SCTP_EOR</code> passed in the sctp_sndrcvinfo flags field. This effectively makes all sends part of the same message until the user specifies differently. This means that a caller must NOT change the stream number until after the <code class=Dv>SCTP_EOR</code> is passed to SCTP else an error will be returned.</dd><dt><a class=permalink href=#SCTP_STATUS><code class=Dv id=SCTP_STATUS>SCTP_STATUS</code></a></dt><dd>This option is a read-only option that returns various status information about the specified association.</dd><dt><a class=permalink href=#SCTP_GET_PEER_ADDR_INFO><code class=Dv id=SCTP_GET_PEER_ADDR_INFO>SCTP_GET_PEER_ADDR_INFO</code></a></dt><dd>This read-only option returns information about a peer address.</dd><dt><a class=permalink href=#SCTP_PEER_AUTH_CHUNKS><code class=Dv id=SCTP_PEER_AUTH_CHUNKS>SCTP_PEER_AUTH_CHUNKS</code></a></dt><dd>This read-only option returns a list of the chunks the peer requires to be authenticated.</dd><dt><a class=permalink href=#SCTP_LOCAL_AUTH_CHUNKS><code class=Dv id=SCTP_LOCAL_AUTH_CHUNKS>SCTP_LOCAL_AUTH_CHUNKS</code></a></dt><dd>This read-only option returns a list of the locally required chunks that must be authenticated.</dd><dt><a class=permalink href=#SCTP_RESET_STREAMS><code class=Dv id=SCTP_RESET_STREAMS>SCTP_RESET_STREAMS</code></a></dt><dd>This socket option is used to cause a stream sequence number or all stream sequence numbers to be reset. Note that the peer SCTP endpoint must also support the stream reset extension as well.</dd></dl></section><section class=Ss><h2 class=Ss id=MIB_Variables><a class=permalink href=#MIB_Variables>MIB Variables</a></h2> The SCTP protocol implements a number of variables in the <var class=Va>net.inet.sctp</var> branch of the <a class=Xr href=sysctl.3.html>sysctl(3)</a> MIB. <dl class=Bl-ohang><dt><b class=Sy>Congestion Control</b></dt><dd><dl class=Bl-tag><dt><var class=Va>default_cc_module</var></dt><dd>Default congestion control module. Default value is 0. The minimum is 0, and the maximum is 3. A value of 0 enables the default congestion control algorithm. A value of 1 enables the High Speed congestion control algorithm. A value of 2 enables the HTCP congestion control algorithm. A value of 3 enables the data center congestion control (DCCC) algorithm.</dd><dt><var class=Va>initial_cwnd</var></dt><dd>Defines the initial congestion window size in MTUs.</dd><dt><var class=Va>cwnd_maxburst</var></dt><dd>Use congestion control instead of 'blind' logic to limit maximum burst when sending. Default value is 1. May be set to 0 or 1.</dd><dt><var class=Va>ecn_enable</var></dt><dd>Enable Explicit Congestion Notification (ECN). Default value is 1. May be set to 0 or 1.</dd><dt><var class=Va>rttvar_steady_step</var></dt><dd>Number of identical bandwidth measurements DCCC takes to try step down the congestion window. Default value is 20. The minimum is 0, and the maximum is 65535.</dd><dt><var class=Va>rttvar_eqret</var></dt><dd>Whether DCCC reduces the congestion window size when round-trip time and bandwidth remain unchanged. Default value is 0. May be set to 0 or 1.</dd><dt><var class=Va>rttvar_bw</var></dt><dd>Shift amount DCCC uses for bandwidth smoothing on round-trip-time calculation. Default value is 4. The minimum is 0, and the maximum is 32.</dd><dt><var class=Va>rttvar_rtt</var></dt><dd>Shift amount DCCC uses for round-trip-time smoothing on round-trip-time calculation. Default value is 5. The minimum is 0, and the maximum is 32.</dd><dt><var class=Va>use_dcccecn</var></dt><dd>Enable ECN when using DCCC. Default value is 1. May be set to 0 or 1.</dd></dl></dd><dt><b class=Sy>Misc</b></dt><dd><dl class=Bl-tag><dt><var class=Va>getcred</var></dt><dd>Get the ucred of a SCTP connection.</dd><dt><var class=Va>assoclist</var></dt><dd>List of active SCTP associations.</dd><dt><var class=Va>stats</var></dt><dd>SCTP statistics (struct sctp_stat).</dd><dt><var class=Va>diag_info_code</var></dt><dd>Diagnostic information error cause code.</dd><dt><var class=Va>blackhole</var></dt><dd>Enable SCTP blackholing. See <a class=Xr href=blackhole.4.html>blackhole(4)</a> for more details.</dd><dt><var class=Va>sendall_limit</var></dt><dd>Maximum message size (in bytes) that can be transmitted with SCTP_SENDALL flags set.</dd><dt><var class=Va>buffer_splitting</var></dt><dd>Enable send/receive buffer splitting.</dd><dt><var class=Va>vtag_time_wait</var></dt><dd>Vtag wait time in seconds, 0 to disable.</dd><dt><var class=Va>nat_friendly_init</var></dt><dd>Enable sending of the NAT-friendly SCTP option on INITs.</dd><dt><var class=Va>enable_sack_immediately</var></dt><dd>Enable sending of the SACK-IMMEDIATELY bit.</dd><dt><var class=Va>udp_tunneling_port</var></dt><dd>Set the SCTP/UDP tunneling port.</dd><dt><var class=Va>mobility_fasthandoff</var></dt><dd>Enable SCTP fast handoff.</dd><dt><var class=Va>mobility_base</var></dt><dd>Enable SCTP base mobility</dd><dt><var class=Va>default_frag_interleave</var></dt><dd>Default fragment interleave level.</dd><dt><var class=Va>default_ss_module</var></dt><dd>Default stream scheduling module.</dd><dt><var class=Va>log_level</var></dt><dd>Ltrace/KTR trace logging level.</dd><dt><var class=Va>max_retran_chunk</var></dt><dd>Number of retransmissions of a DATA chunk before an association is aborted.</dd><dt><var class=Va>min_residual</var></dt><dd>Minimum residual data chunk in second part of split.</dd><dt><var class=Va>strict_data_order</var></dt><dd>Enforce strict data ordering, abort if control inside data.</dd><dt><var class=Va>abort_at_limit</var></dt><dd>Abort when one-to-one hits qlimit.</dd><dt><var class=Va>hb_max_burst</var></dt><dd>Confirmation heartbeat max burst.</dd><dt><var class=Va>do_sctp_drain</var></dt><dd>Flush chunks in receive queues with TSN higher than the cumulative TSN if the system is low on mbufs.</dd><dt><var class=Va>max_chained_mbufs</var></dt><dd>Default max number of small mbufs on a chain.</dd><dt><var class=Va>abc_l_var</var></dt><dd>SCTP ABC max increase per SACK (L).</dd><dt><var class=Va>nat_friendly</var></dt><dd>SCTP NAT friendly operation.</dd><dt><var class=Va>cmt_use_dac</var></dt><dd>CMT DAC on/off flag.</dd><dt><var class=Va>cmt_on_off</var></dt><dd>CMT settings.</dd><dt><var class=Va>outgoing_streams</var></dt><dd>Default number of outgoing streams.</dd><dt><var class=Va>incoming_streams</var></dt><dd>Default number of incoming streams.</dd><dt><var class=Va>add_more_on_output</var></dt><dd>When space-wise is it worthwhile to try to add more to a socket send buffer.</dd><dt><var class=Va>path_pf_threshold</var></dt><dd>Default potentially failed threshold.</dd><dt><var class=Va>path_rtx_max</var></dt><dd>Default maximum of retransmissions per path.</dd><dt><var class=Va>assoc_rtx_max</var></dt><dd>Default maximum number of retransmissions per association.</dd><dt><var class=Va>init_rtx_max</var></dt><dd>Default maximum number of retransmissions for INIT chunks.</dd><dt><var class=Va>valid_cookie_life</var></dt><dd>Default cookie lifetime in seconds.</dd><dt><var class=Va>init_rto_max</var></dt><dd>Default maximum retransmission timeout during association setup in ms.</dd><dt><var class=Va>rto_initial</var></dt><dd>Default initial retransmission timeout in ms.</dd><dt><var class=Va>rto_min</var></dt><dd>Default minimum retransmission timeout in ms.</dd><dt><var class=Va>rto_max</var></dt><dd>Default maximum retransmission timeout in ms.</dd><dt><var class=Va>secret_lifetime</var></dt><dd>Default secret lifetime in seconds.</dd><dt><var class=Va>shutdown_guard_time</var></dt><dd>Shutdown guard timer in seconds (0 means 5 times RTO.Max).</dd><dt><var class=Va>pmtu_raise_time</var></dt><dd>Default PMTU raise timer in seconds.</dd><dt><var class=Va>heartbeat_interval</var></dt><dd>Default heartbeat interval in ms.</dd><dt><var class=Va>asoc_resource</var></dt><dd>Max number of cached resources in an association.</dd><dt><var class=Va>sys_resource</var></dt><dd>Max number of cached resources in the system.</dd><dt><var class=Va>sack_freq</var></dt><dd>Default SACK frequency.</dd><dt><var class=Va>delayed_sack_time</var></dt><dd>Default delayed SACK timer in ms.</dd><dt><var class=Va>chunkscale</var></dt><dd>Tunable for scaling of number of chunks and messages.</dd><dt><var class=Va>min_split_point</var></dt><dd>Minimum size when splitting a chunk.</dd><dt><var class=Va>pcbhashsize</var></dt><dd>Tunable for PCB hash table sizes.</dd><dt><var class=Va>tcbhashsize</var></dt><dd>Tunable for TCB hash table sizes.</dd><dt><var class=Va>maxchunks</var></dt><dd>Default max chunks on queue per association.</dd><dt><var class=Va>fr_maxburst</var></dt><dd>Default max burst for SCTP endpoints when fast retransmitting.</dd><dt><var class=Va>maxburst</var></dt><dd>Default max burst for SCTP endpoints.</dd><dt><var class=Va>peer_chkoh</var></dt><dd>Amount to debit peers rwnd per chunk sent.</dd><dt><var class=Va>strict_sacks</var></dt><dd>Enable SCTP Strict SACK checking.</dd><dt><var class=Va>pktdrop_enable</var></dt><dd>Enable SCTP PKTDROP.</dd><dt><var class=Va>nrsack_enable</var></dt><dd>Enable SCTP NR-SACK.</dd><dt><var class=Va>reconfig_enable</var></dt><dd>Enable SCTP RE-CONFIG.</dd><dt><var class=Va>asconf_enable</var></dt><dd>Enable SCTP ASCONF.</dd><dt><var class=Va>auth_enable</var></dt><dd>Enable SCTP AUTH.</dd><dt><var class=Va>pr_enable</var></dt><dd>Enable PR-SCTP.</dd><dt><var class=Va>auto_asconf</var></dt><dd>Enable SCTP Auto-ASCONF.</dd><dt><var class=Va>recvspace</var></dt><dd>Maximum incoming SCTP buffer size.</dd><dt><var class=Va>sendspace</var></dt><dd>Maximum outgoing SCTP buffer size.</dd></dl></dd></dl></section></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=accept.2.html>accept(2)</a>, <a class=Xr href=bind.2.html>bind(2)</a>, <a class=Xr href=connect.2.html>connect(2)</a>, <a class=Xr href=listen.2.html>listen(2)</a>, <a class=Xr href=sctp_bindx.3.html>sctp_bindx(3)</a>, <a class=Xr href=sctp_connectx.3.html>sctp_connectx(3)</a>, <a class=Xr href=sctp_opt_info.3.html>sctp_opt_info(3)</a>, <a class=Xr href=sctp_recvmsg.3.html>sctp_recvmsg(3)</a>, <a class=Xr href=sctp_sendmsg.3.html>sctp_sendmsg(3)</a>, <a class=Xr href=blackhole.4.html>blackhole(4)</a></section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> The <code class=Nm>sctp</code> kernel module cannot be unloaded. </section></div><table class=foot><tr><td class=foot-date>July 9, 2020</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>