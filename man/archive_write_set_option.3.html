<!DOCTYPE html>
<html><head><meta charset=utf-8><title>archive_write_set_option(3)</title><keywords content=man,archive_write_set_option></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>archive_write_set_option(3)</h1><table class=head><tr><td class=head-ltitle>ARCHIVE_WRITE_OPTIONS(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>ARCHIVE_WRITE_OPTIONS(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>archive_write_set_filter_option</code>, <code class=Nm>archive_write_set_format_option</code>, <code class=Nm>archive_write_set_option</code>, <code class=Nm>archive_write_set_options</code> — <div class=Nd>functions controlling options for writing archives</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2> Streaming Archive Library (libarchive, -larchive) </section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><var class=Ft>int</var><br><code class=Fn>archive_write_set_filter_option</code>(<var class=Fa>struct archive *</var>, <var class=Fa>const char *module</var>, <var class=Fa>const char *option</var>, <var class=Fa>const char *value</var>); <p class=Pp><var class=Ft>int</var><br><code class=Fn>archive_write_set_format_option</code>(<var class=Fa>struct archive *</var>, <var class=Fa>const char *module</var>, <var class=Fa>const char *option</var>, <var class=Fa>const char *value</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>archive_write_set_option</code>(<var class=Fa>struct archive *</var>, <var class=Fa>const char *module</var>, <var class=Fa>const char *option</var>, <var class=Fa>const char *value</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>archive_write_set_options</code>(<var class=Fa>struct archive *</var>, <var class=Fa>const char *options</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> These functions provide a way for libarchive clients to configure specific write modules. <dl class=Bl-tag><dt><code class=Fn>archive_write_set_filter_option</code>(), <code class=Fn>archive_write_set_format_option</code>()</dt><dd>Specifies an option that will be passed to the currently-registered filters (including decompression filters) or format readers. <p class=Pp>If <var class=Ar>option</var> and <var class=Ar>value</var> are both <code class=Dv>NULL</code>, these functions will do nothing and <code class=Cm>ARCHIVE_OK</code> will be returned. If <var class=Ar>option</var> is <code class=Dv>NULL</code> but <var class=Ar>value</var> is not, these functions will do nothing and <code class=Cm>ARCHIVE_FAILED</code> will be returned.</p><p class=Pp>If <var class=Ar>module</var> is not <code class=Dv>NULL</code>, <var class=Ar>option</var> and <var class=Ar>value</var> will be provided to the filter or reader named <var class=Ar>module</var>. The return value will be either <code class=Cm>ARCHIVE_OK</code> if the option was successfully handled or <code class=Cm>ARCHIVE_WARN</code> if the option was unrecognized by the module or could otherwise not be handled. If there is no such module, <code class=Cm>ARCHIVE_FAILED</code> will be returned.</p><p class=Pp>If <var class=Ar>module</var> is <code class=Dv>NULL</code>, <var class=Ar>option</var> and <var class=Ar>value</var> will be provided to every registered module. If any module returns <code class=Cm>ARCHIVE_FATAL</code>, this value will be returned immediately. Otherwise, <code class=Cm>ARCHIVE_OK</code> will be returned if any module accepts the option, and <code class=Cm>ARCHIVE_FAILED</code> in all other cases.</p></dd><dt><code class=Fn>archive_write_set_option</code>()</dt><dd>Calls <code class=Fn>archive_write_set_format_option</code>(), then <code class=Fn>archive_write_set_filter_option</code>(). If either function returns <code class=Cm>ARCHIVE_FATAL</code>, <code class=Cm>ARCHIVE_FATAL</code> will be returned immediately. Otherwise, the greater of the two values will be returned.</dd><dt><code class=Fn>archive_write_set_options</code>()</dt><dd><var class=Ar>options</var> is a comma-separated list of options. If <var class=Ar>options</var> is <code class=Dv>NULL</code> or empty, <code class=Cm>ARCHIVE_OK</code> will be returned immediately. <p class=Pp>Individual options have one of the following forms:</p><dl class="Bl-tag Bl-compact"><dt><var class=Ar>option=value</var></dt><dd>The option/value pair will be provided to every module. Modules that do not accept an option with this name will ignore it.</dd><dt><var class=Ar>option</var></dt><dd>The option will be provided to every module with a value of “1”.</dd><dt><var class=Ar>!option</var></dt><dd>The option will be provided to every module with a NULL value.</dd><dt><var class=Ar>module:option=value</var>, <var class=Ar>module:option</var>, <var class=Ar>module:!option</var></dt><dd>As above, but the corresponding option and value will be provided only to modules whose name matches <var class=Ar>module</var>.</dd></dl></dd></dl></section><section class=Sh><h2 class=Sh id=OPTIONS><a class=permalink href=#OPTIONS>OPTIONS</a></h2><dl class="Bl-tag Bl-compact"><dt>Filter b64encode</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#mode><code class=Cm id=mode>mode</code></a></dt><dd>The value is interpreted as octal digits specifying the file mode.</dd><dt><a class=permalink href=#name><code class=Cm id=name>name</code></a></dt><dd>The value specifies the file name.</dd></dl></dd><dt>Filter bzip2</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression-level><code class=Cm id=compression-level>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the bzip2 compression level. Supported values are from 1 to 9.</dd></dl></dd><dt>Filter gzip</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression-level_2><code class=Cm id=compression-level_2>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the gzip compression level. Supported values are from 0 to 9.</dd><dt><a class=permalink href=#timestamp><code class=Cm id=timestamp>timestamp</code></a></dt><dd>Store timestamp. This is enabled by default.</dd></dl></dd><dt>Filter lrzip</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression><code class=Cm id=compression>compression</code></a>=<var class=Ar>type</var></dt><dd>Use <var class=Ar>type</var> as compression method. Supported values are “bzip2”, “gzipi”, “lzo” (ultra fast), and “zpaq” (best, extremely slow).</dd><dt><a class=permalink href=#compression-level_3><code class=Cm id=compression-level_3>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the lrzip compression level. Supported values are from 1 to 9.</dd></dl></dd><dt>Filter lz4</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression-level_4><code class=Cm id=compression-level_4>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the lz4 compression level. Supported values are from 0 to 9.</dd><dt><a class=permalink href=#stream-checksum><code class=Cm id=stream-checksum>stream-checksum</code></a></dt><dd>Enable stream checksum. This is enabled by default.</dd><dt><a class=permalink href=#block-checksum><code class=Cm id=block-checksum>block-checksum</code></a></dt><dd>Enable block checksum. This is disabled by default.</dd><dt><a class=permalink href=#block-size><code class=Cm id=block-size>block-size</code></a></dt><dd>The value is interpreted as a decimal integer specifying the lz4 compression block size. Supported values are from 4 to 7 (default).</dd><dt><a class=permalink href=#block-dependence><code class=Cm id=block-dependence>block-dependence</code></a></dt><dd>Use the previous block of the block being compressed for a compression dictionary to improve compression ratio. This is disabled by default.</dd></dl></dd><dt>Filter lzop</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression-level_5><code class=Cm id=compression-level_5>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the lzop compression level. Supported values are from 1 to 9.</dd></dl></dd><dt>Filter uuencode</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#mode_2><code class=Cm id=mode_2>mode</code></a></dt><dd>The value is interpreted as octal digits specifying the file mode.</dd><dt><a class=permalink href=#name_2><code class=Cm id=name_2>name</code></a></dt><dd>The value specifies the file name.</dd></dl></dd><dt>Filter xz</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression-level_6><code class=Cm id=compression-level_6>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the compression level. Supported values are from 0 to 9.</dd><dt><a class=permalink href=#threads><code class=Cm id=threads>threads</code></a></dt><dd>The value is interpreted as a decimal integer specifying the number of threads for multi-threaded lzma compression. If supported, the default value is read from <code class=Fn>lzma_cputhreads</code>().</dd></dl></dd><dt>Filter zstd</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression-level_7><code class=Cm id=compression-level_7>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the compression level. Supported values depend on the library version, common values are from 1 to 22.</dd></dl></dd><dt>Format 7zip</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression_2><code class=Cm id=compression_2>compression</code></a></dt><dd>The value is one of “store”, “deflate”, “bzip2”, “lzma1”, “lzma2” or “ppmd” to indicate how the following entries should be compressed. Note that this setting is ignored for directories, symbolic links, and other special entries.</dd><dt><a class=permalink href=#compression-level_8><code class=Cm id=compression-level_8>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the compression level. Values between 0 and 9 are supported. The interpretation of the compression level depends on the chosen compression method.</dd></dl></dd><dt>Format cpio</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#hdrcharset><code class=Cm id=hdrcharset>hdrcharset</code></a></dt><dd>The value is used as a character set name that will be used when translating file names.</dd></dl></dd><dt>Format gnutar</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#hdrcharset_2><code class=Cm id=hdrcharset_2>hdrcharset</code></a></dt><dd>The value is used as a character set name that will be used when translating file, group and user names.</dd></dl></dd><dt>Format iso9660 - volume metadata</dt><dd>These options are used to set standard ISO9660 metadata. <dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#abstract-file><code class=Cm id=abstract-file>abstract-file</code></a>=<var class=Ar>filename</var></dt><dd>The file with the specified name will be identified in the ISO9660 metadata as holding the abstract for this volume. Default: none.</dd><dt><a class=permalink href=#application-id><code class=Cm id=application-id>application-id</code></a>=<var class=Ar>filename</var></dt><dd>The file with the specified name will be identified in the ISO9660 metadata as holding the application identifier for this volume. Default: none.</dd><dt><a class=permalink href=#biblio-file><code class=Cm id=biblio-file>biblio-file</code></a>=<var class=Ar>filename</var></dt><dd>The file with the specified name will be identified in the ISO9660 metadata as holding the bibliography for this volume. Default: none.</dd><dt><a class=permalink href=#copyright-file><code class=Cm id=copyright-file>copyright-file</code></a>=<var class=Ar>filename</var></dt><dd>The file with the specified name will be identified in the ISO9660 metadata as holding the copyright for this volume. Default: none.</dd><dt><a class=permalink href=#publisher><code class=Cm id=publisher>publisher</code></a>=<var class=Ar>filename</var></dt><dd>The file with the specified name will be identified in the ISO9660 metadata as holding the publisher information for this volume. Default: none.</dd><dt><a class=permalink href=#volume-id><code class=Cm id=volume-id>volume-id</code></a>=<var class=Ar>string</var></dt><dd>The specified string will be used as the Volume Identifier in the ISO9660 metadata. It is limited to 32 bytes. Default: none.</dd></dl></dd><dt>Format iso9660 - boot support</dt><dd>These options are used to make an ISO9660 image that can be directly booted on various systems. <dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#boot><code class=Cm id=boot>boot</code></a>=<var class=Ar>filename</var></dt><dd>The file matching this name will be used as the El Torito boot image file.</dd><dt><a class=permalink href=#boot-catalog><code class=Cm id=boot-catalog>boot-catalog</code></a>=<var class=Ar>name</var></dt><dd>The name that will be used for the El Torito boot catalog. Default: <var class=Ar>boot.catalog</var></dd><dt><a class=permalink href=#boot-info-table><code class=Cm id=boot-info-table>boot-info-table</code></a></dt><dd>The boot image file provided by the <code class=Cm>boot</code>=<var class=Ar>filename</var> option will be edited with appropriate boot information in bytes 8 through 64. Default: disabled</dd><dt><a class=permalink href=#boot-load-seg><code class=Cm id=boot-load-seg>boot-load-seg</code></a>=<var class=Ar>hexadecimal-number</var></dt><dd>The load segment for a no-emulation boot image.</dd><dt><a class=permalink href=#boot-load-size><code class=Cm id=boot-load-size>boot-load-size</code></a>=<var class=Ar>decimal-number</var></dt><dd>The number of "virtual" 512-byte sectors to be loaded from a no-emulation boot image. Some very old BIOSes can only load very small images, setting this value to 4 will often allow such BIOSes to load the first part of the boot image (which will then need to be intelligent enough to load the rest of itself). This should not be needed unless you are trying to support systems with very old BIOSes. This defaults to the full size of the image.</dd><dt><a class=permalink href=#boot-type><code class=Cm id=boot-type>boot-type</code></a>=<var class=Ar>value</var></dt><dd>Specifies the boot semantics used by the El Torito boot image: If the <var class=Ar>value</var> is <code class=Cm>fd</code>, then the boot image is assumed to be a bootable floppy image. If the <var class=Ar>value</var> is <code class=Cm>hd</code>, then the boot image is assumed to be a bootable hard disk image. If the <var class=Ar>value</var> is <code class=Cm>no-emulation</code>, the boot image is used without floppy or hard disk emulation. If the boot image is exactly 1.2MB, 1.44MB, or 2.88MB, then the default is <code class=Cm>fd</code>, otherwise the default is <code class=Cm>no-emulation</code>.</dd></dl></dd><dt>Format iso9660 - filename and size extensions</dt><dd>Various extensions to the base ISO9660 format. <dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#allow-ldots><code class=Cm id=allow-ldots>allow-ldots</code></a></dt><dd>If enabled, allows filenames to begin with a leading period. If disabled, filenames that begin with a leading period will have that period replaced by an underscore character in the standard ISO9660 namespace. This does not impact names stored in the Rockridge or Joliet extension area. Default: disabled.</dd><dt><a class=permalink href=#allow-lowercase><code class=Cm id=allow-lowercase>allow-lowercase</code></a></dt><dd>If enabled, allows filenames to contain lowercase characters. If disabled, filenames will be forced to uppercase. This does not impact names stored in the Rockridge or Joliet extension area. Default: disabled.</dd><dt><a class=permalink href=#allow-multidot><code class=Cm id=allow-multidot>allow-multidot</code></a></dt><dd>If enabled, allows filenames to contain multiple period characters, in violation of the ISO9660 specification. If disabled, additional periods will be converted to underscore characters. This does not impact names stored in the Rockridge or Joliet extension area. Default: disabled.</dd><dt><a class=permalink href=#allow-period><code class=Cm id=allow-period>allow-period</code></a></dt><dd>If enabled, allows filenames to contain trailing period characters, in violation of the ISO9660 specification. If disabled, trailing periods will be converted to underscore characters. This does not impact names stored in the Rockridge or Joliet extension area. Default: disabled.</dd><dt><a class=permalink href=#allow-pvd-lowercase><code class=Cm id=allow-pvd-lowercase>allow-pvd-lowercase</code></a></dt><dd>If enabled, the Primary Volume Descriptor may contain lowercase ASCII characters, in violation of the ISO9660 specification. If disabled, characters will be converted to uppercase ASCII. Default: disabled.</dd><dt><a class=permalink href=#allow-sharp-tilde><code class=Cm id=allow-sharp-tilde>allow-sharp-tilde</code></a></dt><dd>If enabled, sharp and tilde characters will be permitted in filenames, in violation if the ISO9660 specification. If disabled, such characters will be converted to underscore characters. Default: disabled.</dd><dt><a class=permalink href=#allow-vernum><code class=Cm id=allow-vernum>allow-vernum</code></a></dt><dd>If enabled, version numbers will be included with files. If disabled, version numbers will be suppressed, in violation of the ISO9660 standard. This does not impact names stored in the Rockridge or Joliet extension area. Default: enabled.</dd><dt><a class=permalink href=#iso-level><code class=Cm id=iso-level>iso-level</code></a></dt><dd>This enables support for file size and file name extensions in the core ISO9660 area. The name extensions specified here do not affect the names stored in the Rockridge or Joliet extension areas. <dl class="Bl-tag Bl-compact"><dt><a class=permalink href="#iso-level=1"><code class=Cm id="iso-level=1">iso-level=1</code></a></dt><dd>The most compliant form of ISO9660 image. Filenames are limited to 8.3 uppercase format, directory names are limited to 8 uppercase characters, files are limited to 4 GiB, the complete ISO9660 image cannot exceed 4 GiB.</dd><dt><a class=permalink href="#iso-level=2"><code class=Cm id="iso-level=2">iso-level=2</code></a></dt><dd>Filenames are limited to 30 uppercase characters with a 30-character extension, directory names are limited to 30 characters, files are limited to 4 GiB.</dd><dt><a class=permalink href="#iso-level=3"><code class=Cm id="iso-level=3">iso-level=3</code></a></dt><dd>As with <code class=Cm>iso-level=2</code>, except that files may exceed 4 GiB.</dd><dt><a class=permalink href="#iso-level=4"><code class=Cm id="iso-level=4">iso-level=4</code></a></dt><dd>As with <code class=Cm>iso-level=3</code>, except that filenames may be up to 193 characters and may include arbitrary 8-bit characters.</dd></dl></dd><dt><a class=permalink href=#joliet><code class=Cm id=joliet>joliet</code></a></dt><dd>Microsoft's Joliet extensions store a completely separate set of directory information about each file. In particular, this information includes Unicode filenames of up to 255 characters. Default: enabled.</dd><dt><a class=permalink href=#limit-depth><code class=Cm id=limit-depth>limit-depth</code></a></dt><dd>If enabled, libarchive will use directory relocation records to ensure that no pathname exceeds the ISO9660 limit of 8 directory levels. If disabled, no relocation will occur. Default: enabled.</dd><dt><a class=permalink href=#limit-dirs><code class=Cm id=limit-dirs>limit-dirs</code></a></dt><dd>If enabled, libarchive will cause an error if there are more than 65536 directories. If disabled, there is no limit on the number of directories. Default: enabled</dd><dt><a class=permalink href=#pad><code class=Cm id=pad>pad</code></a></dt><dd>If enabled, 300 kiB of zero bytes will be appended to the end of the archive. Default: enabled</dd><dt><a class=permalink href=#relaxed-filenames><code class=Cm id=relaxed-filenames>relaxed-filenames</code></a></dt><dd>If enabled, all 7-bit ASCII characters are permitted in filenames (except lowercase characters unless <code class=Cm>allow-lowercase</code> is also specified). This violates ISO9660 standards. This does not impact names stored in the Rockridge or Joliet extension area. Default: disabled.</dd><dt><a class=permalink href=#rockridge><code class=Cm id=rockridge>rockridge</code></a></dt><dd>The Rockridge extensions store an additional set of POSIX-style file information with each file, including mtime, atime, ctime, permissions, and long filenames with arbitrary 8-bit characters. These extensions also support symbolic links and other POSIX file types. Default: enabled.</dd></dl></dd><dt>Format iso9660 - zisofs support</dt><dd>The zisofs extensions permit each file to be independently compressed using a gzip-compatible compression. This can provide significant size savings, but requires the reading system to have support for these extensions. These extensions are disabled by default. <dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression-level_9><code class=Cm id=compression-level_9>compression-level</code></a>=number</dt><dd>The compression level used by the deflate compressor. Ranges from 0 (least effort) to 9 (most effort). Default: 6</dd><dt><a class=permalink href=#zisofs><code class=Cm id=zisofs>zisofs</code></a></dt><dd>Synonym for <code class=Cm>zisofs=direct</code>.</dd><dt><a class=permalink href="#zisofs=direct"><code class=Cm id="zisofs=direct">zisofs=direct</code></a></dt><dd>Compress each file in the archive. Unlike <code class=Cm>zisofs=indirect</code>, this is handled entirely within libarchive and does not require a separate utility. For best results, libarchive tests each file and will store the file uncompressed if the compression does not actually save any space. In particular, files under 2k will never be compressed. Note that boot image files are never compressed.</dd><dt><a class=permalink href="#zisofs=indirect"><code class=Cm id="zisofs=indirect">zisofs=indirect</code></a></dt><dd>Recognizes files that have already been compressed with the <code class=Cm>mkzftree</code> utility and sets up the necessary file metadata so that readers will correctly identify these as zisofs-compressed files.</dd><dt><a class=permalink href=#zisofs-exclude><code class=Cm id=zisofs-exclude>zisofs-exclude</code></a>=<var class=Ar>filename</var></dt><dd>Specifies a filename that should not be compressed when using <code class=Cm>zisofs=direct</code>. This option can be provided multiple times to suppress compression on many files.</dd></dl></dd><dt>Format mtree</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#cksum><code class=Cm id=cksum>cksum</code></a>, <code class=Cm>device</code>, <code class=Cm>flags</code>, <code class=Cm>gid</code>, <code class=Cm>gname</code>, <code class=Cm>indent</code>, <code class=Cm>link</code>, <code class=Cm>md5</code>, <code class=Cm>mode</code>, <code class=Cm>nlink</code>, <code class=Cm>rmd160</code>, <code class=Cm>sha1</code>, <code class=Cm>sha256</code>, <code class=Cm>sha384</code>, <code class=Cm>sha512</code>, <code class=Cm>size</code>, <code class=Cm>time</code>, <code class=Cm>uid</code>, <code class=Cm>uname</code></dt><dd>Enable a particular keyword in the mtree output. Prefix with an exclamation mark to disable the corresponding keyword. The default is equivalent to “device, flags, gid, gname, link, mode, nlink, size, time, type, uid, uname”.</dd><dt><a class=permalink href=#all><code class=Cm id=all>all</code></a></dt><dd>Enables all of the above keywords.</dd><dt><a class=permalink href=#use-set><code class=Cm id=use-set>use-set</code></a></dt><dd>Enables generation of <code class=Cm>/set</code> lines that specify default values for the following files and/or directories.</dd><dt><a class=permalink href=#indent><code class=Cm id=indent>indent</code></a></dt><dd>XXX needs explanation XXX</dd></dl></dd><dt>Format newc</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#hdrcharset_3><code class=Cm id=hdrcharset_3>hdrcharset</code></a></dt><dd>The value is used as a character set name that will be used when translating file names.</dd></dl></dd><dt>Format pax</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#hdrcharset_4><code class=Cm id=hdrcharset_4>hdrcharset</code></a></dt><dd>The value is used as a character set name that will be used when translating file, group and user names. The value is one of “BINARY” or “UTF-8”. With “BINARY” there is no character conversion, with “UTF-8” names are converted to UTF-8.</dd><dt><a class=permalink href=#xattrheader><code class=Cm id=xattrheader>xattrheader</code></a></dt><dd>When storing extended attributes, this option configures which headers should be written. The value is one of “all”, “LIBARCHIVE”, or “SCHILY”. By default, both “LIBARCHIVE.xattr” and “SCHILY.xattr” headers are written.</dd></dl></dd><dt>Format ustar</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#hdrcharset_5><code class=Cm id=hdrcharset_5>hdrcharset</code></a></dt><dd>The value is used as a character set name that will be used when translating file, group and user names.</dd></dl></dd><dt>Format v7tar</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#hdrcharset_6><code class=Cm id=hdrcharset_6>hdrcharset</code></a></dt><dd>The value is used as a character set name that will be used when translating file, group and user names.</dd></dl></dd><dt>Format warc</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#omit-warcinfo><code class=Cm id=omit-warcinfo>omit-warcinfo</code></a></dt><dd>Set to “true” to disable output of the warcinfo record.</dd></dl></dd><dt>Format xar</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#checksum><code class=Cm id=checksum>checksum</code></a>=<var class=Ar>type</var></dt><dd>Use <var class=Ar>type</var> as file checksum method. Supported values are “none”, “md5”, and “sha1” (default).</dd><dt><a class=permalink href=#compression_3><code class=Cm id=compression_3>compression</code></a>=<var class=Ar>type</var></dt><dd>Use <var class=Ar>type</var> as compression method. Supported values are “none”, “bzip2”, “gzip” (default), “lzma” and “xz”.</dd><dt><a class=permalink href=#compression_level><code class=Cm id=compression_level>compression_level</code></a></dt><dd>The value is a decimal integer from 1 to 9 specifying the compression level.</dd><dt><a class=permalink href=#toc-checksum><code class=Cm id=toc-checksum>toc-checksum</code></a>=<var class=Ar>type</var></dt><dd>Use <var class=Ar>type</var> as table of contents checksum method. Supported values are “none”, “md5” and “sha1” (default).</dd></dl></dd><dt>Format zip</dt><dd><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#compression_4><code class=Cm id=compression_4>compression</code></a></dt><dd>The value is either “store” or “deflate” to indicate how the following entries should be compressed. Note that this setting is ignored for directories, symbolic links, and other special entries.</dd><dt><a class=permalink href=#compression-level_10><code class=Cm id=compression-level_10>compression-level</code></a></dt><dd>The value is interpreted as a decimal integer specifying the compression level. Values between 0 and 9 are supported. A compression level of 0 switches the compression method to “store”, other values will enable “deflate” compression with the given level.</dd><dt><a class=permalink href=#encryption><code class=Cm id=encryption>encryption</code></a></dt><dd>Enable encryption using traditional zip encryption.</dd><dt><a class=permalink href=#encryption_2><code class=Cm id=encryption_2>encryption</code></a>=<var class=Ar>type</var></dt><dd>Use <var class=Ar>type</var> as encryption type. Supported values are “zipcrypt” (traditional zip encryption), “aes128” (WinZip AES-128 encryption) and “aes256” (WinZip AES-256 encryption).</dd><dt><a class=permalink href=#experimental><code class=Cm id=experimental>experimental</code></a></dt><dd>This boolean option enables or disables experimental Zip features that may not be compatible with other Zip implementations.</dd><dt><a class=permalink href=#fakecrc32><code class=Cm id=fakecrc32>fakecrc32</code></a></dt><dd>This boolean option disables CRC calculations. All CRC fields are set to zero. It should not be used except for testing purposes.</dd><dt><a class=permalink href=#hdrcharset_7><code class=Cm id=hdrcharset_7>hdrcharset</code></a></dt><dd>The value is used as a character set name that will be used when translating file names.</dd><dt><a class=permalink href=#zip64><code class=Cm id=zip64>zip64</code></a></dt><dd>Zip64 extensions provide additional file size information for entries larger than 4 GiB. They also provide extended file offset and archive size information when archives exceed 4 GiB. By default, the Zip writer selectively enables these extensions only as needed. In particular, if the file size is unknown, the Zip writer will include Zip64 extensions to guard against the possibility that the file might be larger than 4 GiB. <p class=Pp>Setting this boolean option will force the writer to use Zip64 extensions even for small files that would not otherwise require them. This is primarily useful for testing.</p><p class=Pp>Disabling this option with <code class=Cm>!zip64</code> will force the Zip writer to avoid Zip64 extensions: It will reject files with size greater than 4 GiB, it will reject any new entries once the total archive size reaches 4 GiB, and it will not use Zip64 extensions for files with unknown size. In particular, this can improve compatibility when generating archives where the entry sizes are not known in advance.</p></dd></dl></dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> The following example creates an archive write handle to create a gzip-compressed ISO9660 format image. The two options here specify that the ISO9660 archive will use <var class=Ar>kernel.img</var> as the boot image for El Torito booting, and that the gzip compressor should use the maximum compression level. <div class="Bd Pp Bd-indent"><pre>
a = archive_write_new();
archive_write_add_filter_gzip(a);
archive_write_set_format_iso9660(a);
archive_write_set_options(a, "boot=kernel.img,compression=9");
archive_write_open_filename(a, filename, blocksize);
</pre></div></section><section class=Sh><h2 class=Sh id=ERRORS><a class=permalink href=#ERRORS>ERRORS</a></h2> More detailed error codes and textual descriptions are available from the <code class=Fn>archive_errno</code>() and <code class=Fn>archive_error_string</code>() functions. </section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=tar.1.html>tar(1)</a>, <a class=Xr href=archive_read_set_options.3.html>archive_read_set_options(3)</a>, <a class=Xr href=archive_write.3.html>archive_write(3)</a>, <a class=Xr href=libarchive.3.html>libarchive(3)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>libarchive</code> library first appeared in <span class=Ux>FreeBSD 5.3</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The options support for libarchive was originally implemented by <span class=An>Michihiro NAKAJIMA</span>. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2></section></div><table class=foot><tr><td class=foot-date>January 31, 2020</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>