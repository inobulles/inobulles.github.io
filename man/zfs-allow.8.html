<!DOCTYPE html>
<html><head><meta charset=utf-8><title>zfs-allow(8)</title><keywords content=man,zfs-allow></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>zfs-allow(8)</h1><table class=head><tr><td class=head-ltitle>ZFS-ALLOW(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>ZFS-ALLOW(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>zfs-allow</code> — <div class=Nd>delegate ZFS administration permissions to unprivileged users</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>allow</code> [<code class=Fl>-dglu</code>] <var class=Ar>user</var>|<var class=Ar>group</var>[,<var class=Ar>user</var>|<var class=Ar>group</var>]… <var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>allow</code> [<code class=Fl>-dl</code>] <code class=Fl>-e</code>|<b class=Sy>everyone</b><var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>allow</code><code class=Fl>-c</code><var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>allow</code><code class=Fl>-s</code><span class=No>@</span><var class=Ar>setname</var><var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>unallow</code> [<code class=Fl>-dglru</code>] <var class=Ar>user</var>|<var class=Ar>group</var>[,<var class=Ar>user</var>|<var class=Ar>group</var>]… [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>unallow</code> [<code class=Fl>-dlr</code>] <code class=Fl>-e</code>|<b class=Sy>everyone</b> [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>unallow</code> [<code class=Fl>-r</code>] <code class=Fl>-c</code> [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>zfs</code></td><td><code class=Cm>unallow</code> [<code class=Fl>-r</code>] <code class=Fl>-s</code><span class=No>@</span><var class=Ar>setname</var> [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><dl class=Bl-tag><dt><code class=Nm>zfs</code><code class=Cm>allow</code><var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd>Displays permissions that have been delegated on the specified filesystem or volume. See the other forms of <code class=Nm>zfs</code><code class=Cm>allow</code> for more information. <p class=Pp>Delegations are supported under Linux with the exception of <b class=Sy>mount</b>, <b class=Sy>unmount</b>, <b class=Sy>mountpoint</b>, <b class=Sy>canmount</b>, <b class=Sy>rename</b>, and <b class=Sy>share</b>. These permissions cannot be delegated because the Linux <a class=Xr href=mount.8.html>mount(8)</a> command restricts modifications of the global namespace to the root user.</p></dd><dt><code class=Nm>zfs</code><code class=Cm>allow</code> [<code class=Fl>-dglu</code>] <var class=Ar>user</var>|<var class=Ar>group</var>[,<var class=Ar>user</var>|<var class=Ar>group</var>]… <var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd style="width: auto;"> </dd><dt><code class=Nm>zfs</code><code class=Cm>allow</code> [<code class=Fl>-dl</code>] <code class=Fl>-e</code>|<b class=Sy>everyone</b><var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd>Delegates ZFS administration permission for the file systems to non-privileged users. <dl class=Bl-tag><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a></dt><dd>Allow only for the descendent file systems.</dd><dt><a class=permalink href=#e><code class=Fl id=e>-e</code></a>|<b class=Sy>everyone</b></dt><dd>Specifies that the permissions be delegated to everyone.</dd><dt><a class=permalink href=#g><code class=Fl id=g>-g</code></a><var class=Ar>group</var>[,<var class=Ar>group</var>]…</dt><dd>Explicitly specify that permissions are delegated to the group.</dd><dt><a class=permalink href=#l><code class=Fl id=l>-l</code></a></dt><dd>Allow “locally” only for the specified file system.</dd><dt><a class=permalink href=#u><code class=Fl id=u>-u</code></a><var class=Ar>user</var>[,<var class=Ar>user</var>]…</dt><dd>Explicitly specify that permissions are delegated to the user.</dd><dt><var class=Ar>user</var>|<var class=Ar>group</var>[,<var class=Ar>user</var>|<var class=Ar>group</var>]…</dt><dd>Specifies to whom the permissions are delegated. Multiple entities can be specified as a comma-separated list. If neither of the <code class=Fl>-gu</code> options are specified, then the argument is interpreted preferentially as the keyword <b class=Sy>everyone</b>, then as a user name, and lastly as a group name. To specify a user or group named “everyone”, use the <code class=Fl>-g</code> or <code class=Fl>-u</code> options. To specify a group with the same name as a user, use the <code class=Fl>-g</code> options.</dd><dt><var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…</dt><dd>The permissions to delegate. Multiple permissions may be specified as a comma-separated list. Permission names are the same as ZFS subcommand and property names. See the property list below. Property set names, which begin with <b class=Sy>@</b>, may be specified. See the <code class=Fl>-s</code> form below for details.</dd></dl><p class=Pp>If neither of the <code class=Fl>-dl</code> options are specified, or both are, then the permissions are allowed for the file system or volume, and all of its descendents.</p><p class=Pp>Permissions are generally the ability to use a ZFS subcommand or change a ZFS property. The following permissions are available:</p><table class=tbl><tr><td>NAME</td><td>TYPE</td><td>NOTES</td></tr><tr><td>_</td><td>_</td><td>_</td></tr><tr><td>allow</td><td>subcommand</td><td>Must also have the permission that is being allowed</td></tr><tr><td>bookmark</td><td>subcommand</td></tr><tr><td>clone</td><td>subcommand</td><td>Must also have the <b>create</b> ability and <b>mount</b> ability in the origin file system</td></tr><tr><td>create</td><td>subcommand</td><td>Must also have the <b>mount</b> ability. Must also have the <b>refreservation</b> ability to create a non-sparse volume.</td></tr><tr><td>destroy</td><td>subcommand</td><td>Must also have the <b>mount</b> ability</td></tr><tr><td>diff</td><td>subcommand</td><td>Allows lookup of paths within a dataset given an object number, and the ability to create snapshots necessary to <b>zfs diff</b>.</td></tr><tr><td>hold</td><td>subcommand</td><td>Allows adding a user hold to a snapshot</td></tr><tr><td>load-key</td><td>subcommand</td><td>Allows loading and unloading of encryption key (see <b>zfs load-key</b> and <b>zfs unload-key</b>).</td></tr><tr><td>change-key</td><td>subcommand</td><td>Allows changing an encryption key via <b>zfs change-key</b>.</td></tr><tr><td>mount</td><td>subcommand</td><td>Allows mounting/umounting ZFS datasets</td></tr><tr><td>promote</td><td>subcommand</td><td>Must also have the <b>mount</b> and <b>promote</b> ability in the origin file system</td></tr><tr><td>receive</td><td>subcommand</td><td>Must also have the <b>mount</b> and <b>create</b> ability</td></tr><tr><td>release</td><td>subcommand</td><td>Allows releasing a user hold which might destroy the snapshot</td></tr><tr><td>rename</td><td>subcommand</td><td>Must also have the <b>mount</b> and <b>create</b> ability in the new parent</td></tr><tr><td>rollback</td><td>subcommand</td><td>Must also have the <b>mount</b> ability</td></tr><tr><td>send</td><td>subcommand</td></tr><tr><td>share</td><td>subcommand</td><td>Allows sharing file systems over NFS or SMB protocols</td></tr><tr><td>snapshot</td><td>subcommand</td><td>Must also have the <b>mount</b> ability</td></tr><tr></tr><tr><td>groupquota</td><td>other</td><td>Allows accessing any <b>groupquota@</b><i>…</i> property</td></tr><tr><td>groupobjquota</td><td>other</td><td>Allows accessing any <b>groupobjquota@</b><i>…</i> property</td></tr><tr><td>groupused</td><td>other</td><td>Allows reading any <b>groupused@</b><i>…</i> property</td></tr><tr><td>groupobjused</td><td>other</td><td>Allows reading any <b>groupobjused@</b><i>…</i> property</td></tr><tr><td>userprop</td><td>other</td><td>Allows changing any user property</td></tr><tr><td>userquota</td><td>other</td><td>Allows accessing any <b>userquota@</b><i>…</i> property</td></tr><tr><td>userobjquota</td><td>other</td><td>Allows accessing any <b>userobjquota@</b><i>…</i> property</td></tr><tr><td>userused</td><td>other</td><td>Allows reading any <b>userused@</b><i>…</i> property</td></tr><tr><td>userobjused</td><td>other</td><td>Allows reading any <b>userobjused@</b><i>…</i> property</td></tr><tr><td>projectobjquota</td><td>other</td><td>Allows accessing any <b>projectobjquota@</b><i>…</i> property</td></tr><tr><td>projectquota</td><td>other</td><td>Allows accessing any <b>projectquota@</b><i>…</i> property</td></tr><tr><td>projectobjused</td><td>other</td><td>Allows reading any <b>projectobjused@</b><i>…</i> property</td></tr><tr><td>projectused</td><td>other</td><td>Allows reading any <b>projectused@</b><i>…</i> property</td></tr><tr></tr><tr><td>aclinherit</td><td>property</td></tr><tr><td>aclmode</td><td>property</td></tr><tr><td>acltype</td><td>property</td></tr><tr><td>atime</td><td>property</td></tr><tr><td>canmount</td><td>property</td></tr><tr><td>casesensitivity</td><td>property</td></tr><tr><td>checksum</td><td>property</td></tr><tr><td>compression</td><td>property</td></tr><tr><td>context</td><td>property</td></tr><tr><td>copies</td><td>property</td></tr><tr><td>dedup</td><td>property</td></tr><tr><td>defcontext</td><td>property</td></tr><tr><td>devices</td><td>property</td></tr><tr><td>dnodesize</td><td>property</td></tr><tr><td>encryption</td><td>property</td></tr><tr><td>exec</td><td>property</td></tr><tr><td>filesystem_limit</td><td>property</td></tr><tr><td>fscontext</td><td>property</td></tr><tr><td>keyformat</td><td>property</td></tr><tr><td>keylocation</td><td>property</td></tr><tr><td>logbias</td><td>property</td></tr><tr><td>mlslabel</td><td>property</td></tr><tr><td>mountpoint</td><td>property</td></tr><tr><td>nbmand</td><td>property</td></tr><tr><td>normalization</td><td>property</td></tr><tr><td>overlay</td><td>property</td></tr><tr><td>pbkdf2iters</td><td>property</td></tr><tr><td>primarycache</td><td>property</td></tr><tr><td>quota</td><td>property</td></tr><tr><td>readonly</td><td>property</td></tr><tr><td>recordsize</td><td>property</td></tr><tr><td>redundant_metadata</td><td>property</td></tr><tr><td>refquota</td><td>property</td></tr><tr><td>refreservation</td><td>property</td></tr><tr><td>relatime</td><td>property</td></tr><tr><td>reservation</td><td>property</td></tr><tr><td>rootcontext</td><td>property</td></tr><tr><td>secondarycache</td><td>property</td></tr><tr><td>setuid</td><td>property</td></tr><tr><td>sharenfs</td><td>property</td></tr><tr><td>sharesmb</td><td>property</td></tr><tr><td>snapdev</td><td>property</td></tr><tr><td>snapdir</td><td>property</td></tr><tr><td>snapshot_limit</td><td>property</td></tr><tr><td>special_small_blocks</td><td>property</td></tr><tr><td>sync</td><td>property</td></tr><tr><td>utf8only</td><td>property</td></tr><tr><td>version</td><td>property</td></tr><tr><td>volblocksize</td><td>property</td></tr><tr><td>volmode</td><td>property</td></tr><tr><td>volsize</td><td>property</td></tr><tr><td>vscan</td><td>property</td></tr><tr><td>xattr</td><td>property</td></tr><tr><td>zoned</td><td>property</td></tr></table></dd><dt><code class=Nm>zfs</code><code class=Cm>allow</code><code class=Fl>-c</code><var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd>Sets “create time” permissions. These permissions are granted (locally) to the creator of any newly-created descendent file system.</dd><dt><code class=Nm>zfs</code><code class=Cm>allow</code><code class=Fl>-s</code><span class=No>@</span><var class=Ar>setname</var><var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]… <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd>Defines or adds permissions to a permission set. The set can be used by other <code class=Nm>zfs</code><code class=Cm>allow</code> commands for the specified file system and its descendents. Sets are evaluated dynamically, so changes to a set are immediately reflected. Permission sets follow the same naming restrictions as ZFS file systems, but the name must begin with <b class=Sy>@</b>, and can be no more than 64 characters long.</dd><dt><code class=Nm>zfs</code><code class=Cm>unallow</code> [<code class=Fl>-dglru</code>] <var class=Ar>user</var>|<var class=Ar>group</var>[,<var class=Ar>user</var>|<var class=Ar>group</var>]… [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd style="width: auto;"> </dd><dt><code class=Nm>zfs</code><code class=Cm>unallow</code> [<code class=Fl>-dlr</code>] <code class=Fl>-e</code>|<b class=Sy>everyone</b> [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd style="width: auto;"> </dd><dt><code class=Nm>zfs</code><code class=Cm>unallow</code> [<code class=Fl>-r</code>] <code class=Fl>-c</code> [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd>Removes permissions that were granted with the <code class=Nm>zfs</code><code class=Cm>allow</code> command. No permissions are explicitly denied, so other permissions granted are still in effect. For example, if the permission is granted by an ancestor. If no permissions are specified, then all permissions for the specified <var class=Ar>user</var>, <var class=Ar>group</var>, or <b class=Sy>everyone</b> are removed. Specifying <b class=Sy>everyone</b> (or using the <code class=Fl>-e</code> option) only removes the permissions that were granted to everyone, not all permissions for every user and group. See the <code class=Nm>zfs</code><code class=Cm>allow</code> command for a description of the <code class=Fl>-ldugec</code> options. <dl class=Bl-tag><dt><a class=permalink href=#r><code class=Fl id=r>-r</code></a></dt><dd>Recursively remove the permissions from this file system and all descendents.</dd></dl></dd><dt><code class=Nm>zfs</code><code class=Cm>unallow</code> [<code class=Fl>-r</code>] <code class=Fl>-s</code><span class=No>@</span><var class=Ar>setname</var> [<var class=Ar>perm</var>|@<var class=Ar>setname</var>[,<var class=Ar>perm</var>|@<var class=Ar>setname</var>]…] <var class=Ar>filesystem</var>|<var class=Ar>volume</var></dt><dd>Removes permissions from a permission set. If no permissions are specified, then all permissions are removed, thus removing the set entirely.</dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2><section class=Ss><h2 class=Ss>Example 1: <span class=No>Delegating ZFS Administration Permissions on a ZFS Dataset</span></h2> The following example shows how to set permissions so that user <var class=Ar>cindys</var> can create, destroy, mount, and take snapshots on <var class=Ar>tank/cindys</var>. The permissions on <var class=Ar>tank/cindys</var> are also displayed. <div class="Bd Bd-indent"><pre>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <b class=Sy>cindys create
</b>,<b class=Sy>destroy
</b>,<b class=Sy>mount
</b>,<b class=Sy>snapshot
</b> <var class=Ar>tank/cindys
</var>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <var class=Ar>tank/cindys
</var>
---- Permissions on tank/cindys --------------------------------------
Local+Descendent permissions:
        user cindys create,destroy,mount,snapshot
</pre></div><p class=Pp>Because the <var class=Ar>tank/cindys</var> mount point permission is set to 755 by default, user <var class=Ar>cindys</var> will be unable to mount file systems under <var class=Ar>tank/cindys</var>. Add an ACE similar to the following syntax to provide mount point access:</p><div class="Bd Bd-indent"><code class=Li># <code class=Cm>chmod</code><span class=No>A+user:</span><var class=Ar>cindys</var>:add_subdirectory:allow <var class=Ar>/tank/cindys</var></code></div></section><section class=Ss><h2 class=Ss>Example 2: <span class=No>Delegating Create Time Permissions on a ZFS Dataset</span></h2> The following example shows how to grant anyone in the group <var class=Ar>staff</var> to create file systems in <var class=Ar>tank/users</var>. This syntax also allows staff members to destroy their own file systems, but not destroy anyone else's file system. The permissions on <var class=Ar>tank/users</var> are also displayed. <div class="Bd Bd-indent"><pre>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <var class=Ar>staff
</var> <b class=Sy>create
</b>,<b class=Sy>mount
</b> <var class=Ar>tank/users
</var>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <code class=Fl>-c
</code> <b class=Sy>destroy
</b> <var class=Ar>tank/users
</var>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <var class=Ar>tank/users
</var>
---- Permissions on tank/users ---------------------------------------
Permission sets:
        destroy
Local+Descendent permissions:
        group staff create,mount
</pre></div></section><section class=Ss><h2 class=Ss>Example 3: <span class=No>Defining and Granting a Permission Set on a ZFS Dataset</span></h2> The following example shows how to define and grant a permission set on the <var class=Ar>tank/users</var> file system. The permissions on <var class=Ar>tank/users</var> are also displayed. <div class="Bd Bd-indent"><pre>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <code class=Fl>-s
</code> <span class=No>@
</span><var class=Ar>pset
</var> <b class=Sy>create
</b>,<b class=Sy>destroy
</b>,<b class=Sy>snapshot
</b>,<b class=Sy>mount
</b> <var class=Ar>tank/users
</var>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow staff
</code> <span class=No>@
</span><var class=Ar>pset tank/users
</var>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <var class=Ar>tank/users
</var>
---- Permissions on tank/users ---------------------------------------
Permission sets:
        @pset create,destroy,mount,snapshot
Local+Descendent permissions:
        group staff @pset
</pre></div></section><section class=Ss><h2 class=Ss>Example 4: <span class=No>Delegating Property Permissions on a ZFS Dataset</span></h2> The following example shows to grant the ability to set quotas and reservations on the <var class=Ar>users/home</var> file system. The permissions on <var class=Ar>users/home</var> are also displayed. <div class="Bd Bd-indent"><pre>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <var class=Ar>cindys
</var> <b class=Sy>quota
</b>,<b class=Sy>reservation
</b> <var class=Ar>users/home
</var>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <var class=Ar>users/home
</var>
---- Permissions on users/home ---------------------------------------
Local+Descendent permissions:
        user cindys quota,reservation
cindys% zfs set quota=10G users/home/marks
cindys% zfs get quota users/home/marks
NAME              PROPERTY  VALUE  SOURCE
users/home/marks  quota     10G    local
</pre></div></section><section class=Ss><h2 class=Ss>Example 5: <span class=No>Removing ZFS Delegated Permissions on a ZFS Dataset</span></h2> The following example shows how to remove the snapshot permission from the <var class=Ar>staff</var> group on the <b class=Sy>tank/users</b> file system. The permissions on <b class=Sy>tank/users</b> are also displayed. <div class="Bd Bd-indent"><pre>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>unallow
</code> <var class=Ar>staff
</var> <b class=Sy>snapshot
</b> <var class=Ar>tank/users
</var>
<span class=No>#
</span> <code class=Nm>zfs
</code> <code class=Cm>allow
</code> <var class=Ar>tank/users
</var>
---- Permissions on tank/users ---------------------------------------
Permission sets:
        @pset create,destroy,mount,snapshot
Local+Descendent permissions:
        group staff @pset
</pre></div></section></section></div><table class=foot><tr><td class=foot-date>March 16, 2022</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>