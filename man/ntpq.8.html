<!DOCTYPE html>
<html><head><meta charset=utf-8><title>ntpq(8)</title><keywords content=man,ntpq></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>ntpq(8)</h1><table class=head><tr><td class=head-ltitle>NTPQ(8)</td><td class=head-vol>FreeBSD System Manager's Manual (user)</td><td class=head-rtitle>NTPQ(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>ntpq</code> — <div class=Nd>standard NTP query program</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>ntpq</code></td><td>[<code class=Fl>-flags</code>] [<code class=Fl>-flag</code> [<var class=Ar>value</var>]] [<code class=Fl>--option-name</code>[[=| ]<var class=Ar>value</var>]] [ host ...]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>ntpq</code> utility program is used to query NTP servers to monitor NTP operations and performance, requesting information about current state and/or changes in that state. The program may be run either in interactive mode or controlled using command line arguments. Requests to read and write arbitrary variables can be assembled, with raw and pretty-printed output options being available. The <code class=Nm>ntpq</code> utility can also obtain and print a list of peers in a common format by sending multiple queries to the server. <p class=Pp>If one or more request options is included on the command line when <code class=Nm>ntpq</code> is executed, each of the requests will be sent to the NTP servers running on each of the hosts given as command line arguments, or on localhost by default. If no request options are given, <code class=Nm>ntpq</code> will attempt to read commands from the standard input and execute these on the NTP server running on the first host given on the command line, again defaulting to localhost when no other host is specified. The <code class=Nm>ntpq</code> utility will prompt for commands if the standard input is a terminal device.</p><p class=Pp><code class=Nm>ntpq</code> uses NTP mode 6 packets to communicate with the NTP server, and hence can be used to query any compatible server on the network which permits it. Note that since NTP is a UDP protocol this communication will be somewhat unreliable, especially over large distances in terms of network topology. The <code class=Nm>ntpq</code> utility makes one attempt to retransmit requests, and will time requests out if the remote host is not heard from within a suitable timeout time.</p><p class=Pp>Note that in contexts where a host name is expected, a <code class=Fl>-4</code> qualifier preceding the host name forces resolution to the IPv4 namespace, while a <code class=Fl>-6</code> qualifier forces resolution to the IPv6 namespace. For examples and usage, see the “NTP Debugging Techniques” page.</p><p class=Pp>Specifying a command line option other than <code class=Fl>-i</code> or <code class=Fl>-n</code> will cause the specified query (queries) to be sent to the indicated host(s) immediately. Otherwise, <code class=Nm>ntpq</code> will attempt to read interactive format commands from the standard input.</p><section class=Ss><h2 class=Ss id=Internal_Commands><a class=permalink href=#Internal_Commands>Internal Commands</a></h2> Interactive format commands consist of a keyword followed by zero to four arguments. Only enough characters of the full keyword to uniquely identify the command need be typed. <p class=Pp>A number of interactive format commands are executed entirely within the <code class=Nm>ntpq</code> utility itself and do not result in NTP requests being sent to a server. These are described following.</p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>? [<var class=Ar>command</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#help><code class=Ic id=help>help</code></a> [<var class=Ar>command</var>]</dt><dd>A ‘<code class=Li>?</code>’ by itself will print a list of all the commands known to <code class=Nm>ntpq</code>. A ‘<code class=Li>?</code>’ followed by a command name will print function and usage information about the command.</dd><dt><a class=permalink href=#addvars><code class=Ic id=addvars>addvars</code></a><var class=Ar>name</var>[=<var class=Ar>value</var>][,...]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#rmvars><code class=Ic id=rmvars>rmvars</code></a><var class=Ar>name</var>[,...]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#clearvars><code class=Ic id=clearvars>clearvars</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#showvars><code class=Ic id=showvars>showvars</code></a></dt><dd>The arguments to this command consist of a list of items of the form <var class=Ar>name</var>[=<var class=Ar>value</var>], where the <span class=No>=</span><var class=Ar>value</var> is ignored, and can be omitted, in requests to the server to read variables. The <code class=Nm>ntpq</code> utility maintains an internal list in which data to be included in messages can be assembled, and displayed or set using the <code class=Ic>readlist</code> and <code class=Ic>writelist</code> commands described below. The <code class=Ic>addvars</code> command allows variables and their optional values to be added to the list. If more than one variable is to be added, the list should be comma-separated and not contain white space. The <code class=Ic>rmvars</code> command can be used to remove individual variables from the list, while the <code class=Ic>clearvars</code> command removes all variables from the list. The <code class=Ic>showvars</code> command displays the current list of optional variables.</dd><dt><a class=permalink href=#authenticate><code class=Ic id=authenticate>authenticate</code></a> [<code class=Cm>yes</code>|<code class=Cm>no</code>]</dt><dd>Normally <code class=Nm>ntpq</code> does not authenticate requests unless they are write requests. The command <code class=Ic>authenticate</code><code class=Cm>yes</code> causes <code class=Nm>ntpq</code> to send authentication with all requests it makes. Authenticated requests causes some servers to handle requests slightly differently. The command <code class=Ic>authenticate</code> causes <code class=Nm>ntpq</code> to display whether or not it is currently authenticating requests.</dd><dt><a class=permalink href=#cooked><code class=Ic id=cooked>cooked</code></a></dt><dd>Causes output from query commands to be "cooked", so that variables which are recognized by <code class=Nm>ntpq</code> will have their values reformatted for human consumption. Variables which <code class=Nm>ntpq</code> could not decode completely are marked with a trailing ‘<code class=Li>?</code>’.</dd><dt><a class=permalink href=#debug><code class=Ic id=debug>debug</code></a> [<code class=Cm>more</code>|<code class=Cm>less</code>|<code class=Cm>off</code>]</dt><dd>With no argument, displays the current debug level. Otherwise, the debugging level is changed as indicated.</dd><dt><a class=permalink href=#delay><code class=Ic id=delay>delay</code></a> [<var class=Ar>milliseconds</var>]</dt><dd>Specify a time interval to be added to timestamps included in requests which require authentication. This is used to enable (unreliable) server reconfiguration over long delay network paths or between machines whose clocks are unsynchronized. Actually the server does not now require timestamps in authenticated requests, so this command may be obsolete. Without any arguments, displays the current delay.</dd><dt><a class=permalink href=#drefid><code class=Ic id=drefid>drefid</code></a> [<code class=Cm>hash</code>|<code class=Cm>ipv4</code>]</dt><dd>Display refids as IPv4 or hash. Without any arguments, displays whether refids are shown as IPv4 addresses or hashes.</dd><dt><a class=permalink href=#exit><code class=Ic id=exit>exit</code></a></dt><dd>Exit <code class=Nm>ntpq</code>.</dd><dt><a class=permalink href=#host><code class=Ic id=host>host</code></a> [<var class=Ar>name</var>]</dt><dd>Set the host to which future queries will be sent. The <var class=Ar>name</var> may be either a host name or a numeric address. Without any arguments, displays the current host.</dd><dt><a class=permalink href=#hostnames><code class=Ic id=hostnames>hostnames</code></a> [<code class=Cm>yes</code>|<code class=Cm>no</code>]</dt><dd>If <code class=Cm>yes</code> is specified, host names are printed in information displays. If <code class=Cm>no</code> is specified, numeric addresses are printed instead. The default is <code class=Cm>yes</code>, unless modified using the command line <code class=Fl>-n</code> switch. Without any arguments, displays whether host names or numeric addresses are shown.</dd><dt><a class=permalink href=#keyid><code class=Ic id=keyid>keyid</code></a> [<var class=Ar>keyid</var>]</dt><dd>This command allows the specification of a key number to be used to authenticate configuration requests. This must correspond to the <code class=Cm>controlkey</code> key number the server has been configured to use for this purpose. Without any arguments, displays the current <var class=Ar>keyid</var>.</dd><dt><a class=permalink href=#keytype><code class=Ic id=keytype>keytype</code></a> [<var class=Ar>digest</var>]</dt><dd>Specify the digest algorithm to use for authenticating requests, with default <code class=Cm>MD5</code>. If <code class=Nm>ntpq</code> was built with OpenSSL support, and OpenSSL is installed, <var class=Ar>digest</var> can be any message digest algorithm supported by OpenSSL. If no argument is given, the current <code class=Ic>keytype</code><var class=Ar>digest</var> algorithm used is displayed.</dd><dt><a class=permalink href=#ntpversion><code class=Ic id=ntpversion>ntpversion</code></a> [<code class=Cm>1</code>|<code class=Cm>2</code>|<code class=Cm>3</code>|<code class=Cm>4</code>]</dt><dd>Sets the NTP version number which <code class=Nm>ntpq</code> claims in packets. Defaults to 3, and note that mode 6 control messages (and modes, for that matter) didn't exist in NTP version 1. There appear to be no servers left which demand version 1. With no argument, displays the current NTP version that will be used when communicating with servers.</dd><dt><a class=permalink href=#passwd><code class=Ic id=passwd>passwd</code></a></dt><dd>This command prompts you to type in a password (which will not be echoed) which will be used to authenticate configuration requests. The password must correspond to the key configured for use by the NTP server for this purpose if such requests are to be successful.</dd><dt><a class=permalink href=#poll><code class=Ic id=poll>poll</code></a> [<var class=Ar>n</var>] [<code class=Cm>verbose</code>]</dt><dd>Poll an NTP server in client mode <var class=Ar>n</var> times. Poll not implemented yet.</dd><dt><a class=permalink href=#quit><code class=Ic id=quit>quit</code></a></dt><dd>Exit <code class=Nm>ntpq</code>.</dd><dt><a class=permalink href=#raw><code class=Ic id=raw>raw</code></a></dt><dd>Causes all output from query commands is printed as received from the remote server. The only formating/interpretation done on the data is to transform nonascii data into a printable (but barely understandable) form.</dd><dt><a class=permalink href=#timeout><code class=Ic id=timeout>timeout</code></a> [<var class=Ar>milliseconds</var>]</dt><dd>Specify a timeout period for responses to server queries. The default is about 5000 milliseconds. Without any arguments, displays the current timeout period. Note that since <code class=Nm>ntpq</code> retries each query once after a timeout, the total waiting time for a timeout will be twice the timeout value set.</dd><dt><a class=permalink href=#version><code class=Ic id=version>version</code></a></dt><dd>Display the version of the <code class=Nm>ntpq</code> program.</dd></dl></div></section><section class=Ss><h2 class=Ss id=Control_Message_Commands><a class=permalink href=#Control_Message_Commands>Control Message Commands</a></h2> Association ids are used to identify system, peer and clock variables. System variables are assigned an association id of zero and system name space, while each association is assigned a nonzero association id and peer namespace. Most control commands send a single message to the server and expect a single response message. The exceptions are the <code class=Ic>peers</code> command, which sends a series of messages, and the <code class=Ic>mreadlist</code> and <code class=Ic>mreadvar</code> commands, which iterate over a range of associations. <div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#apeers><code class=Ic id=apeers>apeers</code></a></dt><dd>Display a list of peers in the form: <div class="Bd Bd-indent"><code class=Li>[tally]remote refid assid st t when pool reach delay offset jitter</code></div> where the output is just like the <code class=Ic>peers</code> command except that the <code class=Cm>refid</code> is displayed in hex format and the association number is also displayed.</dd><dt><a class=permalink href=#associations><code class=Ic id=associations>associations</code></a></dt><dd>Display a list of mobilized associations in the form: <div class="Bd Bd-indent"><code class=Li>ind assid status conf reach auth condition last_event cnt</code></div><table class="Bl-column Bd-indent"><tr><td><b class=Sy>Variable</b></td><td><b class=Sy>Description</b></td></tr><tr><td><a class=permalink href=#ind><code class=Cm id=ind>ind</code></a></td><td>index on this list</td></tr><tr><td><a class=permalink href=#assid><code class=Cm id=assid>assid</code></a></td><td>association id</td></tr><tr><td><a class=permalink href=#status><code class=Cm id=status>status</code></a></td><td>peer status word</td></tr><tr><td><a class=permalink href=#conf><code class=Cm id=conf>conf</code></a></td><td><a class=permalink href=#yes><code class=Cm id=yes>yes</code></a>: <span class=No>persistent,</span><code class=Cm>no</code>: <span class=No>ephemeral</span></td></tr><tr><td><a class=permalink href=#reach><code class=Cm id=reach>reach</code></a></td><td><a class=permalink href=#yes_2><code class=Cm id=yes_2>yes</code></a>: <span class=No>reachable,</span><code class=Cm>no</code>: <span class=No>unreachable</span></td></tr><tr><td><a class=permalink href=#auth><code class=Cm id=auth>auth</code></a></td><td><a class=permalink href=#ok><code class=Cm id=ok>ok</code></a>, <code class=Cm>yes</code>, <code class=Cm>bad</code><span class=No>and</span><code class=Cm>none</code></td></tr><tr><td><a class=permalink href=#condition><code class=Cm id=condition>condition</code></a></td><td>selection status (see the <code class=Cm>select</code><span class=No>field of the peer status word)</span></td></tr><tr><td><a class=permalink href=#last_event><code class=Cm id=last_event>last_event</code></a></td><td>event report (see the <code class=Cm>event</code><span class=No>field of the peer status word)</span></td></tr><tr><td><a class=permalink href=#cnt><code class=Cm id=cnt>cnt</code></a></td><td>event count (see the <code class=Cm>count</code><span class=No>field of the peer status word)</span></td></tr></table></dd><dt><a class=permalink href=#authinfo><code class=Ic id=authinfo>authinfo</code></a></dt><dd>Display the authentication statistics counters: time since reset, stored keys, free keys, key lookups, keys not found, uncached keys, expired keys, encryptions, decryptions.</dd><dt><a class=permalink href=#clocklist><code class=Ic id=clocklist>clocklist</code></a> [<var class=Ar>associd</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#cl><code class=Ic id=cl>cl</code></a> [<var class=Ar>associd</var>]</dt><dd>Display all clock variables in the variable list for those associations supporting a reference clock.</dd><dt><a class=permalink href=#clockvar><code class=Ic id=clockvar>clockvar</code></a> [<var class=Ar>associd</var>] [<var class=Ar>name</var>[=<var class=Ar>value</var>]][,...]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#cv><code class=Ic id=cv>cv</code></a> [<var class=Ar>associd</var>] [<var class=Ar>name</var>[=<var class=Ar>value</var>]][,...]</dt><dd>Display a list of clock variables for those associations supporting a reference clock.</dd><dt><a class=permalink href=#:config><code class=Ic id=:config>:config</code></a><var class=Ar>configuration command line</var></dt><dd>Send the remainder of the command line, including whitespace, to the server as a run-time configuration command in the same format as a line in the configuration file. This command is experimental until further notice and clarification. Authentication is of course required.</dd><dt><a class=permalink href=#config_-from_-file><code class=Ic id=config_-from_-file>config-from-file</code></a><var class=Ar>filename</var></dt><dd>Send each line of <var class=Ar>filename</var> to the server as run-time configuration commands in the same format as lines in the configuration file. This command is experimental until further notice and clarification. Authentication is required.</dd><dt><a class=permalink href=#ifstats><code class=Ic id=ifstats>ifstats</code></a></dt><dd>Display status and statistics counters for each local network interface address: interface number, interface name and address or broadcast, drop, flag, ttl, mc, received, sent, send failed, peers, uptime. Authentication is required.</dd><dt><a class=permalink href=#iostats><code class=Ic id=iostats>iostats</code></a></dt><dd>Display network and reference clock I/O statistics: time since reset, receive buffers, free receive buffers, used receive buffers, low water refills, dropped packets, ignored packets, received packets, packets sent, packet send failures, input wakeups, useful input wakeups.</dd><dt><a class=permalink href=#kerninfo><code class=Ic id=kerninfo>kerninfo</code></a></dt><dd>Display kernel loop and PPS statistics: associd, status, pll offset, pll frequency, maximum error, estimated error, kernel status, pll time constant, precision, frequency tolerance, pps frequency, pps stability, pps jitter, calibration interval, calibration cycles, jitter exceeded, stability exceeded, calibration errors. As with other ntpq output, times are in milliseconds; very small values may be shown as exponentials. The precision value displayed is in milliseconds as well, unlike the precision system variable.</dd><dt><a class=permalink href=#lassociations><code class=Ic id=lassociations>lassociations</code></a></dt><dd>Perform the same function as the associations command, except display mobilized and unmobilized associations, including all clients.</dd><dt><a class=permalink href=#lopeers><code class=Ic id=lopeers>lopeers</code></a> [<code class=Fl>-4</code>|<code class=Fl>-6</code>]</dt><dd>Display a list of all peers and clients showing <code class=Cm>dstadr</code> (associated with the given IP version).</dd><dt><a class=permalink href=#lpassociations><code class=Ic id=lpassociations>lpassociations</code></a></dt><dd>Display the last obtained list of associations, including all clients.</dd><dt><a class=permalink href=#lpeers><code class=Ic id=lpeers>lpeers</code></a> [<code class=Fl>-4</code>|<code class=Fl>-6</code>]</dt><dd>Display a list of all peers and clients (associated with the given IP version).</dd><dt><a class=permalink href=#monstats><code class=Ic id=monstats>monstats</code></a></dt><dd>Display monitor facility status, statistics, and limits: enabled, addresses, peak addresses, maximum addresses, reclaim above count, reclaim older than, kilobytes, maximum kilobytes.</dd><dt><a class=permalink href=#mreadlist><code class=Ic id=mreadlist>mreadlist</code></a><var class=Ar>associdlo</var><var class=Ar>associdhi</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#mrl><code class=Ic id=mrl>mrl</code></a><var class=Ar>associdlo</var><var class=Ar>associdhi</var></dt><dd>Perform the same function as the <code class=Ic>readlist</code> command for a range of association ids.</dd><dt><a class=permalink href=#mreadvar><code class=Ic id=mreadvar>mreadvar</code></a><var class=Ar>associdlo</var><var class=Ar>associdhi</var> [<var class=Ar>name</var>][,...]</dt><dd>This range may be determined from the list displayed by any command showing associations.</dd><dt><a class=permalink href=#mrv><code class=Ic id=mrv>mrv</code></a><var class=Ar>associdlo</var><var class=Ar>associdhi</var> [<var class=Ar>name</var>][,...]</dt><dd>Perform the same function as the <code class=Ic>readvar</code> command for a range of association ids. This range may be determined from the list displayed by any command showing associations.</dd><dt><a class=permalink href=#mrulist><code class=Ic id=mrulist>mrulist</code></a> [<code class=Cm>limited</code> | <code class=Cm>kod</code> | <code class=Cm>mincount</code>=<var class=Ar>count</var> | <code class=Cm>laddr</code>=<var class=Ar>localaddr</var> | <code class=Cm>sort</code>=[-]<var class=Ar>sortorder</var> | <code class=Cm>resany</code>=<var class=Ar>hexmask</var> | <code class=Cm>resall</code>=<var class=Ar>hexmask</var>]</dt><dd>Display traffic counts of the most recently seen source addresses collected and maintained by the monitor facility. With the exception of <code class=Cm>sort</code>=[-]<var class=Ar>sortorder</var>, the options filter the list returned by <a class=Xr href=ntpd.8.html>ntpd(8)</a>. The <code class=Cm>limited</code> and <code class=Cm>kod</code> options return only entries representing client addresses from which the last packet received triggered either discarding or a KoD response. The <code class=Cm>mincount</code>=<var class=Ar>count</var> option filters entries representing less than <var class=Ar>count</var> packets. The <code class=Cm>laddr</code>=<var class=Ar>localaddr</var> option filters entries for packets received on any local address other than <var class=Ar>localaddr</var>. <code class=Cm>resany</code>=<var class=Ar>hexmask</var> and <code class=Cm>resall</code>=<var class=Ar>hexmask</var> filter entries containing none or less than all, respectively, of the bits in <var class=Ar>hexmask</var>, which must begin with <code class=Cm>0x</code>. The <var class=Ar>sortorder</var> defaults to <code class=Cm>lstint</code> and may be <code class=Cm>addr</code>, <code class=Cm>avgint</code>, <code class=Cm>count</code>, <code class=Cm>lstint</code>, or any of those preceded by ‘<code class=Li>-</code>’ to reverse the sort order. The output columns are: <div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Column</dt><dd>Description</dd><dt><a class=permalink href=#lstint><code class=Ic id=lstint>lstint</code></a></dt><dd>Interval in seconds between the receipt of the most recent packet from this address and the completion of the retrieval of the MRU list by <code class=Nm>ntpq</code>.</dd><dt><a class=permalink href=#avgint><code class=Ic id=avgint>avgint</code></a></dt><dd>Average interval in s between packets from this address.</dd><dt><a class=permalink href=#rstr><code class=Ic id=rstr>rstr</code></a></dt><dd>Restriction flags associated with this address. Most are copied unchanged from the matching <code class=Ic>restrict</code> command, however 0x400 (kod) and 0x20 (limited) flags are cleared unless the last packet from this address triggered a rate control response.</dd><dt><a class=permalink href=#r><code class=Ic id=r>r</code></a></dt><dd>Rate control indicator, either a period, <code class=Ic>L</code> or <code class=Ic>K</code> for no rate control response, rate limiting by discarding, or rate limiting with a KoD response, respectively.</dd><dt><a class=permalink href=#m><code class=Ic id=m>m</code></a></dt><dd>Packet mode.</dd><dt><a class=permalink href=#v><code class=Ic id=v>v</code></a></dt><dd>Packet version number.</dd><dt><a class=permalink href=#count><code class=Ic id=count>count</code></a></dt><dd>Packets received from this address.</dd><dt><a class=permalink href=#rport><code class=Ic id=rport>rport</code></a></dt><dd>Source port of last packet from this address.</dd><dt><a class=permalink href=#remote_address><code class=Ic id=remote_address>remote address</code></a></dt><dd>host or DNS name, numeric address, or address followed by claimed DNS name which could not be verified in parentheses.</dd></dl></div></dd><dt><a class=permalink href=#opeers><code class=Ic id=opeers>opeers</code></a> [<code class=Fl>-4</code> | <code class=Fl>-6</code>]</dt><dd>Obtain and print the old-style list of all peers and clients showing <code class=Cm>dstadr</code> (associated with the given IP version), rather than the <code class=Cm>refid</code>.</dd><dt><a class=permalink href=#passociations><code class=Ic id=passociations>passociations</code></a></dt><dd>Perform the same function as the <code class=Ic>associations</code> command, except that it uses previously stored data rather than making a new query.</dd><dt><a class=permalink href=#peers><code class=Ic id=peers>peers</code></a></dt><dd>Display a list of peers in the form: <div class="Bd Bd-indent"><code class=Li>[tally]remote refid st t when pool reach delay offset jitter</code></div><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Variable</dt><dd>Description</dd><dt><a class=permalink href=#_tally_><code class=Cm id=_tally_>[tally]</code></a></dt><dd>single-character code indicating current value of the <code class=Ic>select</code> field of the <a class=Lk href=decode.html#peer>peer status word</a></dd><dt><a class=permalink href=#remote><code class=Cm id=remote>remote</code></a></dt><dd>host name (or IP number) of peer. The value displayed will be truncated to 15 characters unless the <code class=Nm>ntpq</code><code class=Fl>-w</code> option is given, in which case the full value will be displayed on the first line, and if too long, the remaining data will be displayed on the next line.</dd><dt><a class=permalink href=#refid><code class=Cm id=refid>refid</code></a></dt><dd>source IP address or <a class=Lk href=decode.html#kiss>'kiss code</a></dd><dt><a class=permalink href=#st><code class=Cm id=st>st</code></a></dt><dd>stratum: 0 for local reference clocks, 1 for servers with local reference clocks, ..., 16 for unsynchronized server clocks</dd><dt><a class=permalink href=#t><code class=Cm id=t>t</code></a></dt><dd><a class=permalink href=#u><code class=Ic id=u>u</code></a>: unicast or manycast client, <code class=Ic>b</code>: broadcast or multicast client, <code class=Ic>p</code>: pool source, <code class=Ic>l</code>: local (reference clock), <code class=Ic>s</code>: symmetric (peer), <code class=Ic>A</code>: manycast server, <code class=Ic>B</code>: broadcast server, <code class=Ic>M</code>: multicast server</dd><dt><a class=permalink href=#when><code class=Cm id=when>when</code></a></dt><dd>time in seconds, minutes, hours, or days since the last packet was received, or ‘<code class=Li>-</code>’ if a packet has never been received</dd><dt><a class=permalink href=#poll_2><code class=Cm id=poll_2>poll</code></a></dt><dd>poll interval (s)</dd><dt><a class=permalink href=#reach_2><code class=Cm id=reach_2>reach</code></a></dt><dd>reach shift register (octal)</dd><dt><a class=permalink href=#delay_2><code class=Cm id=delay_2>delay</code></a></dt><dd>roundtrip delay</dd><dt><a class=permalink href=#offset><code class=Cm id=offset>offset</code></a></dt><dd>offset of server relative to this host</dd><dt><a class=permalink href=#jitter><code class=Cm id=jitter>jitter</code></a></dt><dd>offset RMS error estimate.</dd></dl></div></dd><dt><a class=permalink href=#pstats><code class=Ic id=pstats>pstats</code></a><var class=Ar>associd</var></dt><dd>Display the statistics for the peer with the given <var class=Ar>associd</var>: associd, status, remote host, local address, time last received, time until next send, reachability change, packets sent, packets received, bad authentication, bogus origin, duplicate, bad dispersion, bad reference time, candidate order.</dd><dt><a class=permalink href=#readlist><code class=Ic id=readlist>readlist</code></a> [<var class=Ar>associd</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#rl><code class=Ic id=rl>rl</code></a> [<var class=Ar>associd</var>]</dt><dd>Display all system or peer variables. If the <var class=Ar>associd</var> is omitted, it is assumed to be zero.</dd><dt><a class=permalink href=#readvar><code class=Ic id=readvar>readvar</code></a> [<var class=Ar>associd</var><var class=Ar>name</var>[=<var class=Ar>value</var>] [, ...]]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#rv><code class=Ic id=rv>rv</code></a> [<var class=Ar>associd</var><var class=Ar>name</var>[=<var class=Ar>value</var>] [, ...]]</dt><dd>Display the specified system or peer variables. If <var class=Ar>associd</var> is zero, the variables are from the <a class=Sx href=#System_Variables>System Variables</a> name space, otherwise they are from the <a class=Sx href=#Peer_Variables>Peer Variables</a> name space. The <var class=Ar>associd</var> is required, as the same name can occur in both spaces. If no <var class=Ar>name</var> is included, all operative variables in the name space are displayed. In this case only, if the <var class=Ar>associd</var> is omitted, it is assumed to be zero. Multiple names are specified with comma separators and without whitespace. Note that time values are represented in milliseconds and frequency values in parts-per-million (PPM). Some NTP timestamps are represented in the format <var class=Ar>YYYY</var><var class=Ar>MM</var><var class=Ar>DD</var><var class=Ar>TTTT</var>, where <var class=Ar>YYYY</var> is the year, <var class=Ar>MM</var> the month of year, <var class=Ar>DD</var> the day of month and <var class=Ar>TTTT</var> the time of day.</dd><dt><a class=permalink href=#reslist><code class=Ic id=reslist>reslist</code></a></dt><dd>Display the access control (restrict) list for <code class=Nm>ntpq</code>. Authentication is required.</dd><dt><a class=permalink href=#saveconfig><code class=Ic id=saveconfig>saveconfig</code></a><var class=Ar>filename</var></dt><dd>Save the current configuration, including any runtime modifications made by <code class=Ic>:config</code> or <code class=Ic>config-from-file</code>, to the NTP server host file <var class=Ar>filename</var>. This command will be rejected by the server unless <a class=Lk href=miscopt.html#saveconfigdir>saveconfigdir</a> appears in the <a class=Xr href=ntpd.8.html>ntpd(8)</a> configuration file. <var class=Ar>filename</var> can use <a class=Xr href=date.1.html>date(1)</a> format specifiers to substitute the current date and time, for example, <div class="Bd Bd-indent"><code class=Ic>saveconfig</code><span class=Pa>ntp-%Y%m%d-%H%M%S.conf</span>.</div> The filename used is stored in system variable <code class=Cm>savedconfig</code>. Authentication is required.</dd><dt><a class=permalink href=#sysinfo><code class=Ic id=sysinfo>sysinfo</code></a></dt><dd>Display system operational summary: associd, status, system peer, system peer mode, leap indicator, stratum, log2 precision, root delay, root dispersion, reference id, reference time, system jitter, clock jitter, clock wander, broadcast delay, symm. auth. delay.</dd><dt><a class=permalink href=#sysstats><code class=Ic id=sysstats>sysstats</code></a></dt><dd>Display system uptime and packet counts maintained in the protocol module: uptime, sysstats reset, packets received, current version, older version, bad length or format, authentication failed, declined, restricted, rate limited, KoD responses, processed for time.</dd><dt><a class=permalink href=#timerstats><code class=Ic id=timerstats>timerstats</code></a></dt><dd>Display interval timer counters: time since reset, timer overruns, calls to transmit.</dd><dt><a class=permalink href=#writelist><code class=Ic id=writelist>writelist</code></a><var class=Ar>associd</var></dt><dd>Set all system or peer variables included in the variable list.</dd><dt><a class=permalink href=#writevar><code class=Ic id=writevar>writevar</code></a><var class=Ar>associd</var><var class=Ar>name</var>=<var class=Ar>value</var> [, ...]</dt><dd>Set the specified variables in the variable list. If the <var class=Ar>associd</var> is zero, the variables are from the <a class=Sx href=#System_Variables>System Variables</a> name space, otherwise they are from the <a class=Sx href=#Peer_Variables>Peer Variables</a> name space. The <var class=Ar>associd</var> is required, as the same name can occur in both spaces. Authentication is required.</dd></dl></div></section><section class=Ss><h2 class=Ss id=Status_Words_and_Kiss_Codes><a class=permalink href=#Status_Words_and_Kiss_Codes>Status Words and Kiss Codes</a></h2> The current state of the operating program is shown in a set of status words maintained by the system. Status information is also available on a per-association basis. These words are displayed by the <code class=Ic>readlist</code> and <code class=Ic>associations</code> commands both in hexadecimal and in decoded short tip strings. The codes, tips and short explanations are documented on the <a class=Lk href=decode.html>Event Messages and Status Words</a> page. The page also includes a list of system and peer messages, the code for the latest of which is included in the status word. <p class=Pp>Information resulting from protocol machine state transitions is displayed using an informal set of ASCII strings called <a class=Lk href=decode.html#kiss>kiss codes</a>. The original purpose was for kiss-o'-death (KoD) packets sent by the server to advise the client of an unusual condition. They are now displayed, when appropriate, in the reference identifier field in various billboards.</p></section><section class=Ss><h2 class=Ss id=System_Variables><a class=permalink href=#System_Variables>System Variables</a></h2> The following system variables appear in the <code class=Ic>readlist</code> billboard. Not all variables are displayed in some configurations. <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Variable</dt><dd>Description</dd><dt><a class=permalink href=#status_2><code class=Cm id=status_2>status</code></a></dt><dd><a class=Lk href=decode.html#sys>system status word</a></dd><dt><a class=permalink href=#version_2><code class=Cm id=version_2>version</code></a></dt><dd>NTP software version and build time</dd><dt><a class=permalink href=#processor><code class=Cm id=processor>processor</code></a></dt><dd>hardware platform and version</dd><dt><a class=permalink href=#system><code class=Cm id=system>system</code></a></dt><dd>operating system and version</dd><dt><a class=permalink href=#leap><code class=Cm id=leap>leap</code></a></dt><dd>leap warning indicator (0-3)</dd><dt><a class=permalink href=#stratum><code class=Cm id=stratum>stratum</code></a></dt><dd>stratum (1-15)</dd><dt><a class=permalink href=#precision><code class=Cm id=precision>precision</code></a></dt><dd>precision (log2 s)</dd><dt><a class=permalink href=#rootdelay><code class=Cm id=rootdelay>rootdelay</code></a></dt><dd>total roundtrip delay to the primary reference clock</dd><dt><a class=permalink href=#rootdisp><code class=Cm id=rootdisp>rootdisp</code></a></dt><dd>total dispersion to the primary reference clock</dd><dt><a class=permalink href=#refid_2><code class=Cm id=refid_2>refid</code></a></dt><dd>reference id or <a class=Lk href=decode.html#kiss>kiss code</a></dd><dt><a class=permalink href=#reftime><code class=Cm id=reftime>reftime</code></a></dt><dd>reference time</dd><dt><a class=permalink href=#clock><code class=Ic id=clock>clock</code></a></dt><dd>date and time of day</dd><dt><a class=permalink href=#peer><code class=Cm id=peer>peer</code></a></dt><dd>system peer association id</dd><dt><a class=permalink href=#tc><code class=Cm id=tc>tc</code></a></dt><dd>time constant and poll exponent (log2 s) (3-17)</dd><dt><a class=permalink href=#mintc><code class=Cm id=mintc>mintc</code></a></dt><dd>minimum time constant (log2 s) (3-10)</dd><dt><a class=permalink href=#offset_2><code class=Cm id=offset_2>offset</code></a></dt><dd>combined offset of server relative to this host</dd><dt><a class=permalink href=#frequency><code class=Cm id=frequency>frequency</code></a></dt><dd>frequency drift (PPM) relative to hardware clock</dd><dt><a class=permalink href=#sys_jitter><code class=Cm id=sys_jitter>sys_jitter</code></a></dt><dd>combined system jitter</dd><dt><a class=permalink href=#clk_wander><code class=Cm id=clk_wander>clk_wander</code></a></dt><dd>clock frequency wander (PPM)</dd><dt><a class=permalink href=#clk_jitter><code class=Cm id=clk_jitter>clk_jitter</code></a></dt><dd>clock jitter</dd><dt><a class=permalink href=#tai><code class=Cm id=tai>tai</code></a></dt><dd>TAI-UTC offset (s)</dd><dt><a class=permalink href=#leapsec><code class=Cm id=leapsec>leapsec</code></a></dt><dd>NTP seconds when the next leap second is/was inserted</dd><dt><a class=permalink href=#expire><code class=Cm id=expire>expire</code></a></dt><dd>NTP seconds when the NIST leapseconds file expires</dd></dl></div> The jitter and wander statistics are exponentially-weighted RMS averages. The system jitter is defined in the NTPv4 specification; the clock jitter statistic is computed by the clock discipline module. <p class=Pp>When the NTPv4 daemon is compiled with the OpenSSL software library, additional system variables are displayed, including some or all of the following, depending on the particular Autokey dance:</p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Variable</dt><dd>Description</dd><dt><a class=permalink href=#host_2><code class=Cm id=host_2>host</code></a></dt><dd>Autokey host name for this host</dd><dt><a class=permalink href=#ident><code class=Cm id=ident>ident</code></a></dt><dd>Autokey group name for this host</dd><dt><a class=permalink href=#flags><code class=Cm id=flags>flags</code></a></dt><dd>host flags (see Autokey specification)</dd><dt><a class=permalink href=#digest><code class=Cm id=digest>digest</code></a></dt><dd>OpenSSL message digest algorithm</dd><dt><a class=permalink href=#signature><code class=Cm id=signature>signature</code></a></dt><dd>OpenSSL digest/signature scheme</dd><dt><a class=permalink href=#update><code class=Cm id=update>update</code></a></dt><dd>NTP seconds at last signature update</dd><dt><a class=permalink href=#cert><code class=Cm id=cert>cert</code></a></dt><dd>certificate subject, issuer and certificate flags</dd><dt><a class=permalink href=#until><code class=Cm id=until>until</code></a></dt><dd>NTP seconds when the certificate expires</dd></dl></div></section><section class=Ss><h2 class=Ss id=Peer_Variables><a class=permalink href=#Peer_Variables>Peer Variables</a></h2> The following peer variables appear in the <code class=Ic>readlist</code> billboard for each association. Not all variables are displayed in some configurations. <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Variable</dt><dd>Description</dd><dt><a class=permalink href=#associd><code class=Cm id=associd>associd</code></a></dt><dd>association id</dd><dt><a class=permalink href=#status_3><code class=Cm id=status_3>status</code></a></dt><dd><a class=Lk href=decode.html#peer>peer status word</a></dd><dt><a class=permalink href=#srcadr><code class=Cm id=srcadr>srcadr</code></a></dt><dd>source (remote) IP address</dd><dt><a class=permalink href=#srcport><code class=Cm id=srcport>srcport</code></a></dt><dd>source (remote) port</dd><dt><a class=permalink href=#dstadr><code class=Cm id=dstadr>dstadr</code></a></dt><dd>destination (local) IP address</dd><dt><a class=permalink href=#dstport><code class=Cm id=dstport>dstport</code></a></dt><dd>destination (local) port</dd><dt><a class=permalink href=#leap_2><code class=Cm id=leap_2>leap</code></a></dt><dd>leap indicator (0-3)</dd><dt><a class=permalink href=#stratum_2><code class=Cm id=stratum_2>stratum</code></a></dt><dd>stratum (0-15)</dd><dt><a class=permalink href=#precision_2><code class=Cm id=precision_2>precision</code></a></dt><dd>precision (log2 s)</dd><dt><a class=permalink href=#rootdelay_2><code class=Cm id=rootdelay_2>rootdelay</code></a></dt><dd>total roundtrip delay to the primary reference clock</dd><dt><a class=permalink href=#rootdisp_2><code class=Cm id=rootdisp_2>rootdisp</code></a></dt><dd>total root dispersion to the primary reference clock</dd><dt><a class=permalink href=#refid_3><code class=Cm id=refid_3>refid</code></a></dt><dd>reference id or <a class=Lk href=decode.html#kiss>kiss code</a></dd><dt><a class=permalink href=#reftime_2><code class=Cm id=reftime_2>reftime</code></a></dt><dd>reference time</dd><dt><a class=permalink href=#rec><code class=Cm id=rec>rec</code></a></dt><dd>last packet received time</dd><dt><a class=permalink href=#reach_3><code class=Cm id=reach_3>reach</code></a></dt><dd>reach register (octal)</dd><dt><a class=permalink href=#unreach><code class=Cm id=unreach>unreach</code></a></dt><dd>unreach counter</dd><dt><a class=permalink href=#hmode><code class=Cm id=hmode>hmode</code></a></dt><dd>host mode (1-6)</dd><dt><a class=permalink href=#pmode><code class=Cm id=pmode>pmode</code></a></dt><dd>peer mode (1-5)</dd><dt><a class=permalink href=#hpoll><code class=Cm id=hpoll>hpoll</code></a></dt><dd>host poll exponent (log2 s) (3-17)</dd><dt><a class=permalink href=#ppoll><code class=Cm id=ppoll>ppoll</code></a></dt><dd>peer poll exponent (log2 s) (3-17)</dd><dt><a class=permalink href=#headway><code class=Cm id=headway>headway</code></a></dt><dd>headway (see <a class=Lk href=rate.html>Rate Management and the Kiss-o'-Death Packet</a>)</dd><dt><a class=permalink href=#flash><code class=Cm id=flash>flash</code></a></dt><dd><a class=Lk href=decode.html#flash>flash status word</a></dd><dt><a class=permalink href=#keyid_2><code class=Cm id=keyid_2>keyid</code></a></dt><dd>symmetric key id</dd><dt><a class=permalink href=#offset_3><code class=Cm id=offset_3>offset</code></a></dt><dd>filter offset</dd><dt><a class=permalink href=#delay_3><code class=Cm id=delay_3>delay</code></a></dt><dd>filter delay</dd><dt><a class=permalink href=#dispersion><code class=Cm id=dispersion>dispersion</code></a></dt><dd>filter dispersion</dd><dt><a class=permalink href=#jitter_2><code class=Cm id=jitter_2>jitter</code></a></dt><dd>filter jitter</dd><dt><a class=permalink href=#bias><code class=Cm id=bias>bias</code></a></dt><dd>unicast/broadcast bias</dd><dt><a class=permalink href=#xleave><code class=Cm id=xleave>xleave</code></a></dt><dd>interleave delay (see <a class=Lk href=xleave.html>NTP Interleaved Modes</a>)</dd></dl></div> The <code class=Cm>bias</code> variable is calculated when the first broadcast packet is received after the calibration volley. It represents the offset of the broadcast subgraph relative to the unicast subgraph. The <code class=Cm>xleave</code> variable appears only for the interleaved symmetric and interleaved modes. It represents the internal queuing, buffering and transmission delays for the preceding packet. <p class=Pp>When the NTPv4 daemon is compiled with the OpenSSL software library, additional peer variables are displayed, including the following:</p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Variable</dt><dd>Description</dd><dt><a class=permalink href=#flags_2><code class=Cm id=flags_2>flags</code></a></dt><dd>peer flags (see Autokey specification)</dd><dt><a class=permalink href=#host_3><code class=Cm id=host_3>host</code></a></dt><dd>Autokey server name</dd><dt><a class=permalink href=#flags_3><code class=Cm id=flags_3>flags</code></a></dt><dd>peer flags (see Autokey specification)</dd><dt><a class=permalink href=#signature_2><code class=Cm id=signature_2>signature</code></a></dt><dd>OpenSSL digest/signature scheme</dd><dt><a class=permalink href=#initsequence><code class=Cm id=initsequence>initsequence</code></a></dt><dd>initial key id</dd><dt><a class=permalink href=#initkey><code class=Cm id=initkey>initkey</code></a></dt><dd>initial key index</dd><dt><a class=permalink href=#timestamp><code class=Cm id=timestamp>timestamp</code></a></dt><dd>Autokey signature timestamp</dd><dt><a class=permalink href=#ident_2><code class=Cm id=ident_2>ident</code></a></dt><dd>Autokey group name for this association</dd></dl></div></section><section class=Ss><h2 class=Ss id=Clock_Variables><a class=permalink href=#Clock_Variables>Clock Variables</a></h2> The following clock variables appear in the <code class=Ic>clocklist</code> billboard for each association with a reference clock. Not all variables are displayed in some configurations. <div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Variable</dt><dd>Description</dd><dt><a class=permalink href=#associd_2><code class=Cm id=associd_2>associd</code></a></dt><dd>association id</dd><dt><a class=permalink href=#status_4><code class=Cm id=status_4>status</code></a></dt><dd><a class=Lk href=decode.html#clock>clock status word</a></dd><dt><a class=permalink href=#device><code class=Cm id=device>device</code></a></dt><dd>device description</dd><dt><a class=permalink href=#timecode><code class=Cm id=timecode>timecode</code></a></dt><dd>ASCII time code string (specific to device)</dd><dt><a class=permalink href=#poll_3><code class=Cm id=poll_3>poll</code></a></dt><dd>poll messages sent</dd><dt><a class=permalink href=#noreply><code class=Cm id=noreply>noreply</code></a></dt><dd>no reply</dd><dt><a class=permalink href=#badformat><code class=Cm id=badformat>badformat</code></a></dt><dd>bad format</dd><dt><a class=permalink href=#baddata><code class=Cm id=baddata>baddata</code></a></dt><dd>bad date or time</dd><dt><a class=permalink href=#fudgetime1><code class=Cm id=fudgetime1>fudgetime1</code></a></dt><dd>fudge time 1</dd><dt><a class=permalink href=#fudgetime2><code class=Cm id=fudgetime2>fudgetime2</code></a></dt><dd>fudge time 2</dd><dt><a class=permalink href=#stratum_3><code class=Cm id=stratum_3>stratum</code></a></dt><dd>driver stratum</dd><dt><a class=permalink href=#refid_4><code class=Cm id=refid_4>refid</code></a></dt><dd>driver reference id</dd><dt><a class=permalink href=#flags_4><code class=Cm id=flags_4>flags</code></a></dt><dd>driver flags</dd></dl></div></section></section><section class=Sh><h2 class=Sh id=OPTIONS><a class=permalink href=#OPTIONS>OPTIONS</a></h2><dl class=Bl-tag><dt><a class=permalink href=#4><code class=Fl id=4>-4</code></a>, <code class=Fl>--ipv4</code></dt><dd>Force IPv4 name resolution. This option must not appear in combination with any of the following options: ipv6. <p class=Pp>Force resolution of following host names on the command line to the IPv4 namespace.</p></dd><dt><a class=permalink href=#6><code class=Fl id=6>-6</code></a>, <code class=Fl>--ipv6</code></dt><dd>Force IPv6 name resolution. This option must not appear in combination with any of the following options: ipv4. <p class=Pp>Force resolution of following host names on the command line to the IPv6 namespace.</p></dd><dt><a class=permalink href=#c><code class=Fl id=c>-c</code></a><var class=Ar>cmd</var>, <code class=Fl>--command</code>=<var class=Ar>cmd</var></dt><dd>run a command and exit. This option may appear an unlimited number of times. <p class=Pp>The following argument is interpreted as an interactive format command and is added to the list of commands to be executed on the specified host(s).</p></dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a>, <code class=Fl>--debug-level</code></dt><dd>Increase debug verbosity level. This option may appear an unlimited number of times. <p class=Pp></p></dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a><var class=Ar>number</var>, <code class=Fl>--set-debug-level</code>=<var class=Ar>number</var></dt><dd>Set the debug verbosity level. This option may appear an unlimited number of times. This option takes an integer number as its argument. <p class=Pp></p></dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a>, <code class=Fl>--interactive</code></dt><dd>Force ntpq to operate in interactive mode. This option must not appear in combination with any of the following options: command, peers. <p class=Pp>Force <b>ntpq</b> to operate in interactive mode. Prompts will be written to the standard output and commands read from the standard input.</p></dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a>, <code class=Fl>--numeric</code></dt><dd>numeric host addresses. <p class=Pp>Output all host addresses in dotted-quad numeric format rather than converting to the canonical host names.</p></dd><dt><a class=permalink href=#_-old_-rv><code class=Fl id=_-old_-rv>--old-rv</code></a></dt><dd>Always output status line with readvar. <p class=Pp>By default, <b>ntpq</b> now suppresses the <b>associd=...</b> line that precedes the output of <b>readvar</b> (alias <b>rv</b>) when a single variable is requested, such as <b>ntpq -c "rv 0 offset"</b>. This option causes <b>ntpq</b> to include both lines of output for a single-variable <b>readvar</b>. Using an environment variable to preset this option in a script will enable both older and newer <b>ntpq</b> to behave identically in this regard.</p></dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a>, <code class=Fl>--peers</code></dt><dd>Print a list of the peers. This option must not appear in combination with any of the following options: interactive. <p class=Pp>Print a list of the peers known to the server as well as a summary of their state. This is equivalent to the 'peers' interactive command.</p></dd><dt><a class=permalink href=#r_2><code class=Fl id=r_2>-r</code></a><var class=Ar>keyword</var>, <code class=Fl>--refid</code>=<var class=Ar>keyword</var></dt><dd>Set default display type for S2+ refids. This option takes a keyword as its argument. The argument sets an enumeration value that can be tested by comparing them against the option value macro. The available keywords are: <pre>
hash ipv4
    </pre> or their numeric equivalent. <p class=Pp>The default <var class=Ar>keyword</var> for this option is: <br> ipv4</p><p class=Pp>Set the default display format for S2+ refids.</p></dd><dt><a class=permalink href=#w><code class=Fl id=w>-w</code></a>, <code class=Fl>--wide</code></dt><dd>Display the full 'remote' value. <p class=Pp>Display the full value of the 'remote' value. If this requires more than 15 characters, display the full value, emit a newline, and continue the data display properly indented on the next line.</p></dd><dt><a class=permalink href=#?><code class=Fl id=?>-?</code></a>, <code class=Fl>--help</code></dt><dd>Display usage information and exit.</dd><dt><a class=permalink href=#!><code class=Fl id=!>-!</code></a>, <code class=Fl>--more-help</code></dt><dd>Pass the extended usage information through a pager.</dd><dt><a class=permalink href=#_><code class=Fl id=_>-&gt;</code></a> [<var class=Ar>cfgfile</var>], <code class=Fl>--save-opts</code> [=<var class=Ar>cfgfile</var>]</dt><dd>Save the option state to <i>cfgfile</i>. The default is the <i>last</i> configuration file listed in the <b>OPTION PRESETS</b> section, below. The command will exit after updating the config file.</dd><dt><a class=permalink href=#__2><code class=Fl id=__2>-&lt;</code></a><var class=Ar>cfgfile</var>, <code class=Fl>--load-opts</code>=<var class=Ar>cfgfile</var>, <code class=Fl>--no-load-opts</code></dt><dd>Load options from <i>cfgfile</i>. The <i>no-load-opts</i> form will disable the loading of earlier config/rc/ini files. <i>--no-load-opts</i> is handled early, out of order.</dd><dt><a class=permalink href=#_-version><code class=Fl id=_-version>--version</code></a> [{<var class=Ar>v|c|n</var>}]</dt><dd>Output version of program and exit. The default mode is `v', a simple version. The `c' mode will print copyright information and `n' will print the full copyright notice.</dd></dl></section><section class=Sh><h2 class=Sh id=OPTION_PRESETS><a class=permalink href=#OPTION_PRESETS>OPTION PRESETS</a></h2> Any option that is not marked as <i>not presettable</i> may be preset by loading values from configuration ("RC" or ".INI") file(s) and values from environment variables named: <pre>
  <b>NTPQ_&lt;option-name&gt;</b> or <b>NTPQ</b>
</pre> The environmental presets take precedence (are processed later than) the configuration files. The <i>homerc</i> files are "<i>$HOME</i>", and "<i>.</i>". If any of these are directories, then the file <i>.ntprc</i> is searched for within those directories. </section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2> See <b>OPTION PRESETS</b> for configuration environment variables. </section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2> See <b>OPTION PRESETS</b> for configuration files. </section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2> One of the following exit values will be returned: <dl class=Bl-tag><dt>0 (EXIT_SUCCESS)</dt><dd>Successful program execution.</dd><dt>1 (EXIT_FAILURE)</dt><dd>The operation failed or the command syntax was not valid.</dd><dt>66 (EX_NOINPUT)</dt><dd>A specified configuration file could not be loaded.</dd><dt>70 (EX_SOFTWARE)</dt><dd>libopts had an internal operational error. Please report it to autogen-users@lists.sourceforge.net. Thank you.</dd></dl></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The University of Delaware and Network Time Foundation </section><section class=Sh><h2 class=Sh id=COPYRIGHT><a class=permalink href=#COPYRIGHT>COPYRIGHT</a></h2> Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation all rights reserved. This program is released under the terms of the NTP license, &lt;http://ntp.org/license&gt;. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> Please send bug reports to: http://bugs.ntp.org, bugs@ntp.org </section><section class=Sh><h2 class=Sh id=NOTES><a class=permalink href=#NOTES>NOTES</a></h2> This manual page was <i>AutoGen</i>-erated from the <b>ntpq</b> option definitions. </section></div><table class=foot><tr><td class=foot-date>August 14 2018</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>