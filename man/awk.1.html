<!DOCTYPE html>
<html><head><meta charset=utf-8><title>awk(1)</title><keywords content=man,awk></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>awk(1)</h1><table class=head><tr><td class=head-ltitle>AWK(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>AWK(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>awk</code> — <div class=Nd>pattern-directed scanning and processing language</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>awk</code></td><td>[<code class=Fl>-safe</code>] [<code class=Fl>-version</code>] [<code class=Fl>-d</code>[<var class=Ar>n</var>]] [<code class=Fl>-F</code><var class=Ar>fs</var>] [<code class=Fl>-v</code><var class=Ar>var</var>=<var class=Ar>value</var>] [<var class=Ar>prog</var> | <code class=Fl>-f</code><var class=Ar>progfile</var>] <var class=Ar>file ...</var></td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><code class=Nm>awk</code> scans each input <var class=Ar>file</var> for lines that match any of a set of patterns specified literally in <var class=Ar>prog</var> or in one or more files specified as <code class=Fl>-f</code><var class=Ar>progfile</var>. With each pattern there can be an associated action that will be performed when a line of a <var class=Ar>file</var> matches the pattern. Each line is matched against the pattern portion of every pattern-action statement; the associated action is performed for each matched pattern. The file name ‘-’ means the standard input. Any <var class=Ar>file</var> of the form <var class=Ar>var</var>=<var class=Ar>value</var> is treated as an assignment, not a filename, and is executed at the time it would have been opened if it were a filename. <p class=Pp>The options are as follows:</p><dl class=Bl-tag><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a>[<var class=Ar>n</var>]</dt><dd>Debug mode. Set debug level to <var class=Ar>n</var>, or 1 if <var class=Ar>n</var> is not specified. A value greater than 1 causes <code class=Nm>awk</code> to dump core on fatal errors.</dd><dt><a class=permalink href=#F><code class=Fl id=F>-F</code></a><var class=Ar>fs</var></dt><dd>Define the input field separator to be the regular expression <var class=Ar>fs</var>.</dd><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a><var class=Ar>progfile</var></dt><dd>Read program code from the specified file <var class=Ar>progfile</var> instead of from the command line.</dd><dt><a class=permalink href=#safe><code class=Fl id=safe>-safe</code></a></dt><dd>Disable file output (<code class=Ic>print</code><span class=No>&gt;</span>, <code class=Ic>print</code><span class=No>&gt;&gt;</span>), process creation (<var class=Ar>cmd</var> | <code class=Ic>getline</code>, <code class=Ic>print</code> |, <code class=Ic>system</code>) and access to the environment (<var class=Va>ENVIRON</var>; see the section on variables below). This is a first (and not very reliable) approximation to a “safe” version of <code class=Nm>awk</code>.</dd><dt><a class=permalink href=#version><code class=Fl id=version>-version</code></a></dt><dd>Print the version number of <code class=Nm>awk</code> to standard output and exit.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a><var class=Ar>var</var>=<var class=Ar>value</var></dt><dd>Assign <var class=Ar>value</var> to variable <var class=Ar>var</var> before <var class=Ar>prog</var> is executed; any number of <code class=Fl>-v</code> options may be present.</dd></dl><p class=Pp>The input is normally made up of input lines (records) separated by newlines, or by the value of <var class=Va>RS</var>. If <var class=Va>RS</var> is null, then any number of blank lines are used as the record separator, and newlines are used as field separators (in addition to the value of <var class=Va>FS</var>). This is convenient when working with multi-line records.</p><p class=Pp>An input line is normally made up of fields separated by whitespace, or by the extended regular expression <var class=Va>FS</var> as described below. The fields are denoted <var class=Va>$1</var>, <var class=Va>$2</var>, <var class=Va>...</var>, while <var class=Va>$0</var> refers to the entire line. If <var class=Va>FS</var> is null, the input line is split into one field per character. While both gawk and mawk have the same behavior, it is unspecified in the <span class=St>IEEE Std 1003.1-2008 (“POSIX.1”)</span> standard. If <var class=Va>FS</var> is a single space, then leading and trailing blank and newline characters are skipped. Fields are delimited by one or more blank or newline characters. A blank character is a space or a tab. If <var class=Va>FS</var> is a single character, other than space, fields are delimited by each single occurrence of that character. The <var class=Va>FS</var> variable defaults to a single space.</p><p class=Pp>Normally, any number of blanks separate fields. In order to set the field separator to a single blank, use the <code class=Fl>-F</code> option with a value of ‘[ ]’. If a field separator of ‘t’ is specified, <code class=Nm>awk</code> treats it as if ‘\t’ had been specified and uses ⟨TAB⟩ as the field separator. In order to use a literal ‘t’ as the field separator, use the <code class=Fl>-F</code> option with a value of ‘[t]’.</p><p class=Pp>A pattern-action statement has the form</p><p class=Pp></p><div class="Bd Bd-indent"><var class=Ar>pattern</var><code class=Ic>{</code><var class=Ar>action</var><code class=Ic>}</code></div><p class=Pp>A missing <code class=Ic>{</code><var class=Ar>action</var><code class=Ic>}</code> means print the line; a missing pattern always matches. Pattern-action statements are separated by newlines or semicolons.</p><p class=Pp>Newlines are permitted after a terminating statement or following a comma (‘,’), an open brace (‘{’), a logical AND (‘&amp;&amp;’), a logical OR (‘||’), after the ‘do’ or ‘else’ keywords, or after the closing parenthesis of an ‘if’, ‘for’, or ‘while’ statement. Additionally, a backslash (‘\’) can be used to escape a newline between tokens.</p><p class=Pp>An action is a sequence of statements. A statement can be one of the following:</p><p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#if><code class=Ic id=if>if</code></a> (<var class=Ar>expression</var>) <var class=Ar>statement</var> [<code class=Ic>else</code><var class=Ar>statement</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#while><code class=Ic id=while>while</code></a> (<var class=Ar>expression</var>) <var class=Ar>statement</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#for><code class=Ic id=for>for</code></a> (<var class=Ar>expression</var>; <var class=Ar>expression</var>; <var class=Ar>expression</var>) <var class=Ar>statement</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#for_2><code class=Ic id=for_2>for</code></a> (<var class=Ar>var</var><code class=Ic>in</code><var class=Ar>array</var>) <var class=Ar>statement</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#do><code class=Ic id=do>do</code></a><var class=Ar>statement</var><code class=Ic>while</code> (<var class=Ar>expression</var>)</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#break><code class=Ic id=break>break</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#continue><code class=Ic id=continue>continue</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#_><code class=Ic id=_>{</code></a> [<var class=Ar>statement ...</var>] <code class=Ic>}</code></dt><dd style="width: auto;"> </dd><dt><var class=Ar>expression</var><span class=No># commonly</span><var class=Ar>var</var><span class=No>=</span><var class=Ar>expression</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#print><code class=Ic id=print>print</code></a> [<var class=Ar>expression-list</var>] [&gt;<var class=Ar>expression</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#printf><code class=Ic id=printf>printf</code></a><var class=Ar>format</var> [<var class=Ar>...</var>, <var class=Ar>expression-list</var>] [&gt;<var class=Ar>expression</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#return><code class=Ic id=return>return</code></a> [<var class=Ar>expression</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#next><code class=Ic id=next>next</code></a><span class=No># skip remaining patterns on this input line</span></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#nextfile><code class=Ic id=nextfile>nextfile</code></a><span class=No># skip rest of this file, open next, start at top</span></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#delete><code class=Ic id=delete>delete</code></a><var class=Ar>array</var><code class=Ic>[</code><var class=Ar>expression</var><code class=Ic>]</code><span class=No># delete an array element</span></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#delete_2><code class=Ic id=delete_2>delete</code></a><var class=Ar>array</var><span class=No># delete all elements of array</span></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#exit><code class=Ic id=exit>exit</code></a> [<var class=Ar>expression</var>] <span class=No># exit immediately; status is</span><var class=Ar>expression</var></dt><dd style="width: auto;"> </dd></dl></div><p class=Pp>Statements are terminated by semicolons, newlines or right braces. An empty <var class=Ar>expression-list</var> stands for <var class=Ar>$0</var>. String constants are quoted <code class=Li>""</code>, with the usual C escapes recognized within (see <a class=Xr href=printf.1.html>printf(1)</a> for a complete list of these). Expressions take on string or numeric values as appropriate, and are built using the operators <code class=Ic>+ - * / % ^</code> (exponentiation), and concatenation (indicated by whitespace). The operators <code class=Ic>! ++ -- += -= *= /= %= ^=</code><code class=Ic>&gt; &gt;= &lt; &lt;= == != ?:</code> are also available in expressions. Variables may be scalars, array elements (denoted <code class=Li>x[i]</code>) or fields. Variables are initialized to the null string. Array subscripts may be any string, not necessarily numeric; this allows for a form of associative memory. Multiple subscripts such as <code class=Li>[i,j,k]</code> are permitted; the constituents are concatenated, separated by the value of <var class=Va>SUBSEP</var> (see the section on variables below).</p><p class=Pp>The <code class=Ic>print</code> statement prints its arguments on the standard output (or on a file if &gt;<var class=Ar>file</var> or &gt;&gt;<var class=Ar>file</var> is present or on a pipe if | <var class=Ar>cmd</var> is present), separated by the current output field separator, and terminated by the output record separator. <var class=Ar>file</var> and <var class=Ar>cmd</var> may be literal names or parenthesized expressions; identical string values in different statements denote the same open file. The <code class=Ic>printf</code> statement formats its expression list according to the format (see <a class=Xr href=printf.1.html>printf(1)</a>).</p><p class=Pp>Patterns are arbitrary Boolean combinations (with <code class=Ic>! || &amp;&amp;</code>) of regular expressions and relational expressions. <code class=Nm>awk</code> supports extended regular expressions (EREs). See <a class=Xr href=re_format.7.html>re_format(7)</a> for more information on regular expressions. Isolated regular expressions in a pattern apply to the entire line. Regular expressions may also occur in relational expressions, using the operators <code class=Ic>~</code> and <code class=Ic>!~</code>. /<var class=Ar>re</var>/ is a constant regular expression; any string (constant or variable) may be used as a regular expression, except in the position of an isolated regular expression in a pattern.</p><p class=Pp>A pattern may consist of two patterns separated by a comma; in this case, the action is performed for all lines from an occurrence of the first pattern through an occurrence of the second.</p><p class=Pp>A relational expression is one of the following:</p><p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><var class=Ar>expression matchop regular-expression</var></dt><dd style="width: auto;"> </dd><dt><var class=Ar>expression relop expression</var></dt><dd style="width: auto;"> </dd><dt><var class=Ar>expression</var><code class=Ic>in</code><var class=Ar>array-name</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#(><code class=Ic id=(>(</code></a><var class=Ar>expr</var>, <var class=Ar>expr</var>, <var class=Ar>...</var><code class=Ic>) in</code><var class=Ar>array-name</var></dt><dd style="width: auto;"> </dd></dl></div><p class=Pp>where a <var class=Ar>relop</var> is any of the six relational operators in C, and a <var class=Ar>matchop</var> is either <code class=Ic>~</code> (matches) or <code class=Ic>!~</code> (does not match). A conditional is an arithmetic expression, a relational expression, or a Boolean combination of these.</p><p class=Pp>The special patterns <code class=Ic>BEGIN</code> and <code class=Ic>END</code> may be used to capture control before the first input line is read and after the last. <code class=Ic>BEGIN</code> and <code class=Ic>END</code> do not combine with other patterns.</p><p class=Pp>Variable names with special meanings:</p><p class=Pp></p><dl class="Bl-tag Bl-compact"><dt><var class=Va>ARGC</var></dt><dd>Argument count, assignable.</dd><dt><var class=Va>ARGV</var></dt><dd>Argument array, assignable; non-null members are taken as filenames.</dd><dt><var class=Va>CONVFMT</var></dt><dd>Conversion format when converting numbers (default “<code class=Li>%.6g</code>”).</dd><dt><var class=Va>ENVIRON</var></dt><dd>Array of environment variables; subscripts are names.</dd><dt><var class=Va>FILENAME</var></dt><dd>The name of the current input file.</dd><dt><var class=Va>FNR</var></dt><dd>Ordinal number of the current record in the current file.</dd><dt><var class=Va>FS</var></dt><dd>Regular expression used to separate fields; also settable by option <code class=Fl>-F</code><var class=Ar>fs</var>.</dd><dt><var class=Va>NF</var></dt><dd>Number of fields in the current record. <var class=Va>$NF</var> can be used to obtain the value of the last field in the current record.</dd><dt><var class=Va>NR</var></dt><dd>Ordinal number of the current record.</dd><dt><var class=Va>OFMT</var></dt><dd>Output format for numbers (default “<code class=Li>%.6g</code>”).</dd><dt><var class=Va>OFS</var></dt><dd>Output field separator (default blank).</dd><dt><var class=Va>ORS</var></dt><dd>Output record separator (default newline).</dd><dt><var class=Va>RLENGTH</var></dt><dd>The length of the string matched by the <code class=Fn>match</code>() function.</dd><dt><var class=Va>RS</var></dt><dd>Input record separator (default newline).</dd><dt><var class=Va>RSTART</var></dt><dd>The starting position of the string matched by the <code class=Fn>match</code>() function.</dd><dt><var class=Va>SUBSEP</var></dt><dd>Separates multiple subscripts (default 034).</dd></dl></section><section class=Sh><h2 class=Sh id=FUNCTIONS><a class=permalink href=#FUNCTIONS>FUNCTIONS</a></h2> The awk language has a variety of built-in functions: arithmetic, string, input/output, general, and bit-operation. <p class=Pp>Functions may be defined (at the position of a pattern-action statement) thusly:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>function foo(a, b, c) { ...; return x }</code></div><p class=Pp>Parameters are passed by value if scalar, and by reference if array name; functions may be called recursively. Parameters are local to the function; all other variables are global. Thus local variables may be created by providing excess parameters in the function definition.</p><section class=Ss><h2 class=Ss id=Arithmetic_Functions><a class=permalink href=#Arithmetic_Functions>Arithmetic Functions</a></h2><dl class=Bl-tag><dt><code class=Fn>atan2</code>(<var class=Fa>y</var>, <var class=Fa>x</var>)</dt><dd>Return the arctangent of <var class=Fa>y</var>/<var class=Fa>x</var> in radians.</dd><dt><code class=Fn>cos</code>(<var class=Fa>x</var>)</dt><dd>Return the cosine of <var class=Fa>x</var>, where <var class=Fa>x</var> is in radians.</dd><dt><code class=Fn>exp</code>(<var class=Fa>x</var>)</dt><dd>Return the exponential of <var class=Fa>x</var>.</dd><dt><code class=Fn>int</code>(<var class=Fa>x</var>)</dt><dd>Return <var class=Fa>x</var> truncated to an integer value.</dd><dt><code class=Fn>log</code>(<var class=Fa>x</var>)</dt><dd>Return the natural logarithm of <var class=Fa>x</var>.</dd><dt><code class=Fn>rand</code>()</dt><dd>Return a random number, <var class=Fa>n</var>, such that 0≤<var class=Fa>n</var><span class=No>&lt;1</span>.</dd><dt><code class=Fn>sin</code>(<var class=Fa>x</var>)</dt><dd>Return the sine of <var class=Fa>x</var>, where <var class=Fa>x</var> is in radians.</dd><dt><code class=Fn>sqrt</code>(<var class=Fa>x</var>)</dt><dd>Return the square root of <var class=Fa>x</var>.</dd><dt><code class=Fn>srand</code>(<var class=Fa>expr</var>)</dt><dd>Sets seed for <code class=Fn>rand</code>() to <var class=Fa>expr</var> and returns the previous seed. If <var class=Fa>expr</var> is omitted, the time of day is used instead.</dd></dl></section><section class=Ss><h2 class=Ss id=String_Functions><a class=permalink href=#String_Functions>String Functions</a></h2><dl class=Bl-tag><dt><code class=Fn>gsub</code>(<var class=Fa>r</var>, <var class=Fa>t</var>, <var class=Fa>s</var>)</dt><dd>The same as <code class=Fn>sub</code>() except that all occurrences of the regular expression are replaced. <code class=Fn>gsub</code>() returns the number of replacements.</dd><dt><code class=Fn>index</code>(<var class=Fa>s</var>, <var class=Fa>t</var>)</dt><dd>The position in <var class=Fa>s</var> where the string <var class=Fa>t</var> occurs, or 0 if it does not.</dd><dt><code class=Fn>length</code>(<var class=Fa>s</var>)</dt><dd>The length of <var class=Fa>s</var> taken as a string, or of <var class=Va>$0</var> if no argument is given.</dd><dt><code class=Fn>match</code>(<var class=Fa>s</var>, <var class=Fa>r</var>)</dt><dd>The position in <var class=Fa>s</var> where the regular expression <var class=Fa>r</var> occurs, or 0 if it does not. The variable <var class=Va>RSTART</var> is set to the starting position of the matched string (which is the same as the returned value) or zero if no match is found. The variable <var class=Va>RLENGTH</var> is set to the length of the matched string, or -1 if no match is found.</dd><dt><code class=Fn>split</code>(<var class=Fa>s</var>, <var class=Fa>a</var>, <var class=Fa>fs</var>)</dt><dd>Splits the string <var class=Fa>s</var> into array elements <var class=Va>a[1]</var>, <var class=Va>a[2]</var>, <var class=Va>...</var>, <var class=Va>a[n]</var> and returns <var class=Va>n</var>. The separation is done with the regular expression <var class=Ar>fs</var> or with the field separator <var class=Va>FS</var> if <var class=Ar>fs</var> is not given. An empty string as field separator splits the string into one array element per character.</dd><dt><code class=Fn>sprintf</code>(<var class=Fa>fmt</var>, <var class=Fa>expr</var>, <var class=Fa>...</var>)</dt><dd>The string resulting from formatting <var class=Fa>expr</var>, <var class=Fa>...</var> according to the <a class=Xr href=printf.1.html>printf(1)</a> format <var class=Fa>fmt</var>.</dd><dt><code class=Fn>sub</code>(<var class=Fa>r</var>, <var class=Fa>t</var>, <var class=Fa>s</var>)</dt><dd>Substitutes <var class=Fa>t</var> for the first occurrence of the regular expression <var class=Fa>r</var> in the string <var class=Fa>s</var>. If <var class=Fa>s</var> is not given, <var class=Va>$0</var> is used. An ampersand (‘&amp;’) in <var class=Fa>t</var> is replaced in string <var class=Fa>s</var> with regular expression <var class=Fa>r</var>. A literal ampersand can be specified by preceding it with two backslashes (‘\\’). A literal backslash can be specified by preceding it with another backslash (‘\\’). <code class=Fn>sub</code>() returns the number of replacements.</dd><dt><code class=Fn>substr</code>(<var class=Fa>s</var>, <var class=Fa>m</var>, <var class=Fa>n</var>)</dt><dd>Return at most the <var class=Fa>n</var>-character substring of <var class=Fa>s</var> that begins at position <var class=Fa>m</var> counted from 1. If <var class=Fa>n</var> is omitted, or if <var class=Fa>n</var> specifies more characters than are left in the string, the length of the substring is limited by the length of <var class=Fa>s</var>.</dd><dt><code class=Fn>tolower</code>(<var class=Fa>str</var>)</dt><dd>Returns a copy of <var class=Fa>str</var> with all upper-case characters translated to their corresponding lower-case equivalents.</dd><dt><code class=Fn>toupper</code>(<var class=Fa>str</var>)</dt><dd>Returns a copy of <var class=Fa>str</var> with all lower-case characters translated to their corresponding upper-case equivalents.</dd></dl></section><section class=Ss><h2 class=Ss id=Input/Output_and_General_Functions><a class=permalink href=#Input/Output_and_General_Functions>Input/Output and General Functions</a></h2><dl class=Bl-tag><dt><code class=Fn>close</code>(<var class=Fa>expr</var>)</dt><dd>Closes the file or pipe <var class=Fa>expr</var>. <var class=Fa>expr</var> should match the string that was used to open the file or pipe.</dd><dt><var class=Ar>cmd</var> | <a class=permalink href=#getline><code class=Ic id=getline>getline</code></a> [<var class=Va>var</var>]</dt><dd>Read a record of input from a stream piped from the output of <var class=Ar>cmd</var>. If <var class=Va>var</var> is omitted, the variables <var class=Va>$0</var> and <var class=Va>NF</var> are set. Otherwise <var class=Va>var</var> is set. If the stream is not open, it is opened. As long as the stream remains open, subsequent calls will read subsequent records from the stream. The stream remains open until explicitly closed with a call to <code class=Fn>close</code>(). <code class=Ic>getline</code> returns 1 for a successful input, 0 for end of file, and -1 for an error.</dd><dt><code class=Fn>fflush</code>(<var class=Fa>[expr]</var>)</dt><dd>Flushes any buffered output for the file or pipe <var class=Fa>expr</var>, or all open files or pipes if <var class=Fa>expr</var> is omitted. <var class=Fa>expr</var> should match the string that was used to open the file or pipe.</dd><dt><a class=permalink href=#getline_2><code class=Ic id=getline_2>getline</code></a></dt><dd>Sets <var class=Va>$0</var> to the next input record from the current input file. This form of <code class=Ic>getline</code> sets the variables <var class=Va>NF</var>, <var class=Va>NR</var>, and <var class=Va>FNR</var>. <code class=Ic>getline</code> returns 1 for a successful input, 0 for end of file, and -1 for an error.</dd><dt><a class=permalink href=#getline_3><code class=Ic id=getline_3>getline</code></a><var class=Va>var</var></dt><dd>Sets <var class=Va>$0</var> to variable <var class=Va>var</var>. This form of <code class=Ic>getline</code> sets the variables <var class=Va>NR</var> and <var class=Va>FNR</var>. <code class=Ic>getline</code> returns 1 for a successful input, 0 for end of file, and -1 for an error.</dd><dt><a class=permalink href=#getline_4><code class=Ic id=getline_4>getline</code></a> [<var class=Va>var</var>]  &lt;<var class=Ar>file</var></dt><dd>Sets <var class=Va>$0</var> to the next record from <var class=Ar>file</var>. If <var class=Va>var</var> is omitted, the variables <var class=Va>$0</var> and <var class=Va>NF</var> are set. Otherwise <var class=Va>var</var> is set. If <var class=Ar>file</var> is not open, it is opened. As long as the stream remains open, subsequent calls will read subsequent records from <var class=Ar>file</var>. <var class=Ar>file</var> remains open until explicitly closed with a call to <code class=Fn>close</code>().</dd><dt><code class=Fn>system</code>(<var class=Fa>cmd</var>)</dt><dd>Executes <var class=Fa>cmd</var> and returns its exit status.</dd></dl></section><section class=Ss><h2 class=Ss id=Bit_Operation_Functions><a class=permalink href=#Bit_Operation_Functions>Bit-Operation Functions</a></h2><dl class=Bl-tag><dt><code class=Fn>compl</code>(<var class=Fa>x</var>)</dt><dd>Returns the bitwise complement of integer argument x.</dd><dt><code class=Fn>and</code>(<var class=Fa>v1</var>, <var class=Fa>v2</var>, <var class=Fa>...</var>)</dt><dd>Performs a bitwise AND on all arguments provided, as integers. There must be at least two values.</dd><dt><code class=Fn>or</code>(<var class=Fa>v1</var>, <var class=Fa>v2</var>, <var class=Fa>...</var>)</dt><dd>Performs a bitwise OR on all arguments provided, as integers. There must be at least two values.</dd><dt><code class=Fn>xor</code>(<var class=Fa>v1</var>, <var class=Fa>v2</var>, <var class=Fa>...</var>)</dt><dd>Performs a bitwise Exclusive-OR on all arguments provided, as integers. There must be at least two values.</dd><dt><code class=Fn>lshift</code>(<var class=Fa>x</var>, <var class=Fa>n</var>)</dt><dd>Returns integer argument x shifted by n bits to the left.</dd><dt><code class=Fn>rshift</code>(<var class=Fa>x</var>, <var class=Fa>n</var>)</dt><dd>Returns integer argument x shifted by n bits to the right.</dd></dl></section></section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2> The <code class=Nm>awk</code> utility exits 0 on success, and &gt;0 if an error occurs. <p class=Pp>But note that the <code class=Ic>exit</code> expression can modify the exit status.</p></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> Print lines longer than 72 characters: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>length($0) &gt; 72</code></div><p class=Pp>Print first two fields in opposite order:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>{ print $2, $1 }</code></div><p class=Pp>Same, with input fields separated by comma and/or blanks and tabs:</p><div class="Bd Pp Bd-indent"><pre>
BEGIN { FS = ",[ \t]*|[ \t]+" }
      { print $2, $1 }
</pre></div><p class=Pp>Add up first column, print sum and average:</p><div class="Bd Pp Bd-indent"><pre>
{ s += $1 }
END { print "sum is", s, " average is", s/NR }
</pre></div><p class=Pp>Print all lines between start/stop pairs:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>/start/, /stop/</code></div><p class=Pp>Simulate echo(1):</p><div class="Bd Pp Bd-indent"><pre>
BEGIN { # Simulate echo(1)
        for (i = 1; i &lt; ARGC; i++) printf "%s ", ARGV[i]
        printf "\n"
        exit }
</pre></div><p class=Pp>Print an error message to standard error:</p><div class="Bd Pp Bd-indent"><pre>
{ print "error!" &gt; "/dev/stderr" }
</pre></div></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=cut.1.html>cut(1)</a>, <a class=Xr href=lex.1.html>lex(1)</a>, <a class=Xr href=printf.1.html>printf(1)</a>, <a class=Xr href=sed.1.html>sed(1)</a>, <a class=Xr href=re_format.7.html>re_format(7)</a><p class=Pp><cite class=Rs><span class=RsA>A. V. Aho</span>, <span class=RsA>B. W. Kernighan</span>, and <span class=RsA>P. J. Weinberger</span>, <span class=RsT>The AWK Programming Language</span>, <i class=RsI>Addison-Wesley</i>, <span class=RsD>1988</span>, <span class=RsO>ISBN 0-201-07981-X</span>.</cite></p></section><section class=Sh><h2 class=Sh id=STANDARDS><a class=permalink href=#STANDARDS>STANDARDS</a></h2> The <code class=Nm>awk</code> utility is compliant with the <span class=St>IEEE Std 1003.1-2008 (“POSIX.1”)</span> specification, except <code class=Nm>awk</code> does not support {n,m} pattern matching. <p class=Pp>The flags <code class=Fl>-d</code>, <code class=Fl>-safe</code>, and <code class=Fl>-version</code> as well as the commands <code class=Cm>fflush</code>, <code class=Cm>compl</code>, <code class=Cm>and</code>, <code class=Cm>or</code>, <code class=Cm>xor</code>, <code class=Cm>lshift</code>, <code class=Cm>rshift</code>, are extensions to that specification.</p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> An <code class=Nm>awk</code> utility appeared in <span class=Ux>Version 7 AT&amp;T UNIX</span>. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> There are no explicit conversions between numbers and strings. To force an expression to be treated as a number add 0 to it; to force it to be treated as a string concatenate <code class=Li>""</code> to it. <p class=Pp>The scope rules for variables in functions are a botch; the syntax is worse.</p></section><section class=Sh><h2 class=Sh id=DEPRECATED_BEHAVIOR><a class=permalink href=#DEPRECATED_BEHAVIOR>DEPRECATED BEHAVIOR</a></h2> One True Awk has accpeted <code class=Fl>-F</code><var class=Ar>t</var> to mean the same as <code class=Fl>-F</code><var class=Ar>&lt;TAB&gt;</var> to make it easier to specify tabs as the separator character. Upstream One True Awk has deprecated this wart in the name of better compatibility with other awk implementations like gawk and mawk. <p class=Pp>Historically, <code class=Nm>awk</code> did not accept “0x” as a hex string. However, since One True Awk used strtod to convert strings to floats, and since “0x12” is a valid hexadecimal representation of a floating point number, On <span class=Ux>FreeBSD</span>, <code class=Nm>awk</code> has accepted this notation as an extension since One True Awk was imported in <span class=Ux>FreeBSD 5.0</span>. Upstream One True Awk has restored the historical behavior for better compatibility between the different awk implementations. Both gawk and mawk already behave similarly. Starting with <span class=Ux>FreeBSD 14.0</span><code class=Nm>awk</code> will no longer accept this extension.</p><p class=Pp>The <span class=Ux>FreeBSD</span><code class=Nm>awk</code> sets the locale for many years to match the environment it was running in. This lead to pattern ranges, like “[A-Z]” sometimes matching lower case characters in some locales. This misbehavior was never in upstream One True Awk and has been removed as a bug in <span class=Ux>FreeBSD 12.3</span>, <span class=Ux>FreeBSD 13.1</span>, and <span class=Ux>FreeBSD 14.0</span>.</p></section></div><table class=foot><tr><td class=foot-date>July 30, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>