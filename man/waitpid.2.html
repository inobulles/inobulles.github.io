<!DOCTYPE html>
<html><head><meta charset=utf-8><title>waitpid(2)</title><keywords content=man,waitpid></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>waitpid(2)</h1><table class=head><tr><td class=head-ltitle>WAIT(2)</td><td class=head-vol>FreeBSD System Calls Manual</td><td class=head-rtitle>WAIT(2)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>wait</code>, <code class=Nm>waitid</code>, <code class=Nm>waitpid</code>, <code class=Nm>wait3</code>, <code class=Nm>wait4</code>, <code class=Nm>wait6</code> — <div class=Nd>wait for processes to change status</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2><span class=Lb>Standard C Library (libc, -lc)</span></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/sys/types.h.html>sys/types.h</a>&gt;</code><br><code class=In>#include &lt;<a class=In href=../src/sys/wait.h.html>sys/wait.h</a>&gt;</code><p class=Pp><var class=Ft>pid_t</var><br><code class=Fn>wait</code>(<var class=Fa style="white-space: nowrap;">int *status</var>);</p><p class=Pp><var class=Ft>pid_t</var><br><code class=Fn>waitpid</code>(<var class=Fa style="white-space: nowrap;">pid_t wpid</var>, <var class=Fa style="white-space: nowrap;">int *status</var>, <var class=Fa style="white-space: nowrap;">int options</var>);</p><p class=Pp><code class=In>#include &lt;<a class=In href=../src/signal.h.html>signal.h</a>&gt;</code></p><p class=Pp><var class=Ft>int</var><br><code class=Fn>waitid</code>(<var class=Fa style="white-space: nowrap;">idtype_t idtype</var>, <var class=Fa style="white-space: nowrap;">id_t id</var>, <var class=Fa style="white-space: nowrap;">siginfo_t *info</var>, <var class=Fa style="white-space: nowrap;">int options</var>);</p><p class=Pp><code class=In>#include &lt;<a class=In href=../src/sys/time.h.html>sys/time.h</a>&gt;</code><br><code class=In>#include &lt;<a class=In href=../src/sys/resource.h.html>sys/resource.h</a>&gt;</code></p><p class=Pp><var class=Ft>pid_t</var><br><code class=Fn>wait3</code>(<var class=Fa style="white-space: nowrap;">int *status</var>, <var class=Fa style="white-space: nowrap;">int options</var>, <var class=Fa style="white-space: nowrap;">struct rusage *rusage</var>);</p><p class=Pp><var class=Ft>pid_t</var><br><code class=Fn>wait4</code>(<var class=Fa style="white-space: nowrap;">pid_t wpid</var>, <var class=Fa style="white-space: nowrap;">int *status</var>, <var class=Fa style="white-space: nowrap;">int options</var>, <var class=Fa style="white-space: nowrap;">struct rusage *rusage</var>);</p><p class=Pp><var class=Ft>pid_t</var><br><code class=Fn>wait6</code>(<var class=Fa>idtype_t idtype</var>, <var class=Fa>id_t id</var>, <var class=Fa>int *status</var>, <var class=Fa>int options</var>, <var class=Fa>struct __wrusage *wrusage</var>, <var class=Fa>siginfo_t *infop</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Fn>wait</code>() function suspends execution of its calling thread until <var class=Fa>status</var> information is available for a child process or a signal is received. On return from a successful <code class=Fn>wait</code>() call, the <var class=Fa>status</var> area contains information about the process that reported a status change as defined below. <p class=Pp>The <code class=Fn>wait4</code>() and <code class=Fn>wait6</code>() system calls provide a more general interface for programs that need to wait for specific child processes, that need resource utilization statistics accumulated by child processes, or that require options. The other wait functions are implemented using either <code class=Fn>wait4</code>() or <code class=Fn>wait6</code>().</p><p class=Pp>The <code class=Fn>wait6</code>() function is the most general function in this family and its distinct features are:</p><p class=Pp>All of the desired process statuses to be waited on must be explicitly specified in <var class=Fa>options</var>. The <code class=Fn>wait</code>(), <code class=Fn>waitpid</code>(), <code class=Fn>wait3</code>(), and <code class=Fn>wait4</code>() functions all implicitly wait for exited and trapped processes, but the <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() functions require the corresponding <code class=Dv>WEXITED</code> and <code class=Dv>WTRAPPED</code> flags to be explicitly specified. This allows waiting for processes which have experienced other status changes without having to also handle the exit status from terminated processes.</p><p class=Pp>The <code class=Fn>wait6</code>() function accepts a <var class=Fa>wrusage</var> argument which points to a structure defined as:</p><div class="Bd Pp"><pre>
struct __wrusage {
	struct rusage   wru_self;
	struct rusage   wru_children;
};
</pre></div><p class=Pp>This allows the calling process to collect resource usage statistics from both its own child process as well as from its grand children. When no resource usage statistics are needed this pointer can be <code class=Dv>NULL</code>.</p><p class=Pp>The last argument <var class=Fa>infop</var> must be either <code class=Dv>NULL</code> or a pointer to a <var class=Fa>siginfo_t</var> structure. If non-<code class=Dv>NULL</code>, the structure is filled with the same data as for a <code class=Dv>SIGCHLD</code> signal delivered when the process changed state.</p><p class=Pp>The set of child processes to be queried is specified by the arguments <var class=Fa>idtype</var> and <var class=Fa>id</var>. The separate <var class=Fa>idtype</var> and <var class=Fa>id</var> arguments support many other types of identifiers in addition to process IDs and process group IDs.</p><ul class="Bl-bullet Bd-indent"><li>If <var class=Fa>idtype</var> is <code class=Dv>P_PID</code>, <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() wait for the child process with a process ID equal to <code class=Dv>(pid_t)id</code>.</li><li>If <var class=Fa>idtype</var> is <code class=Dv>P_PGID</code>, <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() wait for the child process with a process group ID equal to <code class=Dv>(pid_t)id</code>.</li><li>If <var class=Fa>idtype</var> is <code class=Dv>P_ALL</code>, <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() wait for any child process and the <code class=Dv>id</code> is ignored.</li><li>If <var class=Fa>idtype</var> is <code class=Dv>P_PID</code> or <code class=Dv>P_PGID</code> and the <code class=Dv>id</code> is zero, <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() wait for any child process in the same process group as the caller.</li></ul><p class=Pp>Non-standard identifier types supported by this implementation of <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() are:</p><dl class=Bl-tag><dt><a class=permalink href=#P_UID><code class=Dv id=P_UID>P_UID</code></a></dt><dd>Wait for processes whose effective user ID is equal to <code class=Dv>(uid_t)</code><var class=Fa>id</var>.</dd><dt><a class=permalink href=#P_GID><code class=Dv id=P_GID>P_GID</code></a></dt><dd>Wait for processes whose effective group ID is equal to <code class=Dv>(gid_t)</code><var class=Fa>id</var>.</dd><dt><a class=permalink href=#P_SID><code class=Dv id=P_SID>P_SID</code></a></dt><dd>Wait for processes whose session ID is equal to <var class=Fa>id</var>. If the child process started its own session, its session ID will be the same as its process ID. Otherwise the session ID of a child process will match the caller's session ID.</dd><dt><a class=permalink href=#P_JAILID><code class=Dv id=P_JAILID>P_JAILID</code></a></dt><dd>Waits for processes within a jail whose jail identifier is equal to <var class=Fa>id</var>.</dd></dl><p class=Pp>For the <code class=Fn>waitpid</code>() and <code class=Fn>wait4</code>() functions, the single <var class=Fa>wpid</var> argument specifies the set of child processes for which to wait.</p><ul class="Bl-bullet Bd-indent"><li>If <var class=Fa>wpid</var> is -1, the call waits for any child process.</li><li>If <var class=Fa>wpid</var> is 0, the call waits for any child process in the process group of the caller.</li><li>If <var class=Fa>wpid</var> is greater than zero, the call waits for the process with process ID <var class=Fa>wpid</var>.</li><li>If <var class=Fa>wpid</var> is less than -1, the call waits for any process whose process group ID equals the absolute value of <var class=Fa>wpid</var>.</li></ul><p class=Pp>The <var class=Fa>status</var> argument is defined below.</p><p class=Pp>The <var class=Fa>options</var> argument contains the bitwise OR of any of the following options.</p><dl class=Bl-tag><dt><a class=permalink href=#WCONTINUED><code class=Dv id=WCONTINUED>WCONTINUED</code></a></dt><dd>Report the status of selected processes that have continued from a job control stop by receiving a <code class=Dv>SIGCONT</code> signal.</dd><dt><a class=permalink href=#WNOHANG><code class=Dv id=WNOHANG>WNOHANG</code></a></dt><dd>Do not block when there are no processes wishing to report status.</dd><dt><a class=permalink href=#WUNTRACED><code class=Dv id=WUNTRACED>WUNTRACED</code></a></dt><dd>Report the status of selected processes which are stopped due to a <code class=Dv>SIGTTIN</code>, <code class=Dv>SIGTTOU</code>, <code class=Dv>SIGTSTP</code>, or <code class=Dv>SIGSTOP</code> signal.</dd><dt><a class=permalink href=#WSTOPPED><code class=Dv id=WSTOPPED>WSTOPPED</code></a></dt><dd>An alias for <code class=Dv>WUNTRACED</code>.</dd><dt><a class=permalink href=#WTRAPPED><code class=Dv id=WTRAPPED>WTRAPPED</code></a></dt><dd>Report the status of selected processes which are being traced via <a class=Xr href=ptrace.2.html>ptrace(2)</a> and have trapped or reached a breakpoint. This flag is implicitly set for the functions <code class=Fn>wait</code>(), <code class=Fn>waitpid</code>(), <code class=Fn>wait3</code>(), and <code class=Fn>wait4</code>(). <br> For the <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() functions, the flag has to be explicitly included in <var class=Fa>options</var> if status reports from trapped processes are expected.</dd><dt><a class=permalink href=#WEXITED><code class=Dv id=WEXITED>WEXITED</code></a></dt><dd>Report the status of selected processes which have terminated. This flag is implicitly set for the functions <code class=Fn>wait</code>(), <code class=Fn>waitpid</code>(), <code class=Fn>wait3</code>(), and <code class=Fn>wait4</code>(). <br> For the <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() functions, the flag has to be explicitly included in <var class=Fa>options</var> if status reports from terminated processes are expected.</dd><dt><a class=permalink href=#WNOWAIT><code class=Dv id=WNOWAIT>WNOWAIT</code></a></dt><dd>Keep the process whose status is returned in a waitable state. The process may be waited for again after this call completes.</dd></dl><p class=Pp>For the <code class=Fn>waitid</code>() and <code class=Fn>wait6</code>() functions, at least one of the options <code class=Dv>WEXITED</code>, <code class=Dv>WUNTRACED</code>, <code class=Dv>WSTOPPED</code>, <code class=Dv>WTRAPPED</code>, or <code class=Dv>WCONTINUED</code> must be specified. Otherwise there will be no events for the call to report. To avoid hanging indefinitely in such a case these functions return -1 with <code class=Dv>errno</code> set to <code class=Dv>EINVAL</code>.</p><p class=Pp>If <var class=Fa>rusage</var> is non-NULL, a summary of the resources used by the terminated process and all its children is returned.</p><p class=Pp>If <var class=Fa>wrusage</var> is non-NULL, separate summaries are returned for the resources used by the terminated process and the resources used by all its children.</p><p class=Pp>If <var class=Fa>infop</var> is non-NULL, a <code class=Dv>siginfo_t</code> structure is returned with the <var class=Fa>si_signo</var> field set to <code class=Dv>SIGCHLD</code> and the <var class=Fa>si_pid</var> field set to the process ID of the process reporting status. For the exited process, the <var class=Fa>si_status</var> field of the <code class=Dv>siginfo_t</code> structure contains the full 32 bit exit status passed to <a class=Xr href=_exit.2.html>_exit(2)</a>; the <var class=Fa>status</var> argument of other calls only returns 8 lowest bits of the exit status.</p><p class=Pp>When the <code class=Dv>WNOHANG</code> option is specified and no processes wish to report status, <code class=Fn>waitid</code>() sets the <var class=Fa>si_signo</var> and <var class=Fa>si_pid</var> fields in <var class=Fa>infop</var> to zero. Checking these fields is the only way to know if a status change was reported.</p><p class=Pp>When the <code class=Dv>WNOHANG</code> option is specified and no processes wish to report status, <code class=Fn>wait4</code>() and <code class=Fn>wait6</code>() return a process id of 0.</p><p class=Pp>The <code class=Fn>wait</code>() call is the same as <code class=Fn>wait4</code>() with a <var class=Fa>wpid</var> value of -1, with an <var class=Fa>options</var> value of zero, and a <var class=Fa>rusage</var> value of <code class=Dv>NULL</code>. The <code class=Fn>waitpid</code>() function is identical to <code class=Fn>wait4</code>() with an <var class=Fa>rusage</var> value of <code class=Dv>NULL</code>. The older <code class=Fn>wait3</code>() call is the same as <code class=Fn>wait4</code>() with a <var class=Fa>wpid</var> value of -1. The <code class=Fn>wait4</code>() function is identical to <code class=Fn>wait6</code>() with the flags <code class=Dv>WEXITED</code> and <code class=Dv>WTRAPPED</code> set in <var class=Fa>options</var> and <var class=Fa>infop</var> set to <code class=Dv>NULL</code>.</p><p class=Pp>The following macros may be used to test the current status of the process. Exactly one of the following four macros will evaluate to a non-zero (true) value:</p><dl class=Bl-tag><dt><code class=Fn>WIFCONTINUED</code>(<var class=Fa>status</var>)</dt><dd>True if the process has not terminated, and has continued after a job control stop. This macro can be true only if the wait call specified the <code class=Dv>WCONTINUED</code> option.</dd><dt><code class=Fn>WIFEXITED</code>(<var class=Fa>status</var>)</dt><dd>True if the process terminated normally by a call to <a class=Xr href=_exit.2.html>_exit(2)</a> or <a class=Xr href=exit.3.html>exit(3)</a>.</dd><dt><code class=Fn>WIFSIGNALED</code>(<var class=Fa>status</var>)</dt><dd>True if the process terminated due to receipt of a signal.</dd><dt><code class=Fn>WIFSTOPPED</code>(<var class=Fa>status</var>)</dt><dd>True if the process has not terminated, but has stopped and can be restarted. This macro can be true only if the wait call specified the <code class=Dv>WUNTRACED</code> option or if the child process is being traced (see <a class=Xr href=ptrace.2.html>ptrace(2)</a>).</dd></dl><p class=Pp>Depending on the values of those macros, the following macros produce the remaining status information about the child process:</p><dl class=Bl-tag><dt><code class=Fn>WEXITSTATUS</code>(<var class=Fa>status</var>)</dt><dd>If <code class=Fn>WIFEXITED</code>(<var class=Fa>status</var>) is true, evaluates to the low-order 8 bits of the argument passed to <a class=Xr href=_exit.2.html>_exit(2)</a> or <a class=Xr href=exit.3.html>exit(3)</a> by the child.</dd><dt><code class=Fn>WTERMSIG</code>(<var class=Fa>status</var>)</dt><dd>If <code class=Fn>WIFSIGNALED</code>(<var class=Fa>status</var>) is true, evaluates to the number of the signal that caused the termination of the process.</dd><dt><code class=Fn>WCOREDUMP</code>(<var class=Fa>status</var>)</dt><dd>If <code class=Fn>WIFSIGNALED</code>(<var class=Fa>status</var>) is true, evaluates as true if the termination of the process was accompanied by the creation of a core file containing an image of the process when the signal was received.</dd><dt><code class=Fn>WSTOPSIG</code>(<var class=Fa>status</var>)</dt><dd>If <code class=Fn>WIFSTOPPED</code>(<var class=Fa>status</var>) is true, evaluates to the number of the signal that caused the process to stop.</dd></dl></section><section class=Sh><h2 class=Sh id=NOTES><a class=permalink href=#NOTES>NOTES</a></h2> See <a class=Xr href=sigaction.2.html>sigaction(2)</a> for a list of termination signals. A status of 0 indicates normal termination. <p class=Pp>If a parent process terminates without waiting for all of its child processes to terminate, the remaining child processes are re-assigned to the reaper of the exiting process as the parent, see <a class=Xr href=procctl.2.html>procctl(2)</a><code class=Dv>PROC_REAP_ACQUIRE</code>. If no specific reaper was assigned, the process with ID 1, the init process, becomes the parent of the orphaned children by default.</p><p class=Pp>If a signal is caught while any of the <code class=Fn>wait</code>() calls are pending, the call may be interrupted or restarted when the signal-catching routine returns, depending on the options in effect for the signal; see discussion of <code class=Dv>SA_RESTART</code> in <a class=Xr href=sigaction.2.html>sigaction(2)</a>.</p><p class=Pp>The implementation queues one <code class=Dv>SIGCHLD</code> signal for each child process whose status has changed; if <code class=Fn>wait</code>() returns because the status of a child process is available, the pending SIGCHLD signal associated with the process ID of the child process will be discarded. Any other pending <code class=Dv>SIGCHLD</code> signals remain pending.</p><p class=Pp>If <code class=Dv>SIGCHLD</code> is blocked and <code class=Fn>wait</code>() returns because the status of a child process is available, the pending <code class=Dv>SIGCHLD</code> signal will be cleared unless another status of the child process is available.</p></section><section class=Sh><h2 class=Sh id=RETURN_VALUES><a class=permalink href=#RETURN_VALUES>RETURN VALUES</a></h2> If <code class=Fn>wait</code>() returns due to a stopped, continued, or terminated child process, the process ID of the child is returned to the calling process. Otherwise, a value of -1 is returned and <var class=Va>errno</var> is set to indicate the error. <p class=Pp>If <code class=Fn>wait6</code>(), <code class=Fn>wait4</code>(), <code class=Fn>wait3</code>(), or <code class=Fn>waitpid</code>() returns due to a stopped, continued, or terminated child process, the process ID of the child is returned to the calling process. If there are no children not previously awaited, -1 is returned with <var class=Va>errno</var> set to <code class=Er>ECHILD</code>. Otherwise, if <code class=Dv>WNOHANG</code> is specified and there are no stopped, continued or exited children, 0 is returned. If an error is detected or a caught signal aborts the call, a value of -1 is returned and <var class=Va>errno</var> is set to indicate the error.</p><p class=Pp>If <code class=Fn>waitid</code>() returns because one or more processes have a state change to report, 0 is returned. If an error is detected, a value of -1 is returned and <var class=Va>errno</var> is set to indicate the error. If <code class=Dv>WNOHANG</code> is specified and there are no stopped, continued or exited children, 0 is returned. The <var class=Fa>si_signo</var> and <var class=Fa>si_pid</var> fields of <var class=Fa>infop</var> must be checked against zero to determine if a process reported status.</p><p class=Pp>The <code class=Fn>wait</code>() family of functions will not return a child process created with <a class=Xr href=pdfork.2.html>pdfork(2)</a> unless specifically directed to do so by specifying its process ID.</p></section><section class=Sh><h2 class=Sh id=ERRORS><a class=permalink href=#ERRORS>ERRORS</a></h2> The <code class=Fn>wait</code>() function will fail and return immediately if: <dl class=Bl-tag><dt>[<a class=permalink href=#ECHILD><code class=Er id=ECHILD>ECHILD</code></a>]</dt><dd>The calling process has no existing unwaited-for child processes.</dd><dt>[<a class=permalink href=#ECHILD_2><code class=Er id=ECHILD_2>ECHILD</code></a>]</dt><dd>No status from the terminated child process is available because the calling process has asked the system to discard such status by ignoring the signal <code class=Dv>SIGCHLD</code> or setting the flag <code class=Dv>SA_NOCLDWAIT</code> for that signal.</dd><dt>[<a class=permalink href=#EFAULT><code class=Er id=EFAULT>EFAULT</code></a>]</dt><dd>The <var class=Fa>status</var> or <var class=Fa>rusage</var> argument points to an illegal address. (May not be detected before exit of a child process.)</dd><dt>[<a class=permalink href=#EINTR><code class=Er id=EINTR>EINTR</code></a>]</dt><dd>The call was interrupted by a caught signal, or the signal did not have the <code class=Dv>SA_RESTART</code> flag set.</dd><dt>[<a class=permalink href=#EINVAL><code class=Er id=EINVAL>EINVAL</code></a>]</dt><dd>An invalid value was specified for <var class=Fa>options</var>, or <var class=Fa>idtype</var> and <var class=Fa>id</var> do not specify a valid set of processes.</dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=_exit.2.html>_exit(2)</a>, <a class=Xr href=procctl.2.html>procctl(2)</a>, <a class=Xr href=ptrace.2.html>ptrace(2)</a>, <a class=Xr href=sigaction.2.html>sigaction(2)</a>, <a class=Xr href=exit.3.html>exit(3)</a>, <a class=Xr href=siginfo.3.html>siginfo(3)</a></section><section class=Sh><h2 class=Sh id=STANDARDS><a class=permalink href=#STANDARDS>STANDARDS</a></h2> The <code class=Fn>wait</code>(), <code class=Fn>waitpid</code>(), and <code class=Fn>waitid</code>() functions are defined by POSIX; <code class=Fn>wait6</code>(), <code class=Fn>wait4</code>(), and <code class=Fn>wait3</code>() are not specified by POSIX. The <code class=Fn>WCOREDUMP</code>() macro is an extension to the POSIX interface. <p class=Pp>The ability to use the <code class=Dv>WNOWAIT</code> flag with <code class=Fn>waitpid</code>() is an extension; POSIX only permits this flag with <code class=Fn>waitid</code>().</p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Fn>wait</code>() function appeared in <span class=Ux>Version 1 AT&amp;T UNIX</span>. </section></div><table class=foot><tr><td class=foot-date>August 11, 2019</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>