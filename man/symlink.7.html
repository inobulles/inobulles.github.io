<!DOCTYPE html>
<html><head><meta charset=utf-8><title>symlink(7)</title><keywords content=man,symlink></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>symlink(7)</h1><table class=head><tr><td class=head-ltitle>SYMLINK(7)</td><td class=head-vol>FreeBSD Miscellaneous Information Manual</td><td class=head-rtitle>SYMLINK(7)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>symlink</code> — <div class=Nd>symbolic link handling</div></section><section class=Sh><h2 class=Sh id=SYMBOLIC_LINK_HANDLING><a class=permalink href=#SYMBOLIC_LINK_HANDLING>SYMBOLIC LINK HANDLING</a></h2> Symbolic links are files that act as pointers to other files. To understand their behavior, you must first understand how hard links work. A hard link to a file is indistinguishable from the original file because it is a reference to the object underlying the original file name. Changes to a file are independent of the name used to reference the file. Hard links may not refer to directories and may not reference files on different file systems. A symbolic link contains the name of the file to which it is linked, i.e., it is a pointer to another name, and not to an underlying object. For this reason, symbolic links may reference directories and may span file systems. <p class=Pp>Because a symbolic link and its referenced object coexist in the file system name space, confusion can arise in distinguishing between the link itself and the referenced object. Historically, commands and system calls have adopted their own link following conventions in a somewhat ad-hoc fashion. Rules for more a uniform approach, as they are implemented in this system, are outlined here. It is important that local applications conform to these rules, too, so that the user interface can be as consistent as possible.</p><p class=Pp>Symbolic links are handled either by operating on the link itself, or by operating on the object referenced by the link. In the latter case, an application or system call is said to “follow” the link. Symbolic links may reference other symbolic links, in which case the links are dereferenced until an object that is not a symbolic link is found, a symbolic link which references a file which does not exist is found, or a loop is detected. (Loop detection is done by placing an upper limit on the number of links that may be followed, and an error results if this limit is exceeded.)</p><p class=Pp>There are three separate areas that need to be discussed. They are as follows:</p><p class=Pp></p><ol class="Bl-enum Bd-indent Bl-compact"><li>Symbolic links used as file name arguments for system calls.</li><li>Symbolic links specified as command line arguments to utilities that are not traversing a file tree.</li><li>Symbolic links encountered by utilities that are traversing a file tree (either specified on the command line or encountered as part of the file hierarchy walk).</li></ol><section class=Ss><h2 class=Ss id=System_calls.><a class=permalink href=#System_calls.>System calls.</a></h2> The first area is symbolic links used as file name arguments for system calls. <p class=Pp>Except as noted below, all system calls follow symbolic links. For example, if there were a symbolic link “<code class=Li>slink</code>” which pointed to a file named “<code class=Li>afile</code>”, the system call “<code class=Li>open("slink" ...)</code>” would return a file descriptor to the file “afile”.</p><p class=Pp>There are thirteen system calls that do not follow links, and which operate on the symbolic link itself. They are: <a class=Xr href=lchflags.2.html>lchflags(2)</a>, <a class=Xr href=lchmod.2.html>lchmod(2)</a>, <a class=Xr href=lchown.2.html>lchown(2)</a>, <a class=Xr href=lpathconf.2.html>lpathconf(2)</a>, <a class=Xr href=lstat.2.html>lstat(2)</a>, <a class=Xr href=lutimes.2.html>lutimes(2)</a>, <a class=Xr href=readlink.2.html>readlink(2)</a>, <a class=Xr href=readlinkat.2.html>readlinkat(2)</a>, <a class=Xr href=rename.2.html>rename(2)</a>, <a class=Xr href=renameat.2.html>renameat(2)</a>, <a class=Xr href=rmdir.2.html>rmdir(2)</a>, <a class=Xr href=unlink.2.html>unlink(2)</a>, and <a class=Xr href=unlinkat.2.html>unlinkat(2)</a>. Because <a class=Xr href=remove.3.html>remove(3)</a> is an alias for <a class=Xr href=unlink.2.html>unlink(2)</a>, it also does not follow symbolic links. When <a class=Xr href=rmdir.2.html>rmdir(2)</a> or <a class=Xr href=unlinkat.2.html>unlinkat(2)</a> with the <code class=Dv>AT_REMOVEDIR</code> flag is applied to a symbolic link, it fails with the error <code class=Er>ENOTDIR</code>.</p><p class=Pp>The <a class=Xr href=linkat.2.html>linkat(2)</a> system call does not follow symbolic links unless given the <code class=Dv>AT_SYMLINK_FOLLOW</code> flag.</p><p class=Pp>The following system calls follow symbolic links unless given the <code class=Dv>AT_SYMLINK_NOFOLLOW</code> flag: <a class=Xr href=chflagsat.2.html>chflagsat(2)</a>, <a class=Xr href=fchmodat.2.html>fchmodat(2)</a>, <a class=Xr href=fchownat.2.html>fchownat(2)</a>, <a class=Xr href=fstatat.2.html>fstatat(2)</a> and <a class=Xr href=utimensat.2.html>utimensat(2)</a>.</p><p class=Pp>The owner and group of an existing symbolic link can be changed by means of the <a class=Xr href=lchown.2.html>lchown(2)</a> system call. The flags, access permissions, owner/group and modification time of an existing symbolic link can be changed by means of the <a class=Xr href=lchflags.2.html>lchflags(2)</a>, <a class=Xr href=lchmod.2.html>lchmod(2)</a>, <a class=Xr href=lchown.2.html>lchown(2)</a>, and <a class=Xr href=lutimes.2.html>lutimes(2)</a> system calls, respectively. Of these, only the flags and ownership are used by the system; the access permissions are ignored.</p><p class=Pp>The <span class=Ux>4.4BSD</span> system differs from historical <span class=Ux>4BSD</span> systems in that the system call <a class=Xr href=chown.2.html>chown(2)</a> has been changed to follow symbolic links. The <a class=Xr href=lchown.2.html>lchown(2)</a> system call was added later when the limitations of the new <a class=Xr href=chown.2.html>chown(2)</a> became apparent.</p></section><section class=Ss><h2 class=Ss id=Commands_not_traversing_a_file_tree.><a class=permalink href=#Commands_not_traversing_a_file_tree.>Commands not traversing a file tree.</a></h2> The second area is symbolic links, specified as command line file name arguments, to commands which are not traversing a file tree. <p class=Pp>Except as noted below, commands follow symbolic links named as command line arguments. For example, if there were a symbolic link “<code class=Li>slink</code>” which pointed to a file named “<code class=Li>afile</code>”, the command “<code class=Li>cat slink</code>” would display the contents of the file “<code class=Li>afile</code>”.</p><p class=Pp>It is important to realize that this rule includes commands which may optionally traverse file trees, e.g. the command “<code class=Li>chown file</code>” is included in this rule, while the command “<code class=Li>chown -R file</code>” is not. (The latter is described in the third area, below.)</p><p class=Pp>If it is explicitly intended that the command operate on the symbolic link instead of following the symbolic link, e.g., it is desired that “<code class=Li>chown slink</code>” change the ownership of the file that “<code class=Li>slink</code>” is, whether it is a symbolic link or not, the <code class=Fl>-h</code> option should be used. In the above example, “<code class=Li>chown root slink</code>” would change the ownership of the file referenced by “<code class=Li>slink</code>”, while “<code class=Li>chown -h root slink</code>” would change the ownership of “<code class=Li>slink</code>” itself.</p><p class=Pp>There are five exceptions to this rule. The <a class=Xr href=mv.1.html>mv(1)</a> and <a class=Xr href=rm.1.html>rm(1)</a> commands do not follow symbolic links named as arguments, but respectively attempt to rename and delete them. (Note, if the symbolic link references a file via a relative path, moving it to another directory may very well cause it to stop working, since the path may no longer be correct.)</p><p class=Pp>The <a class=Xr href=ls.1.html>ls(1)</a> command is also an exception to this rule. For compatibility with historic systems (when <code class=Nm>ls</code> is not doing a tree walk, i.e., the <code class=Fl>-R</code> option is not specified), the <code class=Nm>ls</code> command follows symbolic links named as arguments if the <code class=Fl>-H</code> or <code class=Fl>-L</code> option is specified, or if the <code class=Fl>-F</code>, <code class=Fl>-d</code> or <code class=Fl>-l</code> options are not specified. (The <code class=Nm>ls</code> command is the only command where the <code class=Fl>-H</code> and <code class=Fl>-L</code> options affect its behavior even though it is not doing a walk of a file tree.)</p><p class=Pp>The <a class=Xr href=file.1.html>file(1)</a> and <a class=Xr href=stat.1.html>stat(1)</a> commands are also exceptions to this rule. These commands do not follow symbolic links named as argument by default, but do follow symbolic links named as argument if the <code class=Fl>-L</code> option is specified.</p><p class=Pp>The <span class=Ux>4.4BSD</span> system differs from historical <span class=Ux>4BSD</span> systems in that the <code class=Nm>chown</code> and <code class=Nm>chgrp</code> commands follow symbolic links specified on the command line.</p></section><section class=Ss><h2 class=Ss id=Commands_traversing_a_file_tree.><a class=permalink href=#Commands_traversing_a_file_tree.>Commands traversing a file tree.</a></h2> The following commands either optionally or always traverse file trees: <a class=Xr href=chflags.1.html>chflags(1)</a>, <a class=Xr href=chgrp.1.html>chgrp(1)</a>, <a class=Xr href=chmod.1.html>chmod(1)</a>, <a class=Xr href=cp.1.html>cp(1)</a>, <a class=Xr href=du.1.html>du(1)</a>, <a class=Xr href=find.1.html>find(1)</a>, <a class=Xr href=ls.1.html>ls(1)</a>, <a class=Xr href=pax.1.html>pax(1)</a>, <a class=Xr href=rm.1.html>rm(1)</a>, <a class=Xr href=tar.1.html>tar(1)</a> and <a class=Xr href=chown.8.html>chown(8)</a>. <p class=Pp>It is important to realize that the following rules apply equally to symbolic links encountered during the file tree traversal and symbolic links listed as command line arguments.</p><p class=Pp>The first rule applies to symbolic links that reference files that are not of type directory. Operations that apply to symbolic links are performed on the links themselves, but otherwise the links are ignored.</p><p class=Pp>The command “<code class=Li>rm -r slink directory</code>” will remove “<code class=Li>slink</code>”, as well as any symbolic links encountered in the tree traversal of “<code class=Li>directory</code>”, because symbolic links may be removed. In no case will <code class=Nm>rm</code> affect the file which “<code class=Li>slink</code>” references in any way.</p><p class=Pp>The second rule applies to symbolic links that reference files of type directory. Symbolic links which reference files of type directory are never “followed” by default. This is often referred to as a “physical” walk, as opposed to a “logical” walk (where symbolic links referencing directories are followed).</p><p class=Pp>As consistently as possible, you can make commands doing a file tree walk follow any symbolic links named on the command line, regardless of the type of file they reference, by specifying the <code class=Fl>-H</code> (for “half-logical”) flag. This flag is intended to make the command line name space look like the logical name space. (Note, for commands that do not always do file tree traversals, the <code class=Fl>-H</code> flag will be ignored if the <code class=Fl>-R</code> flag is not also specified.)</p><p class=Pp>For example, the command “<code class=Li>chown -HR user slink</code>” will traverse the file hierarchy rooted in the file pointed to by “<code class=Li>slink</code>”. Note, the <code class=Fl>-H</code> is not the same as the previously discussed <code class=Fl>-h</code> flag. The <code class=Fl>-H</code> flag causes symbolic links specified on the command line to be dereferenced both for the purposes of the action to be performed and the tree walk, and it is as if the user had specified the name of the file to which the symbolic link pointed.</p><p class=Pp>As consistently as possible, you can make commands doing a file tree walk follow any symbolic links named on the command line, as well as any symbolic links encountered during the traversal, regardless of the type of file they reference, by specifying the <code class=Fl>-L</code> (for “logical”) flag. This flag is intended to make the entire name space look like the logical name space. (Note, for commands that do not always do file tree traversals, the <code class=Fl>-L</code> flag will be ignored if the <code class=Fl>-R</code> flag is not also specified.)</p><p class=Pp>For example, the command “<code class=Li>chown -LR user slink</code>” will change the owner of the file referenced by “<code class=Li>slink</code>”. If “<code class=Li>slink</code>” references a directory, <code class=Nm>chown</code> will traverse the file hierarchy rooted in the directory that it references. In addition, if any symbolic links are encountered in any file tree that <code class=Nm>chown</code> traverses, they will be treated in the same fashion as “<code class=Li>slink</code>”.</p><p class=Pp>As consistently as possible, you can specify the default behavior by specifying the <code class=Fl>-P</code> (for “physical”) flag. This flag is intended to make the entire name space look like the physical name space.</p><p class=Pp>For commands that do not by default do file tree traversals, the <code class=Fl>-H</code>, <code class=Fl>-L</code> and <code class=Fl>-P</code> flags are ignored if the <code class=Fl>-R</code> flag is not also specified. In addition, you may specify the <code class=Fl>-H</code>, <code class=Fl>-L</code> and <code class=Fl>-P</code> options more than once; the last one specified determines the command's behavior. This is intended to permit you to alias commands to behave one way or the other, and then override that behavior on the command line.</p><p class=Pp>The <a class=Xr href=ls.1.html>ls(1)</a> and <a class=Xr href=rm.1.html>rm(1)</a> commands have exceptions to these rules. The <code class=Nm>rm</code> command operates on the symbolic link, and not the file it references, and therefore never follows a symbolic link. The <code class=Nm>rm</code> command does not support the <code class=Fl>-H</code>, <code class=Fl>-L</code> or <code class=Fl>-P</code> options.</p><p class=Pp>To maintain compatibility with historic systems, the <code class=Nm>ls</code> command acts a little differently. If you do not specify the <code class=Fl>-F</code>, <code class=Fl>-d</code> or <code class=Fl>-l</code> options, <code class=Nm>ls</code> will follow symbolic links specified on the command line. If the <code class=Fl>-L</code> flag is specified, <code class=Nm>ls</code> follows all symbolic links, regardless of their type, whether specified on the command line or encountered in the tree walk.</p></section></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=chflags.1.html>chflags(1)</a>, <a class=Xr href=chgrp.1.html>chgrp(1)</a>, <a class=Xr href=chmod.1.html>chmod(1)</a>, <a class=Xr href=cp.1.html>cp(1)</a>, <a class=Xr href=du.1.html>du(1)</a>, <a class=Xr href=find.1.html>find(1)</a>, <a class=Xr href=ln.1.html>ln(1)</a>, <a class=Xr href=ls.1.html>ls(1)</a>, <a class=Xr href=mv.1.html>mv(1)</a>, <a class=Xr href=pax.1.html>pax(1)</a>, <a class=Xr href=rm.1.html>rm(1)</a>, <a class=Xr href=tar.1.html>tar(1)</a>, <a class=Xr href=lchflags.2.html>lchflags(2)</a>, <a class=Xr href=lchmod.2.html>lchmod(2)</a>, <a class=Xr href=lchown.2.html>lchown(2)</a>, <a class=Xr href=lstat.2.html>lstat(2)</a>, <a class=Xr href=lutimes.2.html>lutimes(2)</a>, <a class=Xr href=readlink.2.html>readlink(2)</a>, <a class=Xr href=rename.2.html>rename(2)</a>, <a class=Xr href=symlink.2.html>symlink(2)</a>, <a class=Xr href=unlink.2.html>unlink(2)</a>, <a class=Xr href=fts.3.html>fts(3)</a>, <a class=Xr href=remove.3.html>remove(3)</a>, <a class=Xr href=chown.8.html>chown(8)</a></section></div><table class=foot><tr><td class=foot-date>February 16, 2015</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>