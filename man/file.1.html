<!DOCTYPE html>
<html><head><meta charset=utf-8><title>file(1)</title><keywords content=man,file></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>file(1)</h1><table class=head><tr><td class=head-ltitle>FILE(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>FILE(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>file</code> — <div class=Nd>determine file type</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>file</code></td><td>[<code class=Fl>-bcdEhiklLNnprsSvzZ0</code>] [<code class=Fl>-</code> <code class=Fl>-apple</code>] [<code class=Fl>-</code><code class=Fl>-exclude-quiet</code>] [<code class=Fl>-</code><code class=Fl>-extension</code>] [<code class=Fl>-</code><code class=Fl>-mime-encoding</code>] [<code class=Fl>-</code><code class=Fl>-mime-type</code>] [<code class=Fl>-e</code> <var class=Ar>testname</var>] [<code class=Fl>-F</code> <var class=Ar>separator</var>] [<code class=Fl>-f</code> <var class=Ar>namefile</var>] [<code class=Fl>-m</code> <var class=Ar>magicfiles</var>] [<code class=Fl>-P</code> <var class=Ar>name=value</var>] <var class=Ar>file ...</var></td></tr></table><br><table class=Nm><tr><td><code class=Nm>file</code></td><td><code class=Fl>-C</code> [<code class=Fl>-m</code><var class=Ar>magicfiles</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>file</code></td><td>[<code class=Fl>-</code><code class=Fl>-help</code>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> This manual page documents version "5.42" of the <code class=Nm>file</code> command. <p class=Pp><code class=Nm>file</code> tests each argument in an attempt to classify it. There are three sets of tests, performed in this order: filesystem tests, magic tests, and language tests. The <i class=Em>first</i> test that succeeds causes the file type to be printed.</p><p class=Pp>The type printed will usually contain one of the words <i class=Em>text</i> (the file contains only printing characters and a few common control characters and is probably safe to read on an <code class=Dv>ASCII</code> terminal), <i class=Em>executable</i> (the file contains the result of compiling a program in a form understandable to some UNIX kernel or another), or <i class=Em>data</i> meaning anything else (data is usually “binary” or non-printable). Exceptions are well-known file formats (core files, tar archives) that are known to contain binary data. When modifying magic files or the program itself, make sure to <i class=Em>preserve these keywords</i>. Users depend on knowing that all the readable files in a directory have the word “text” printed. Don't do as Berkeley did and change “shell commands text” to “shell script”.</p><p class=Pp>The filesystem tests are based on examining the return from a <a class=Xr href=stat.2.html>stat(2)</a> system call. The program checks to see if the file is empty, or if it's some sort of special file. Any known file types appropriate to the system you are running on (sockets, symbolic links, or named pipes (FIFOs) on those systems that implement them) are intuited if they are defined in the system header file <code class=In>&lt;<a class=In href=../src/sys/stat.h.html>sys/stat.h</a>&gt;</code>.</p><p class=Pp>The magic tests are used to check for files with data in particular fixed formats. The canonical example of this is a binary executable (compiled program) <code class=Dv>a.out</code> file, whose format is defined in <code class=In>&lt;<a class=In href=../src/elf.h.html>elf.h</a>&gt;</code>, <code class=In>&lt;<a class=In href=../src/a.out.h.html>a.out.h</a>&gt;</code> and possibly <code class=In>&lt;<a class=In href=../src/exec.h.html>exec.h</a>&gt;</code> in the standard include directory. These files have a “magic number” stored in a particular place near the beginning of the file that tells the UNIX operating system that the file is a binary executable, and which of several types thereof. The concept of a “magic number” has been applied by extension to data files. Any file with some invariant identifier at a small fixed offset into the file can usually be described in this way. The information identifying these files is read from the compiled magic file <span class=Pa>/usr/share/misc/magic.mgc</span>, or the files in the directory <span class=Pa>/usr/share/misc/magic</span> if the compiled file does not exist. In addition, if <span class=Pa>$HOME/.magic.mgc</span> or <span class=Pa>$HOME/.magic</span> exists, it will be used in preference to the system magic files.</p><p class=Pp>If a file does not match any of the entries in the magic file, it is examined to see if it seems to be a text file. ASCII, ISO-8859-x, non-ISO 8-bit extended-ASCII character sets (such as those used on Macintosh and IBM PC systems), UTF-8-encoded Unicode, UTF-16-encoded Unicode, and EBCDIC character sets can be distinguished by the different ranges and sequences of bytes that constitute printable text in each set. If a file passes any of these tests, its character set is reported. ASCII, ISO-8859-x, UTF-8, and extended-ASCII files are identified as “text” because they will be mostly readable on nearly any terminal; UTF-16 and EBCDIC are only “character data” because, while they contain text, it is text that will require translation before it can be read. In addition, <code class=Nm>file</code> will attempt to determine other characteristics of text-type files. If the lines of a file are terminated by CR, CRLF, or NEL, instead of the Unix-standard LF, this will be reported. Files that contain embedded escape sequences or overstriking will also be identified.</p><p class=Pp>Once <code class=Nm>file</code> has determined the character set used in a text-type file, it will attempt to determine in what language the file is written. The language tests look for particular strings (cf. <code class=In>&lt;<a class=In href=../src/names.h.html>names.h</a>&gt;</code>) that can appear anywhere in the first few blocks of a file. For example, the keyword <i class=Em>.br</i> indicates that the file is most likely a <a class=Xr href=troff.1.html>troff(1)</a> input file, just as the keyword <i class=Em>struct</i> indicates a C program. These tests are less reliable than the previous two groups, so they are performed last. The language test routines also test for some miscellany (such as <a class=Xr href=tar.1.html>tar(1)</a> archives, JSON files).</p><p class=Pp>Any file that cannot be identified as having been written in any of the character sets listed above is simply said to be “data”.</p></section><section class=Sh><h2 class=Sh id=OPTIONS><a class=permalink href=#OPTIONS>OPTIONS</a></h2><dl class=Bl-tag><dt><code class=Fl>-</code><code class=Fl>-apple</code></dt><dd>Causes the <code class=Nm>file</code> command to output the file type and creator code as used by older MacOS versions. The code consists of eight letters, the first describing the file type, the latter the creator. This option works properly only for file formats that have the apple-style output defined.</dd><dt><a class=permalink href=#b><code class=Fl id=b>-b</code></a>, <code class=Fl>-</code><code class=Fl>-brief</code></dt><dd>Do not prepend filenames to output lines (brief mode).</dd><dt><a class=permalink href=#C><code class=Fl id=C>-C</code></a>, <code class=Fl>-</code><code class=Fl>-compile</code></dt><dd>Write a <span class=Pa>magic.mgc</span> output file that contains a pre-parsed version of the magic file or directory.</dd><dt><a class=permalink href=#c><code class=Fl id=c>-c</code></a>, <code class=Fl>-</code><code class=Fl>-checking-printout</code></dt><dd>Cause a checking printout of the parsed form of the magic file. This is usually used in conjunction with the <code class=Fl>-m</code> option to debug a new magic file before installing it.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a></dt><dd>Prints internal debugging information to stderr.</dd><dt><a class=permalink href=#E><code class=Fl id=E>-E</code></a></dt><dd>On filesystem errors (file not found etc), instead of handling the error as regular output as POSIX mandates and keep going, issue an error message and exit.</dd><dt><a class=permalink href=#e><code class=Fl id=e>-e</code></a>, <code class=Fl>-</code><code class=Fl>-exclude</code><var class=Ar>testname</var></dt><dd>Exclude the test named in <var class=Ar>testname</var> from the list of tests made to determine the file type. Valid test names are: <dl class=Bl-tag><dt>apptype</dt><dd><a class=permalink href=#EMX><code class=Dv id=EMX>EMX</code></a> application type (only on EMX).</dd><dt>ascii</dt><dd>Various types of text files (this test will try to guess the text encoding, irrespective of the setting of the ‘encoding’ option).</dd><dt>encoding</dt><dd>Different text encodings for soft magic tests.</dd><dt>tokens</dt><dd>Ignored for backwards compatibility.</dd><dt>cdf</dt><dd>Prints details of Compound Document Files.</dd><dt>compress</dt><dd>Checks for, and looks inside, compressed files.</dd><dt>csv</dt><dd>Checks Comma Separated Value files.</dd><dt>elf</dt><dd>Prints ELF file details, provided soft magic tests are enabled and the elf magic is found.</dd><dt>json</dt><dd>Examines JSON (RFC-7159) files by parsing them for compliance.</dd><dt>soft</dt><dd>Consults magic files.</dd><dt>tar</dt><dd>Examines tar files by verifying the checksum of the 512 byte tar header. Excluding this test can provide more detailed content description by using the soft magic method.</dd><dt>text</dt><dd>A synonym for ‘ascii’.</dd></dl></dd><dt><code class=Fl>-</code><code class=Fl>-exclude-quiet</code></dt><dd>Like <code class=Fl>-</code><code class=Fl>-exclude</code> but ignore tests that <code class=Nm>file</code> does not know about. This is intended for compatibility with older versions of <code class=Nm>file</code>.</dd><dt><code class=Fl>-</code><code class=Fl>-extension</code></dt><dd>Print a slash-separated list of valid extensions for the file type found.</dd><dt><a class=permalink href=#F><code class=Fl id=F>-F</code></a>, <code class=Fl>-</code><code class=Fl>-separator</code><var class=Ar>separator</var></dt><dd>Use the specified string as the separator between the filename and the file result returned. Defaults to ‘:’.</dd><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a>, <code class=Fl>-</code><code class=Fl>-files-from</code><var class=Ar>namefile</var></dt><dd>Read the names of the files to be examined from <var class=Ar>namefile</var> (one per line) before the argument list. Either <var class=Ar>namefile</var> or at least one filename argument must be present; to test the standard input, use ‘-’ as a filename argument. Please note that <var class=Ar>namefile</var> is unwrapped and the enclosed filenames are processed when this option is encountered and before any further options processing is done. This allows one to process multiple lists of files with different command line arguments on the same <code class=Nm>file</code> invocation. Thus if you want to set the delimiter, you need to do it before you specify the list of files, like: “<code class=Fl>-F</code><var class=Ar>@</var><code class=Fl>-f</code><var class=Ar>namefile</var>”, instead of: “<code class=Fl>-f</code><var class=Ar>namefile</var><code class=Fl>-F</code><var class=Ar>@</var>”.</dd><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a>, <code class=Fl>-</code><code class=Fl>-no-dereference</code></dt><dd>This option causes symlinks not to be followed (on systems that support symbolic links). This is the default if the environment variable <code class=Dv>POSIXLY_CORRECT</code> is not defined.</dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a>, <code class=Fl>-</code><code class=Fl>-mime</code></dt><dd>Causes the <code class=Nm>file</code> command to output mime type strings rather than the more traditional human readable ones. Thus it may say ‘text/plain; charset=us-ascii’ rather than “ASCII text”.</dd><dt><code class=Fl>-</code><code class=Fl>-mime-type</code>, <code class=Fl>-</code><code class=Fl>-mime-encoding</code></dt><dd>Like <code class=Fl>-i</code>, but print only the specified element(s).</dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a>, <code class=Fl>-</code><code class=Fl>-keep-going</code></dt><dd>Don't stop at the first match, keep going. Subsequent matches will be have the string ‘\012- ’ prepended. (If you want a newline, see the <code class=Fl>-r</code> option.) The magic pattern with the highest strength (see the <code class=Fl>-l</code> option) comes first.</dd><dt><a class=permalink href=#l><code class=Fl id=l>-l</code></a>, <code class=Fl>-</code><code class=Fl>-list</code></dt><dd>Shows a list of patterns and their strength sorted descending by <a class=Xr href=magic.5.html>magic(5)</a> strength which is used for the matching (see also the <code class=Fl>-k</code> option).</dd><dt><a class=permalink href=#L><code class=Fl id=L>-L</code></a>, <code class=Fl>-</code><code class=Fl>-dereference</code></dt><dd>This option causes symlinks to be followed, as the like-named option in <a class=Xr href=ls.1.html>ls(1)</a> (on systems that support symbolic links). This is the default if the environment variable <code class=Ev>POSIXLY_CORRECT</code> is defined.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a>, <code class=Fl>-</code><code class=Fl>-magic-file</code><var class=Ar>magicfiles</var></dt><dd>Specify an alternate list of files and directories containing magic. This can be a single item, or a colon-separated list. If a compiled magic file is found alongside a file or directory, it will be used instead.</dd><dt><a class=permalink href=#N><code class=Fl id=N>-N</code></a>, <code class=Fl>-</code><code class=Fl>-no-pad</code></dt><dd>Don't pad filenames so that they align in the output.</dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a>, <code class=Fl>-</code><code class=Fl>-no-buffer</code></dt><dd>Force stdout to be flushed after checking each file. This is only useful if checking a list of files. It is intended to be used by programs that want filetype output from a pipe.</dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a>, <code class=Fl>-</code><code class=Fl>-preserve-date</code></dt><dd>On systems that support <a class=Xr href=utime.3.html>utime(3)</a> or <a class=Xr href=utimes.2.html>utimes(2)</a>, attempt to preserve the access time of files analyzed, to pretend that <code class=Nm>file</code> never read them.</dd><dt><a class=permalink href=#P><code class=Fl id=P>-P</code></a>, <code class=Fl>-</code><code class=Fl>-parameter</code><var class=Ar>name=value</var></dt><dd>Set various parameter limits. <table class="Bl-column Bd-indent"><tr><td><b class=Sy>Name</b></td><td><b class=Sy>Default</b></td><td><b class=Sy>Explanation</b></td></tr><tr><td><a class=permalink href=#bytes><code class=Li id=bytes>bytes</code></a></td><td>1048576</td><td>max number of bytes to read from file</td></tr><tr><td><a class=permalink href=#elf_notes><code class=Li id=elf_notes>elf_notes</code></a></td><td>256</td><td>max ELF notes processed</td></tr><tr><td><a class=permalink href=#elf_phnum><code class=Li id=elf_phnum>elf_phnum</code></a></td><td>2048</td><td>max ELF program sections processed</td></tr><tr><td><a class=permalink href=#elf_shnum><code class=Li id=elf_shnum>elf_shnum</code></a></td><td>32768</td><td>max ELF sections processed</td></tr><tr><td><a class=permalink href=#encoding><code class=Li id=encoding>encoding</code></a></td><td>65536</td><td>max number of bytes to scan for encoding evaluation</td></tr><tr><td><a class=permalink href=#indir><code class=Li id=indir>indir</code></a></td><td>50</td><td>recursion limit for indirect magic</td></tr><tr><td><a class=permalink href=#name><code class=Li id=name>name</code></a></td><td>50</td><td>use count limit for name/use magic</td></tr><tr><td><a class=permalink href=#regex><code class=Li id=regex>regex</code></a></td><td>8192</td><td>length limit for regex searches</td></tr></table></dd><dt><a class=permalink href=#r><code class=Fl id=r>-r</code></a>, <code class=Fl>-</code><code class=Fl>-raw</code></dt><dd>Don't translate unprintable characters to \ooo. Normally <code class=Nm>file</code> translates unprintable characters to their octal representation.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a>, <code class=Fl>-</code><code class=Fl>-special-files</code></dt><dd>Normally, <code class=Nm>file</code> only attempts to read and determine the type of argument files which <a class=Xr href=stat.2.html>stat(2)</a> reports are ordinary files. This prevents problems, because reading special files may have peculiar consequences. Specifying the <code class=Fl>-s</code> option causes <code class=Nm>file</code> to also read argument files which are block or character special files. This is useful for determining the filesystem types of the data in raw disk partitions, which are block special files. This option also causes <code class=Nm>file</code> to disregard the file size as reported by <a class=Xr href=stat.2.html>stat(2)</a> since on some systems it reports a zero size for raw disk partitions.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a>, <code class=Fl>-</code><code class=Fl>-no-sandbox</code></dt><dd>On systems where libseccomp (<span class=Pa>https://github.com/seccomp/libseccomp</span>) is available, the <code class=Fl>-S</code> option disables sandboxing which is enabled by default. This option is needed for <code class=Nm>file</code> to execute external decompressing programs, i.e. when the <code class=Fl>-z</code> option is specified and the built-in decompressors are not available. On systems where sandboxing is not available, this option has no effect.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a>, <code class=Fl>-</code><code class=Fl>-version</code></dt><dd>Print the version of the program and exit.</dd><dt><a class=permalink href=#z><code class=Fl id=z>-z</code></a>, <code class=Fl>-</code><code class=Fl>-uncompress</code></dt><dd>Try to look inside compressed files.</dd><dt><a class=permalink href=#Z><code class=Fl id=Z>-Z</code></a>, <code class=Fl>-</code><code class=Fl>-uncompress-noreport</code></dt><dd>Try to look inside compressed files, but report information about the contents only not the compression.</dd><dt><a class=permalink href=#0><code class=Fl id=0>-0</code></a>, <code class=Fl>-</code><code class=Fl>-print0</code></dt><dd>Output a null character ‘\0’ after the end of the filename. Nice to <a class=Xr href=cut.1.html>cut(1)</a> the output. This does not affect the separator, which is still printed. <p class=Pp>If this option is repeated more than once, then <code class=Nm>file</code> prints just the filename followed by a NUL followed by the description (or ERROR: text) followed by a second NUL for each entry.</p></dd><dt><a class=permalink href=#-help><code class=Fl id=-help>--help</code></a></dt><dd>Print a help message and exit.</dd></dl></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2> The environment variable <code class=Ev>MAGIC</code> can be used to set the default magic file name. If that variable is set, then <code class=Nm>file</code> will not attempt to open <span class=Pa>$HOME/.magic</span>. <code class=Nm>file</code> adds “<span class=Pa>.mgc</span>” to the value of this variable as appropriate. The environment variable <code class=Ev>POSIXLY_CORRECT</code> controls (on systems that support symbolic links), whether <code class=Nm>file</code> will attempt to follow symlinks or not. If set, then <code class=Nm>file</code> follows symlink, otherwise it does not. This is also controlled by the <code class=Fl>-L</code> and <code class=Fl>-h</code> options. </section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt><span class=Pa>/usr/share/misc/magic.mgc</span></dt><dd>Default compiled list of magic.</dd><dt><span class=Pa>/usr/share/misc/magic</span></dt><dd>Directory containing default magic files.</dd></dl></section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2><code class=Nm>file</code> will exit with <code class=Dv>0</code> if the operation was successful or <code class=Dv>&gt;0</code> if an error was encountered. The following errors cause diagnostic messages, but don't affect the program exit code (as POSIX requires), unless <code class=Fl>-E</code> is specified: <ul class="Bl-bullet Bd-indent Bl-compact"><li>A file cannot be found</li><li>There is no permission to read a file</li><li>The file type cannot be determined</li></ul></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2><div class="Bd Bd-indent"><pre>
$ file file.c file /dev/{wd0a,hda}
file.c:	  C program text
file:	  ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV),
	  dynamically linked (uses shared libs), stripped
/dev/wd0a: block special (0/0)
/dev/hda: block special (3/0)

$ file -s /dev/wd0{b,d}
/dev/wd0b: data
/dev/wd0d: x86 boot sector

$ file -s /dev/hda{,1,2,3,4,5,6,7,8,9,10}
/dev/hda:   x86 boot sector
/dev/hda1:  Linux/i386 ext2 filesystem
/dev/hda2:  x86 boot sector
/dev/hda3:  x86 boot sector, extended partition table
/dev/hda4:  Linux/i386 ext2 filesystem
/dev/hda5:  Linux/i386 swap file
/dev/hda6:  Linux/i386 swap file
/dev/hda7:  Linux/i386 swap file
/dev/hda8:  Linux/i386 swap file
/dev/hda9:  empty
/dev/hda10: empty

$ file -i file.c file /dev/{wd0a,hda}
file.c:	     text/x-c
file:	     application/x-executable
/dev/hda:    application/x-not-regular-file
/dev/wd0a:   application/x-not-regular-file

</pre></div></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=hexdump.1.html>hexdump(1)</a>, <a class=Xr href=od.1.html>od(1)</a>, <a class=Xr href=strings.1.html>strings(1)</a>, <a class=Xr href=magic.5.html>magic(5)</a>, <a class=Xr href=fstyp.8.html>fstyp(8)</a></section><section class=Sh><h2 class=Sh id=STANDARDS_CONFORMANCE><a class=permalink href=#STANDARDS_CONFORMANCE>STANDARDS CONFORMANCE</a></h2> This program is believed to exceed the System V Interface Definition of FILE(CMD), as near as one can determine from the vague language contained therein. Its behavior is mostly compatible with the System V program of the same name. This version knows more magic, however, so it will produce different (albeit more accurate) output in many cases. <p class=Pp>The one significant difference between this version and System V is that this version treats any white space as a delimiter, so that spaces in pattern strings must be escaped. For example,</p><div class="Bd Pp Bd-indent"><pre>
&gt;10	string	language impress	(imPRESS data)
</pre></div><p class=Pp>in an existing magic file would have to be changed to</p><div class="Bd Pp Bd-indent"><pre>
&gt;10	string	language\ impress	(imPRESS data)
</pre></div><p class=Pp>In addition, in this version, if a pattern string contains a backslash, it must be escaped. For example</p><div class="Bd Pp Bd-indent"><pre>
0	string		\begindata	Andrew Toolkit document
</pre></div><p class=Pp>in an existing magic file would have to be changed to</p><div class="Bd Pp Bd-indent"><pre>
0	string		\\begindata	Andrew Toolkit document
</pre></div><p class=Pp>SunOS releases 3.2 and later from Sun Microsystems include a <code class=Nm>file</code> command derived from the System V one, but with some extensions. This version differs from Sun's only in minor ways. It includes the extension of the ‘&amp;’ operator, used as, for example,</p><div class="Bd Pp Bd-indent"><pre>
&gt;16	long&amp;0x7fffffff	&gt;0		not stripped
</pre></div></section><section class=Sh><h2 class=Sh id=SECURITY><a class=permalink href=#SECURITY>SECURITY</a></h2> On systems where libseccomp (<span class=Pa>https://github.com/seccomp/libseccomp</span>) is available, <code class=Nm>file</code> is enforces limiting system calls to only the ones necessary for the operation of the program. This enforcement does not provide any security benefit when <code class=Nm>file</code> is asked to decompress input files running external programs with the <code class=Fl>-z</code> option. To enable execution of external decompressors, one needs to disable sandboxing using the <code class=Fl>-S</code> option. </section><section class=Sh><h2 class=Sh id=MAGIC_DIRECTORY><a class=permalink href=#MAGIC_DIRECTORY>MAGIC DIRECTORY</a></h2> The magic file entries have been collected from various sources, mainly USENET, and contributed by various authors. Christos Zoulas (address below) will collect additional or corrected magic file entries. A consolidation of magic file entries will be distributed periodically. <p class=Pp>The order of entries in the magic file is significant. Depending on what system you are using, the order that they are put together may be incorrect. If your old <code class=Nm>file</code> command uses a magic file, keep the old magic file around for comparison purposes (rename it to <span class=Pa>/usr/share/misc/magic.orig</span>).</p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> There has been a <code class=Nm>file</code> command in every <code class=Dv>UNIX since at least Research Version 4</code> (man page dated November, 1973). The System V version introduced one significant major change: the external list of magic types. This slowed the program down slightly but made it a lot more flexible. <p class=Pp>This program, based on the System V version, was written by Ian Darwin ⟨ian@darwinsys.com⟩ without looking at anybody else's source code.</p><p class=Pp>John Gilmore revised the code extensively, making it better than the first version. Geoff Collyer found several inadequacies and provided some magic file entries. Contributions of the ‘&amp;’ operator by Rob McMahon, ⟨cudcv@warwick.ac.uk⟩, 1989.</p><p class=Pp>Guy Harris, ⟨guy@netapp.com⟩, made many changes from 1993 to the present.</p><p class=Pp>Primary development and maintenance from 1990 to the present by Christos Zoulas ⟨christos@astron.com⟩.</p><p class=Pp>Altered by Chris Lowth ⟨chris@lowth.com⟩, 2000: handle the <code class=Fl>-i</code> option to output mime type strings, using an alternative magic file and internal logic.</p><p class=Pp>Altered by Eric Fischer ⟨enf@pobox.com⟩, July, 2000, to identify character codes and attempt to identify the languages of non-ASCII files.</p><p class=Pp>Altered by Reuben Thomas ⟨rrt@sc3d.org⟩, 2007-2011, to improve MIME support, merge MIME and non-MIME magic, support directories as well as files of magic, apply many bug fixes, update and fix a lot of magic, improve the build system, improve the documentation, and rewrite the Python bindings in pure Python.</p><p class=Pp>The list of contributors to the ‘magic’ directory (magic files) is too long to include here. You know who you are; thank you. Many contributors are listed in the source files.</p></section><section class=Sh><h2 class=Sh id=LEGAL_NOTICE><a class=permalink href=#LEGAL_NOTICE>LEGAL NOTICE</a></h2> Copyright (c) Ian F. Darwin, Toronto, Canada, 1986-1999. Covered by the standard Berkeley Software Distribution copyright; see the file COPYING in the source distribution. <p class=Pp>The files <span class=Pa>tar.h</span> and <span class=Pa>is_tar.c</span> were written by John Gilmore from his public-domain <a class=Xr href=tar.1.html>tar(1)</a> program, and are not covered by the above license.</p></section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> Please report bugs and send patches to the bug tracker at <span class=Pa>https://bugs.astron.com/</span> or the mailing list at ⟨file@astron.com⟩ (visit <span class=Pa>https://mailman.astron.com/mailman/listinfo/file</span> first to subscribe). </section><section class=Sh><h2 class=Sh id=TODO><a class=permalink href=#TODO>TODO</a></h2> Fix output so that tests for MIME and APPLE flags are not needed all over the place, and actual output is only done in one place. This needs a design. Suggestion: push possible outputs on to a list, then pick the last-pushed (most specific, one hopes) value at the end, or use a default if the list is empty. This should not slow down evaluation. <p class=Pp>The handling of <code class=Dv>MAGIC_CONTINUE</code> and printing \012- between entries is clumsy and complicated; refactor and centralize.</p><p class=Pp>Some of the encoding logic is hard-coded in encoding.c and can be moved to the magic files if we had a !:charset annotation.</p><p class=Pp>Continue to squash all magic bugs. See Debian BTS for a good source.</p><p class=Pp>Store arbitrarily long strings, for example for %s patterns, so that they can be printed out. Fixes Debian bug #271672. This can be done by allocating strings in a string pool, storing the string pool at the end of the magic file and converting all the string pointers to relative offsets from the string pool.</p><p class=Pp>Add syntax for relative offsets after current level (Debian bug #466037).</p><p class=Pp>Make file -ki work, i.e. give multiple MIME types.</p><p class=Pp>Add a zip library so we can peek inside Office2007 documents to print more details about their contents.</p><p class=Pp>Add an option to print URLs for the sources of the file descriptions.</p><p class=Pp>Combine script searches and add a way to map executable names to MIME types (e.g. have a magic value for !:mime which causes the resulting string to be looked up in a table). This would avoid adding the same magic repeatedly for each new hash-bang interpreter.</p><p class=Pp>When a file descriptor is available, we can skip and adjust the buffer instead of the hacky buffer management we do now.</p><p class=Pp>Fix “name” and “use” to check for consistency at compile time (duplicate “name”, “use” pointing to undefined “name” ). Make “name” / “use” more efficient by keeping a sorted list of names. Special-case ^ to flip endianness in the parser so that it does not have to be escaped, and document it.</p><p class=Pp>If the offsets specified internally in the file exceed the buffer size ( <code class=Dv>HOWMANY</code> variable in file.h), then we don't seek to that offset, but we give up. It would be better if buffer managements was done when the file descriptor is available so we can seek around the file. One must be careful though because this has performance and thus security considerations, because one can slow down things by repeateadly seeking.</p><p class=Pp>There is support now for keeping separate buffers and having offsets from the end of the file, but the internal buffer management still needs an overhaul.</p></section><section class=Sh><h2 class=Sh id=AVAILABILITY><a class=permalink href=#AVAILABILITY>AVAILABILITY</a></h2> You can obtain the original author's latest version by anonymous FTP on <span class=Pa>ftp.astron.com</span> in the directory <span class=Pa>/pub/file/file-X.YZ.tar.gz</span>. </section></div><table class=foot><tr><td class=foot-date>February 5, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>