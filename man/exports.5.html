<!DOCTYPE html>
<html><head><meta charset=utf-8><title>exports(5)</title><keywords content=man,exports></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>exports(5)</h1><table class=head><tr><td class=head-ltitle>EXPORTS(5)</td><td class=head-vol>FreeBSD File Formats Manual</td><td class=head-rtitle>EXPORTS(5)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>exports</code> — <div class=Nd>define remote mount points for NFS mount requests</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>exports</code></td><td></td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>exports</code> file specifies remote mount points for the NFS mount protocol per the NFS server specification; see <span class=RsT>Network File System Protocol Specification,</span> RFC1094, Appendix A and <span class=RsT>NFS: Network File System Version 3 Specification,</span> Appendix I. <p class=Pp>Each line in the file (other than comment lines that begin with a #) specifies the mount point(s) and export flags within one local server file system or the NFSv4 tree root for one or more hosts. A long line may be split over several lines by ending all but the last line with a backslash (‘<code class=Li>\</code>’). A host may be specified only once for each local file or the NFSv4 tree root on the server and there may be only one default entry for each server file system that applies to all other hosts. The latter exports the file system to the “world” and should be used only when the file system contains public information.</p><p class=Pp>In a mount entry, the first field(s) specify the directory path(s) within a server file system that can be mounted on by the corresponding client(s). There are three forms of this specification. The first is to list all mount points as absolute directory paths separated by whitespace. This list of directory paths should be considered an “administrative control”, since it is only enforced by the <a class=Xr href=mountd.8.html>mountd(8)</a> daemon and not the kernel. As such, it only applies to NFSv2 and NFSv3 mounts and only with respect to the client's use of the mount protocol. The second is to specify the pathname of the root of the file system followed by the <code class=Fl>-alldirs</code> flag; this form allows the host(s) to mount at any point within the file system, including regular files if the <code class=Fl>-r</code> option is used on <a class=Xr href=mountd.8.html>mountd(8)</a>. Because NFSv4 does not use the mount protocol, the “administrative controls” are not applied and all directories within this server file system are mountable via NFSv4 even if the <code class=Fl>-alldirs</code> flag has not been specified. The third form has the string ``V4:'' followed by a single absolute path name, to specify the NFSv4 tree root. This line does not export any file system, but simply marks where the root of the server's directory tree is for NFSv4 clients. The exported file systems for NFSv4 are specified via the other lines in the <code class=Nm>exports</code> file in the same way as for NFSv2 and NFSv3. The pathnames must not have any symbolic links in them and should not have any “<span class=Pa>.</span>” or “<span class=Pa>..</span>” components. Mount points for a file system may appear on multiple lines each with different sets of hosts and export options.</p><p class=Pp>The second component of a line specifies how the file system is to be exported to the host set. The option flags specify whether the file system is exported read-only or read-write and how the client UID is mapped to user credentials on the server. For the NFSv4 tree root, the only options that can be specified in this section are ones related to security: <code class=Fl>-sec</code>, <code class=Fl>-tls</code>, <code class=Fl>-tlscert</code> and <code class=Fl>-tlscertuser</code>.</p><p class=Pp>Export options are specified as follows:</p><p class=Pp><code class=Fl>-maproot</code><code class=Li>=</code><b class=Sy>user</b> The credential of the specified user is used for remote access by root. The credential includes all the groups to which the user is a member on the local machine (see <a class=Xr href=id.1.html>id(1)</a>). The user may be specified by name or number. The user string may be quoted, or use backslash escaping.</p><p class=Pp><code class=Fl>-maproot</code><code class=Li>=</code><b class=Sy>user:group1:group2:...</b> The colon separated list is used to specify the precise credential to be used for remote access by root. The elements of the list may be either names or numbers. Note that user: should be used to distinguish a credential containing no groups from a complete credential for that user. The group names may be quoted, or use backslash escaping.</p><p class=Pp><code class=Fl>-mapall</code><code class=Li>=</code><b class=Sy>user</b> or <code class=Fl>-mapall</code><code class=Li>=</code><b class=Sy>user:group1:group2:...</b> specifies a mapping for all client UIDs (including root) using the same semantics as <code class=Fl>-maproot</code>.</p><p class=Pp>The option <code class=Fl>-r</code> is a synonym for <code class=Fl>-maproot</code> in an effort to be backward compatible with older export file formats.</p><p class=Pp>In the absence of <code class=Fl>-maproot</code> and <code class=Fl>-mapall</code> options, remote accesses by root will result in using a credential of 65534:65533. All other users will be mapped to their remote credential. If a <code class=Fl>-maproot</code> option is given, remote access by root will be mapped to that credential instead of 65534:65533. If a <code class=Fl>-mapall</code> option is given, all users (including root) will be mapped to that credential in place of their own.</p><p class=Pp><code class=Fl>-sec</code><code class=Li>=</code><b class=Sy>flavor1:flavor2...</b> specifies a colon separated list of acceptable security flavors to be used for remote access. Supported security flavors are sys, krb5, krb5i and krb5p. If multiple flavors are listed, they should be ordered with the most preferred flavor first. If this option is not present, the default security flavor list of just sys is used.</p><p class=Pp>The <code class=Fl>-ro</code> option specifies that the file system should be exported read-only (default read/write). The option <code class=Fl>-o</code> is a synonym for <code class=Fl>-ro</code> in an effort to be backward compatible with older export file formats.</p><p class=Pp>WebNFS exports strictly according to the spec (RFC 2054 and RFC 2055) can be done with the <code class=Fl>-public</code> flag. However, this flag in itself allows r/w access to all files in the file system, not requiring reserved ports and not remapping UIDs. It is only provided to conform to the spec, and should normally not be used. For a WebNFS export, use the <code class=Fl>-webnfs</code> flag, which implies <code class=Fl>-public</code>, <code class=Fl>-mapall</code><span class=No>=</span><b class=Sy>nobody</b> and <code class=Fl>-ro</code>. Note that only one file system can be WebNFS exported on a server.</p><p class=Pp>A <code class=Fl>-index</code><span class=No>=</span><span class=Pa>file</span> option can be used to specify a file whose handle will be returned if a directory is looked up using the public filehandle (WebNFS). This is to mimic the behavior of URLs. If no <code class=Fl>-index</code> option is specified, a directory filehandle will be returned as usual. The <code class=Fl>-index</code> option only makes sense in combination with the <code class=Fl>-public</code> or <code class=Fl>-webnfs</code> flags.</p><p class=Pp>The <code class=Fl>-tls</code>, <code class=Fl>-tlscert</code> and <code class=Fl>-tlscertuser</code> export options are used to require the client to use TLS for the mount(s) per RFC NNNN. For NFS mounts using TLS to work, <a class=Xr href=rpc.tlsservd.8.html>rpc.tlsservd(8)</a> must be running on the server.</p><div class="Bd Pp Bd-indent"><code class=Fl>-tls</code> requires that the client use TLS. <br><code class=Fl>-tlscert</code> requires that the client use TLS and provide a verifiable X.509 certificate during TLS handshake. <br><code class=Fl>-tlscertuser</code> requires that the client use TLS and provide a verifiable X.509 certificate. The otherName component of the certificate's subjAltName must have a an OID of 1.3.6.1.4.1.2238.1.1.1 and a UTF8 string of the form “user@domain”. “user@domain” will be translated to the credentials of the specified user in the same manner as <a class=Xr href=nfsuserd.8.html>nfsuserd(8)</a>, where “user” is normally a username is the server's password database and “domain” is the DNS domain name for the server. All RPCs will be performed using these credentials instead of the ones in the RPC header in a manner similar to <code class=Fl>-mapall</code><code class=Li>=</code><b class=Sy>user</b>.</div><p class=Pp>If none of these three flags are specified, TLS mounts are permitted but not required.</p><p class=Pp>Specifying the <code class=Fl>-quiet</code> option will inhibit some of the syslog diagnostics for bad lines in <span class=Pa>/etc/exports</span>. This can be useful to avoid annoying error messages for known possible problems (see <a class=Sx href=#EXAMPLES>EXAMPLES</a> below).</p><p class=Pp>The third component of a line specifies the host set to which the line applies. The set may be specified in three ways. The first way is to list the host name(s) separated by white space. (Standard Internet “dot” addresses may be used in place of names.) The second way is to specify a “netgroup” as defined in the <span class=Pa>netgroup</span> file (see <a class=Xr href=netgroup.5.html>netgroup(5)</a>). The third way is to specify an Internet subnetwork using a network and network mask that is defined as the set of all hosts with addresses within the subnetwork. This latter approach requires less overhead within the kernel and is recommended for cases where the export line refers to a large number of clients within an administrative subnet.</p><p class=Pp>The first two cases are specified by simply listing the name(s) separated by whitespace. All names are checked to see if they are “netgroup” names first and are assumed to be hostnames otherwise. Using the full domain specification for a hostname can normally circumvent the problem of a host that has the same name as a netgroup. The third case is specified by the flag <code class=Fl>-network</code><code class=Li>=</code><b class=Sy>netname</b>[<code class=Li>/</code><var class=Ar>prefixlength</var>] and optionally <code class=Fl>-mask</code><span class=No>=</span><b class=Sy>netmask</b>. The netmask may be specified either by attaching a <var class=Ar>prefixlength</var> to the <code class=Fl>-network</code> option, or by using a separate <code class=Fl>-mask</code> option. If the mask is not specified, it will default to the historical mask for that network class (A, B, or C; see <a class=Xr href=inet.4.html>inet(4)</a>). This usage is deprecated, and will elicit a warning log message. See the <a class=Sx href=#EXAMPLES>EXAMPLES</a> section below.</p><p class=Pp>Scoped IPv6 address must carry scope identifier as documented in <a class=Xr href=inet6.4.html>inet6(4)</a>. For example, “<code class=Li>fe80::%re2/10</code>” is used to specify <code class=Li>fe80::/10</code> on <code class=Li>re2</code> interface.</p><p class=Pp>For the third form which specifies the NFSv4 tree root, the directory path specifies the location within the server's file system tree which is the root of the NFSv4 tree. There can only be one NFSv4 root directory per server. As such, all entries of this form must specify the same directory path. For file systems other than ZFS, this location can be any directory and does not need to be within an exported file system. If it is not in an exported file system, a very limited set of operations are permitted, so that an NFSv4 client can traverse the tree to an exported file system. Although parts of the NFSv4 tree can be non-exported, the entire NFSv4 tree must consist of local file systems capable of being exported via NFS. All ZFS file systems in the subtree below the NFSv4 tree root must be exported. NFSv4 does not use the mount protocol and does permit clients to cross server mount point boundaries, although not all clients are capable of crossing the mount points.</p><p class=Pp>The <code class=Fl>-sec</code> option on these line(s) specifies what security flavors may be used for NFSv4 operations that do not use file handles. Since these operations (SetClientID, SetClientIDConfirm, Renew, DelegPurge and ReleaseLockOnwer) allocate/modify state in the server, it is possible to restrict some clients to the use of the krb5[ip] security flavors, via this option. See the <a class=Sx href=#EXAMPLES>EXAMPLES</a> section below. This third form is meaningless for NFSv2 and NFSv3 and is ignored for them.</p><p class=Pp>The <a class=Xr href=mountd.8.html>mountd(8)</a> utility can be made to re-read the <code class=Nm>exports</code> file by sending it a hangup signal as follows:</p><div class="Bd Pp Bd-indent"><pre>
/etc/rc.d/mountd reload
</pre></div><p class=Pp>After sending the <code class=Dv>SIGHUP</code>, check the <a class=Xr href=syslogd.8.html>syslogd(8)</a> output to see whether <a class=Xr href=mountd.8.html>mountd(8)</a> logged any parsing errors in the <code class=Nm>exports</code> file.</p></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt><span class=Pa>/etc/exports</span></dt><dd>the default remote mount-point file</dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> Given that <span class=Pa>/usr</span>, <span class=Pa>/u</span>, <span class=Pa>/a</span> and <span class=Pa>/u2</span> are local file system mount points, let's consider the following example: <div class="Bd Pp Bd-indent"><pre>
/usr /usr/local -maproot=0:10 friends
/usr -maproot=daemon grumpy.cis.uoguelph.ca 131.104.48.16
/usr -ro -mapall=nobody
/u -maproot=bin: -network 131.104.48 -mask 255.255.255.0
/a -network 192.168.0/24
/a -network 3ffe:1ce1:1:fe80::/64
/u2 -maproot=root friends
/u2 -alldirs -network cis-net -mask cis-mask
/cdrom -alldirs,quiet,ro -network 192.168.33.0 -mask 255.255.255.0
/private -sec=krb5i
/secret -sec=krb5p
V4: /	-sec=krb5:krb5i:krb5p -network 131.104.48 -mask 255.255.255.0
V4: /	-sec=sys:krb5:krb5i:krb5p grumpy.cis.uoguelph.ca
</pre></div><p class=Pp>The file systems rooted at <span class=Pa>/usr</span> and <span class=Pa>/usr/local</span> are exported to hosts within the “friends” network group with users mapped to their remote credentials and root mapped to UID 0 and group 10. They are exported read-write and the hosts in “friends”.</p><p class=Pp>The file system rooted at <span class=Pa>/usr</span> is exported to <i class=Em>131.104.48.16</i> and <i class=Em>grumpy.cis.uoguelph.ca</i> with users mapped to their remote credentials and root mapped to the user and groups associated with “daemon”; it is exported to the rest of the world as read-only with all users mapped to the user and groups associated with “nobody”.</p><p class=Pp>The file system rooted at <span class=Pa>/u</span> is exported to all hosts on the subnetwork <i class=Em>131.104.48</i> with root mapped to the UID for “bin” and with no group access.</p><p class=Pp>The file system rooted at <span class=Pa>/u2</span> is exported to the hosts in “friends” with root mapped to UID and groups associated with “root”; it is exported to all hosts on network “cis-net” allowing mounts at any directory within /u2.</p><p class=Pp>The file system rooted at <span class=Pa>/a</span> is exported to the network 192.168.0.0, with a netmask of 255.255.255.0. However, the netmask length in the entry for <span class=Pa>/a</span> is not specified through a <code class=Fl>-mask</code> option, but through the <code class=Li>/</code><var class=Ar>prefix</var> notation.</p><p class=Pp>The file system rooted at <span class=Pa>/a</span> is also exported to the IPv6 network <code class=Li>3ffe:1ce1:1:fe80::</code> address, using the upper 64 bits as the prefix. Note that, unlike with IPv4 network addresses, the specified network address must be complete, and not just contain the upper bits. With IPv6 addresses, the <code class=Fl>-mask</code> option must not be used.</p><p class=Pp>The file system rooted at <span class=Pa>/cdrom</span> will be exported read-only to the entire network 192.168.33.0/24, including all its subdirectories. Since <span class=Pa>/cdrom</span> is the conventional mountpoint for a CD-ROM device, this export will fail if no CD-ROM medium is currently mounted there since that line would then attempt to export a subdirectory of the root file system with the <code class=Fl>-alldirs</code> option which is not allowed. The <code class=Fl>-quiet</code> option will then suppress the error message for this condition that would normally be syslogged. As soon as an actual CD-ROM is going to be mounted, <a class=Xr href=mount.8.html>mount(8)</a> will notify <a class=Xr href=mountd.8.html>mountd(8)</a> about this situation, and the <span class=Pa>/cdrom</span> file system will be exported as intended. Note that without using the <code class=Fl>-alldirs</code> option, the export would always succeed. While there is no CD-ROM medium mounted under <span class=Pa>/cdrom</span>, it would export the (normally empty) directory <span class=Pa>/cdrom</span> of the root file system instead.</p><p class=Pp>The file system rooted at <span class=Pa>/private</span> will be exported using Kerberos 5 authentication and will require integrity protected messages for all accesses. The file system rooted at <span class=Pa>/secret</span> will also be exported using Kerberos 5 authentication and all messages used to access it will be encrypted.</p><p class=Pp>For the experimental server, the NFSv4 tree is rooted at ``/'', and any client within the 131.104.48 subnet is permitted to perform NFSv4 state operations on the server, so long as valid Kerberos credentials are provided. The machine grumpy.cis.uoguelph.ca is permitted to perform NFSv4 state operations on the server using AUTH_SYS credentials, as well as Kerberos ones.</p><p class=Pp>In the following example some directories are exported as NFSv3 and NFSv4:</p><div class="Bd Pp Bd-indent"><pre>
V4: /wingsdl/nfsv4
/wingsdl/nfsv4/usr-ports -maproot=root -network 172.16.0.0 -mask 255.255.0.0
/wingsdl/nfsv4/clasper   -maproot=root clasper
</pre></div><p class=Pp>Only one V4: line is needed or allowed to declare where NFSv4 is rooted. The other lines declare specific exported directories with their absolute paths given in /etc/exports.</p><p class=Pp>The exported directories' paths are used for both v3 and v4. However, they are interpreted differently for v3 and v4. A client mount command for usr-ports would use the server-absolute name when using nfsv3:</p><div class="Bd Pp Bd-indent"><pre>
mount server:/wingsdl/nfsv4/usr-ports /mnt/tmp
</pre></div><p class=Pp>A mount command using NFSv4 would use the path relative to the NFSv4 root:</p><div class="Bd Pp Bd-indent"><pre>
mount server:/usr-ports /mnt/tmp
</pre></div><p class=Pp>This also differentiates which version you want if the client can do both v3 and v4. The former will only ever do a v3 mount and the latter will only ever do a v4 mount.</p><p class=Pp>Note that due to different mount behavior between NFSv3 and NFSv4 a NFSv4 mount request for a directory that the client does not have permission for will succeed and read/write access will fail afterwards, whereas NFSv3 rejects the mount request.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=nfsv4.4.html>nfsv4(4)</a>, <a class=Xr href=netgroup.5.html>netgroup(5)</a>, <a class=Xr href=mountd.8.html>mountd(8)</a>, <a class=Xr href=nfsd.8.html>nfsd(8)</a>, <a class=Xr href=rpc.tlsservd.8.html>rpc.tlsservd(8)</a>, <a class=Xr href=showmount.8.html>showmount(8)</a></section><section class=Sh><h2 class=Sh id=STANDARDS><a class=permalink href=#STANDARDS>STANDARDS</a></h2> The implementation is based on the following documents: <ul class=Bl-dash><li><cite class=Rs><span class=RsT>Network File System Protocol Specification, Appendix A, RFC 1094</span>.</cite></li><li><cite class=Rs><span class=RsT>NFS: Network File System Version 3, Appendix I, RFC 1813</span>.</cite></li><li><cite class=Rs><span class=RsT>Towards Remote Procedure Call Encryption By Default, RFC nnnn</span>.</cite></li></ul></section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> The export options are tied to the local mount points in the kernel and must be non-contradictory for any exported subdirectory of the local server mount point. It is recommended that all exported directories within the same server file system be specified on adjacent lines going down the tree. You cannot specify a hostname that is also the name of a netgroup. Specifying the full domain specification for a hostname can normally circumvent the problem. </section></div><table class=foot><tr><td class=foot-date>August 16, 2022</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>