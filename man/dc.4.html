<!DOCTYPE html>
<html><head><meta charset=utf-8><title>dc(4)</title><keywords content=man,dc></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>dc(4)</h1><table class=head><tr><td class=head-ltitle>DC(4)</td><td class=head-vol>FreeBSD Kernel Interfaces Manual</td><td class=head-rtitle>DC(4)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>dc</code> — <div class=Nd>DEC/Intel 21143 and clone 10/100 Ethernet driver</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2> To compile this driver into the kernel, place the following lines in your kernel configuration file: <div class="Bd Pp Bd-indent"><code class=Cd>device miibus</code><br><code class=Cd>device dc</code></div><p class=Pp>Alternatively, to load the driver as a module at boot time, place the following line in <a class=Xr href=loader.conf.5.html>loader.conf(5)</a>:</p><div class="Bd Pp Bd-indent"><pre>
if_dc_load="YES"
</pre></div></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>dc</code> driver provides support for several PCI Fast Ethernet adapters and embedded controllers based on the DEC/Intel 21143 chipset and clones. <p class=Pp>All of supported chipsets have the same general register layout, DMA descriptor format and method of operation. All of the clone chips are based on the 21143 design with various modifications. The 21143 itself has support for 10baseT, BNC, AUI, MII and symbol media attachments, 10 and 100Mbps speeds in full or half duplex, built in NWAY autonegotiation and wake on LAN. The 21143 also offers several receive filter programming options including perfect filtering, inverse perfect filtering and hash table filtering.</p><p class=Pp>Some clone chips duplicate the 21143 fairly closely while others only maintain superficial similarities. Some support only MII media attachments. Others use different receiver filter programming mechanisms. At least one supports only chained DMA descriptors (most support both chained descriptors and contiguously allocated fixed size rings). Some chips (especially the PNIC) also have peculiar bugs. The <code class=Nm>dc</code> driver does its best to provide generalized support for all of these chipsets in order to keep special case code to a minimum.</p><p class=Pp>These chips are used by many vendors which makes it difficult to provide a complete list of all supported cards.</p><p class=Pp>The <code class=Nm>dc</code> driver supports the following media types:</p><dl class=Bl-tag><dt><a class=permalink href=#autoselect><code class=Cm id=autoselect>autoselect</code></a></dt><dd>Enable autoselection of the media type and options. The user can manually override the autoselected mode by adding media options to the <span class=Pa>/etc/rc.conf</span> file. <p class=Pp>Note: the built-in NWAY autonegotiation on the original PNIC 82c168 chip is horribly broken and is not supported by the <code class=Nm>dc</code> driver at this time (see the <a class=Sx href=#BUGS>BUGS</a> section for details). The original 82c168 appears on very early revisions of the LinkSys LNE100TX and Matrox FastNIC.</p></dd><dt><a class=permalink href=#10baseT/UTP><code class=Cm id=10baseT/UTP>10baseT/UTP</code></a></dt><dd>Set 10Mbps operation. The <code class=Cm>mediaopt</code> option can also be used to enable <code class=Cm>full-duplex</code> operation. Not specifying <code class=Cm>full-duplex</code> implies <code class=Cm>half-duplex</code> mode.</dd><dt><a class=permalink href=#100baseTX><code class=Cm id=100baseTX>100baseTX</code></a></dt><dd>Set 100Mbps (Fast Ethernet) operation. The <code class=Cm>mediaopt</code> option can also be used to enable <code class=Cm>full-duplex</code> operation. Not specifying <code class=Cm>full-duplex</code> implies <code class=Cm>half-duplex</code> mode.</dd></dl><p class=Pp>The <code class=Nm>dc</code> driver supports the following media options:</p><dl class=Bl-tag><dt><a class=permalink href=#full-duplex><code class=Cm id=full-duplex>full-duplex</code></a></dt><dd>Force full duplex operation. The interface will operate in half duplex mode if this media option is not specified.</dd></dl><p class=Pp>Note that the 100baseTX media type may not be available on certain Intel 21143 adapters which support 10Mbps media attachments only. For more information on configuring this device, see <a class=Xr href=ifconfig.8.html>ifconfig(8)</a>.</p></section><section class=Sh><h2 class=Sh id=HARDWARE><a class=permalink href=#HARDWARE>HARDWARE</a></h2> The <code class=Nm>dc</code> driver provides support for the following chipsets: <p class=Pp></p><ul class="Bl-bullet Bl-compact"><li>DEC/Intel 21143</li><li>ADMtek AL981 Comet, AN985 Centaur, ADM9511 Centaur II and ADM9513 Centaur II</li><li>ALi/ULi M5261 and M5263</li><li>ASIX Electronics AX88140A and AX88141</li><li>Conexant LANfinity RS7112 (miniPCI)</li><li>Davicom DM9009, DM9100, DM9102 and DM9102A</li><li>Lite-On 82c168 and 82c169 PNIC</li><li>Lite-On/Macronix 82c115 PNIC II</li><li>Macronix 98713, 98713A, 98715, 98715A, 98715AEC-C, 98725, 98727 and 98732</li><li>Xircom X3201 (cardbus only)</li></ul><p class=Pp>The following NICs are known to work with the <code class=Nm>dc</code> driver at this time:</p><p class=Pp></p><ul class="Bl-bullet Bl-compact"><li>3Com OfficeConnect 10/100B (ADMtek AN985 Centaur-P)</li><li>Abocom FE2500</li><li>Accton EN1217 (98715A)</li><li>Accton EN2242 MiniPCI</li><li>Adico AE310TX (98715A)</li><li>Alfa Inc GFC2204 (ASIX AX88140A)</li><li>Built in 10Mbps only Ethernet on Compaq Presario 7900 series desktops (21143, non-MII)</li><li>Built in Ethernet on LinkSys EtherFast 10/100 Instant GigaDrive (DM9102, MII)</li><li>CNet Pro110B (ASIX AX88140A)</li><li>CNet Pro120A (98715A or 98713A) and CNet Pro120B (98715)</li><li>Compex RL100-TX (98713 or 98713A)</li><li>D-Link DFE-570TX (21143, MII, quad port)</li><li>Digital DE500-BA 10/100 (21143, non-MII)</li><li>ELECOM Laneed LD-CBL/TXA (ADMtek AN985)</li><li>Hawking CB102 CardBus</li><li>IBM EtherJet Cardbus Adapter</li><li>Intel PRO/100 Mobile Cardbus (versions that use the X3201 chipset)</li><li>Jaton XpressNet (Davicom DM9102)</li><li>Kingston KNE100TX (21143, MII)</li><li>Kingston KNE110TX (PNIC 82c169)</li><li>LinkSys LNE100TX (PNIC 82c168, 82c169)</li><li>LinkSys LNE100TX v2.0 (PNIC II 82c115)</li><li>LinkSys LNE100TX v4.0/4.1 (ADMtek AN985 Centaur-P)</li><li>Matrox FastNIC 10/100 (PNIC 82c168, 82c169)</li><li>Melco LGY-PCI-TXL</li><li>Microsoft MN-120 10/100 CardBus (ADMTek Centaur-C)</li><li>Microsoft MN-130 10/100 PCI (ADMTek Centaur-P)</li><li>NDC SOHOware SFA110A (98713A)</li><li>NDC SOHOware SFA110A Rev B4 (98715AEC-C)</li><li>NetGear FA310-TX Rev. D1, D2 or D3 (PNIC 82c169)</li><li>Netgear FA511</li><li>PlaneX FNW-3602-T (ADMtek AN985)</li><li>SMC EZ Card 10/100 1233A-TX (ADMtek AN985)</li><li>SVEC PN102-TX (98713)</li><li>Xircom Cardbus Realport</li><li>Xircom Cardbus Ethernet 10/100</li><li>Xircom Cardbus Ethernet II 10/100</li></ul></section><section class=Sh><h2 class=Sh id=DIAGNOSTICS><a class=permalink href=#DIAGNOSTICS>DIAGNOSTICS</a></h2><dl class=Bl-diag><dt>dc%d: couldn't map ports/memory</dt><dd>A fatal initialization error has occurred.</dd><dt>dc%d: couldn't map interrupt</dt><dd>A fatal initialization error has occurred.</dd><dt>dc%d: watchdog timeout</dt><dd>A packet was queued for transmission and a transmit command was issued, but the device failed to acknowledge the transmission before a timeout expired. This can happen if the device is unable to deliver interrupts for some reason, of if there is a problem with the network connection (cable or network equipment) that results in a loss of link.</dd><dt>dc%d: no memory for rx list</dt><dd>The driver failed to allocate an mbuf for the receiver ring.</dd><dt>dc%d: TX underrun -- increasing TX threshold</dt><dd>The device generated a transmit underrun error while attempting to DMA and transmit a packet. This happens if the host is not able to DMA the packet data into the NIC's FIFO fast enough. The driver will dynamically increase the transmit start threshold so that more data must be DMAed into the FIFO before the NIC will start transmitting it onto the wire.</dd><dt>dc%d: TX underrun -- using store and forward mode</dt><dd>The device continued to generate transmit underruns even after all possible transmit start threshold settings had been tried, so the driver programmed the chip for store and forward mode. In this mode, the NIC will not begin transmission until the entire packet has been transferred into its FIFO memory.</dd><dt>dc%d: chip is in D3 power state -- setting to D0</dt><dd>This message applies only to adapters which support power management. Some operating systems place the controller in low power mode when shutting down, and some PCI BIOSes fail to bring the chip out of this state before configuring it. The controller loses all of its PCI configuration in the D3 state, so if the BIOS does not set it back to full power mode in time, it will not be able to configure it correctly. The driver tries to detect this condition and bring the adapter back to the D0 (full power) state, but this may not be enough to return the driver to a fully operational condition. If you see this message at boot time and the driver fails to attach the device as a network interface, you will have to perform a second warm boot to have the device properly configured. <p class=Pp>Note that this condition only occurs when warm booting from another operating system. If you power down your system prior to booting <span class=Ux>FreeBSD</span>, the card should be configured correctly.</p></dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=altq.4.html>altq(4)</a>, <a class=Xr href=arp.4.html>arp(4)</a>, <a class=Xr href=miibus.4.html>miibus(4)</a>, <a class=Xr href=netintro.4.html>netintro(4)</a>, <a class=Xr href=ng_ether.4.html>ng_ether(4)</a>, <a class=Xr href=polling.4.html>polling(4)</a>, <a class=Xr href=vlan.4.html>vlan(4)</a>, <a class=Xr href=ifconfig.8.html>ifconfig(8)</a><p class=Pp><cite class=Rs><span class=RsT>ADMtek AL981, AL983 and AL985 data sheets</span>, <a class=RsU href=http://www.admtek.com.tw>http://www.admtek.com.tw</a>.</cite></p><p class=Pp><cite class=Rs><span class=RsT>ASIX Electronics AX88140A and AX88141 data sheets</span>, <a class=RsU href=http://www.asix.com.tw>http://www.asix.com.tw</a>.</cite></p><p class=Pp><cite class=Rs><span class=RsT>Davicom DM9102 data sheet</span>, <a class=RsU href=http://www.davicom.com.tw/userfile/24247/DM9102H-DS-F01-021508.pdf>http://www.davicom.com.tw/userfile/24247/DM9102H-DS-F01-021508.pdf</a>.</cite></p><p class=Pp><cite class=Rs><span class=RsT>Intel 21143 Hardware Reference Manual</span>, <a class=RsU href=http://developer.intel.com>http://developer.intel.com</a>.</cite></p><p class=Pp><cite class=Rs><span class=RsT>Macronix 98713/A, 98715/A and 98725 data sheets</span>, <a class=RsU href=http://www.macronix.com>http://www.macronix.com</a>.</cite></p><p class=Pp><cite class=Rs><span class=RsT>Macronix 98713/A and 98715/A app notes</span>, <a class=RsU href=http://www.macronix.com>http://www.macronix.com</a>.</cite></p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>dc</code> device driver first appeared in <span class=Ux>FreeBSD 4.0</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The <code class=Nm>dc</code> driver was written by <span class=An>Bill Paul</span> &lt;<a class=Mt href=mailto:wpaul@ee.columbia.edu>wpaul@ee.columbia.edu</a>&gt;. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> The Macronix application notes claim that in order to put the chips in normal operation, the driver must write a certain magic number into the CSR16 register. The numbers are documented in the app notes, but the exact meaning of the bits is not. <p class=Pp>The 98713A seems to have a problem with 10Mbps full duplex mode. The transmitter works but the receiver tends to produce many unexplained errors leading to very poor overall performance. The 98715A does not exhibit this problem. All other modes on the 98713A seem to work correctly.</p><p class=Pp>The original 82c168 PNIC chip has built in NWAY support which is used on certain early LinkSys LNE100TX and Matrox FastNIC cards, however it is horribly broken and difficult to use reliably. Consequently, autonegotiation is not currently supported for this chipset: the driver defaults the NIC to 10baseT half duplex, and it is up to the operator to manually select a different mode if necessary. (Later cards use an external MII transceiver to implement NWAY autonegotiation and work correctly.)</p><p class=Pp>The <code class=Nm>dc</code> driver programs 82c168 and 82c169 PNIC chips to use the store and forward setting for the transmit start threshold by default. This is to work around problems with some NIC/PCI bus combinations where the PNIC can transmit corrupt frames when operating at 100Mbps, probably due to PCI DMA burst transfer errors.</p><p class=Pp>The 82c168 and 82c169 PNIC chips also have a receiver bug that sometimes manifests during periods of heavy receive and transmit activity, where the chip will improperly DMA received frames to the host. The chips appear to upload several kilobytes of garbage data along with the received frame data, dirtying several RX buffers instead of just the expected one. The <code class=Nm>dc</code> driver detects this condition and will salvage the frame; however, it incurs a serious performance penalty in the process.</p><p class=Pp>The PNIC chips also sometimes generate a transmit underrun error when the driver attempts to download the receiver filter setup frame, which can result in the receive filter being incorrectly programmed. The <code class=Nm>dc</code> driver will watch for this condition and requeue the setup frame until it is transferred successfully.</p><p class=Pp>The ADMtek AL981 chip (and possibly the AN985 as well) has been observed to sometimes wedge on transmit: this appears to happen when the driver queues a sequence of frames which cause it to wrap from the end of the transmit descriptor ring back to the beginning. The <code class=Nm>dc</code> driver attempts to avoid this condition by not queuing any frames past the end of the transmit ring during a single invocation of the <code class=Fn>dc_start</code>() routine. This workaround has a negligible impact on transmit performance.</p></section></div><table class=foot><tr><td class=foot-date>December 26, 2020</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>