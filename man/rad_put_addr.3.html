<!DOCTYPE html>
<html><head><meta charset=utf-8><title>rad_put_addr(3)</title><keywords content=man,rad_put_addr></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>rad_put_addr(3)</h1><table class=head><tr><td class=head-ltitle>LIBRADIUS(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>LIBRADIUS(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>libradius</code> — <div class=Nd>RADIUS client/server library</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/radlib.h.html>radlib.h</a>&gt;</code><p class=Pp><var class=Ft>struct rad_handle *</var><br><code class=Fn>rad_acct_open</code>(<var class=Fa style="white-space: nowrap;">void</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_add_server</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">const char *host</var>, <var class=Fa style="white-space: nowrap;">int port</var>, <var class=Fa style="white-space: nowrap;">const char *secret</var>, <var class=Fa style="white-space: nowrap;">int timeout</var>, <var class=Fa style="white-space: nowrap;">int max_tries</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_add_server_ex</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">const char *host</var>, <var class=Fa style="white-space: nowrap;">int port</var>, <var class=Fa style="white-space: nowrap;">const char *secret</var>, <var class=Fa style="white-space: nowrap;">int timeout</var>, <var class=Fa style="white-space: nowrap;">int max_tries</var>, <var class=Fa style="white-space: nowrap;">int dead_time</var>, <var class=Fa style="white-space: nowrap;">struct in_addr *bindto</var>);</p><p class=Pp><var class=Ft>struct rad_handle *</var><br><code class=Fn>rad_auth_open</code>(<var class=Fa style="white-space: nowrap;">void</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>rad_close</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_config</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">const char *file</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_continue_send_request</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int selected</var>, <var class=Fa style="white-space: nowrap;">int *fd</var>, <var class=Fa style="white-space: nowrap;">struct timeval *tv</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_create_request</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int code</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_create_response</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int code</var>);</p><p class=Pp><var class=Ft>struct in_addr</var><br><code class=Fn>rad_cvt_addr</code>(<var class=Fa style="white-space: nowrap;">const void *data</var>);</p><p class=Pp><var class=Ft>uint32_t</var><br><code class=Fn>rad_cvt_int</code>(<var class=Fa style="white-space: nowrap;">const void *data</var>);</p><p class=Pp><var class=Ft>char *</var><br><code class=Fn>rad_cvt_string</code>(<var class=Fa style="white-space: nowrap;">const void *data</var>, <var class=Fa style="white-space: nowrap;">size_t len</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_get_attr</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">const void **data</var>, <var class=Fa style="white-space: nowrap;">size_t *len</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_get_vendor_attr</code>(<var class=Fa style="white-space: nowrap;">uint32_t *vendor</var>, <var class=Fa style="white-space: nowrap;">const void **data</var>, <var class=Fa style="white-space: nowrap;">size_t *len</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_init_send_request</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int *fd</var>, <var class=Fa style="white-space: nowrap;">struct timeval *tv</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_addr</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">struct in_addr addr</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_attr</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">const void *data</var>, <var class=Fa style="white-space: nowrap;">size_t len</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_int</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">uint32_t value</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_string</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">const char *str</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_message_authentic</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_vendor_addr</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int vendor</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">struct in_addr addr</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_vendor_attr</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int vendor</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">const void *data</var>, <var class=Fa style="white-space: nowrap;">size_t len</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_vendor_int</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int vendor</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">uint32_t value</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_put_vendor_string</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">int vendor</var>, <var class=Fa style="white-space: nowrap;">int type</var>, <var class=Fa style="white-space: nowrap;">const char *str</var>);</p><p class=Pp><var class=Ft>ssize_t</var><br><code class=Fn>rad_request_authenticator</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">char *buf</var>, <var class=Fa style="white-space: nowrap;">size_t len</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_receive_request</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_send_request</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>rad_send_response</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>);</p><p class=Pp><var class=Ft>struct rad_handle *</var><br><code class=Fn>rad_server_open</code>(<var class=Fa style="white-space: nowrap;">int fd</var>);</p><p class=Pp><var class=Ft>const char *</var><br><code class=Fn>rad_server_secret</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>rad_bind_to</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">in_addr_t addr</var>);</p><p class=Pp><var class=Ft>u_char *</var><br><code class=Fn>rad_demangle</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">const void *mangled</var>, <var class=Fa style="white-space: nowrap;">size_t mlen</var>);</p><p class=Pp><var class=Ft>u_char *</var><br><code class=Fn>rad_demangle_mppe_key</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>, <var class=Fa style="white-space: nowrap;">const void *mangled</var>, <var class=Fa style="white-space: nowrap;">size_t mlen</var>, <var class=Fa style="white-space: nowrap;">size_t *len</var>);</p><p class=Pp><var class=Ft>const char *</var><br><code class=Fn>rad_strerror</code>(<var class=Fa style="white-space: nowrap;">struct rad_handle *h</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>libradius</code> library implements the Remote Authentication Dial In User Service (RADIUS). RADIUS, defined in RFCs 2865 and 2866, allows clients to perform authentication and accounting by means of network requests to remote servers. <section class=Ss><h2 class=Ss id=Initialization><a class=permalink href=#Initialization>Initialization</a></h2> To use the library, an application must first call <code class=Fn>rad_auth_open</code>(), <code class=Fn>rad_acct_open</code>() or <code class=Fn>rad_server_open</code>() to obtain a <var class=Vt>struct rad_handle *</var>, which provides the context for subsequent operations. The former function is used for RADIUS authentication and the latter is used for RADIUS accounting. Calls to <code class=Fn>rad_auth_open</code>(), <code class=Fn>rad_acct_open</code>() and <code class=Fn>rad_server_open</code>() always succeed unless insufficient virtual memory is available. If the necessary memory cannot be allocated, the functions return <code class=Dv>NULL</code>. For compatibility with earlier versions of this library, <code class=Fn>rad_open</code>() is provided as a synonym for <code class=Fn>rad_auth_open</code>(). <p class=Pp>Before issuing any RADIUS requests, the library must be made aware of the servers it can contact. The easiest way to configure the library is to call <code class=Fn>rad_config</code>(). <code class=Fn>rad_config</code>() causes the library to read a configuration file whose format is described in <a class=Xr href=radius.conf.5.html>radius.conf(5)</a>. The pathname of the configuration file is passed as the <var class=Fa>file</var> argument to <code class=Fn>rad_config</code>(). This argument may also be given as <code class=Dv>NULL</code>, in which case the standard configuration file <span class=Pa>/etc/radius.conf</span> is used. <code class=Fn>rad_config</code>() returns 0 on success, or -1 if an error occurs.</p><p class=Pp>The library can also be configured programmatically by calls to <code class=Fn>rad_add_server</code>() or <code class=Fn>rad_add_server_ex</code>(). <code class=Fn>rad_add_server</code>() is a backward compatible function, implemented via <code class=Fn>rad_add_server_ex</code>(). The <var class=Fa>host</var> parameter specifies the server host, either as a fully qualified domain name or as a dotted-quad IP address in text form. The <var class=Fa>port</var> parameter specifies the UDP port to contact on the server. If <var class=Fa>port</var> is given as 0, the library looks up the ‘<code class=Li>radius/udp</code>’ or ‘<code class=Li>radacct/udp</code>’ service in the network <a class=Xr href=services.5.html>services(5)</a> database, and uses the port found there. If no entry is found, the library uses the standard RADIUS ports, 1812 for authentication and 1813 for accounting. The shared secret for the server host is passed to the <var class=Fa>secret</var> parameter. It may be any <code class=Dv>NUL</code>-terminated string of bytes. The RADIUS protocol ignores all but the leading 128 bytes of the shared secret. The timeout for receiving replies from the server is passed to the <var class=Fa>timeout</var> parameter, in units of seconds. The maximum number of repeated requests to make before giving up is passed into the <var class=Fa>max_tries</var> parameter. Time interval in seconds when the server will not be requested if it is marked as dead (did not answer on the last try) set with <var class=Fa>dead_time</var> parameter. <var class=Fa>bindto</var> parameter is an IP address on the multihomed host that is used as a source address for all requests. <code class=Fn>rad_add_server</code>() returns 0 on success, or -1 if an error occurs.</p><p class=Pp><code class=Fn>rad_add_server</code>() or <code class=Fn>rad_add_server_ex</code>() may be called multiple times, and they may be used together with <code class=Fn>rad_config</code>(). At most 10 servers may be specified. When multiple servers are given, they are tried in round-robin fashion until a valid response is received, or until each server's <var class=Fa>max_tries</var> limit has been reached.</p></section><section class=Ss><h2 class=Ss id=Creating_a_RADIUS_Request><a class=permalink href=#Creating_a_RADIUS_Request>Creating a RADIUS Request</a></h2> A RADIUS request consists of a code specifying the kind of request, and zero or more attributes which provide additional information. To begin constructing a new request, call <code class=Fn>rad_create_request</code>(). In addition to the usual <var class=Vt>struct rad_handle *</var>, this function takes a <var class=Fa>code</var> parameter which specifies the type of the request. Most often this will be <code class=Dv>RAD_ACCESS_REQUEST</code>. <code class=Fn>rad_create_request</code>() returns 0 on success, or -1 on if an error occurs. <p class=Pp>After the request has been created with <code class=Fn>rad_create_request</code>(), attributes can be attached to it. This is done through calls to <code class=Fn>rad_put_addr</code>(), <code class=Fn>rad_put_int</code>(), and <code class=Fn>rad_put_string</code>(). Each accepts a <var class=Fa>type</var> parameter identifying the attribute, and a value which may be an Internet address, an integer, or a <code class=Dv>NUL</code>-terminated string, respectively. Alternatively, <code class=Fn>rad_put_vendor_addr</code>(), <code class=Fn>rad_put_vendor_int</code>() or <code class=Fn>rad_put_vendor_string</code>() may be used to specify vendor specific attributes. Vendor specific definitions may be found in <code class=In>&lt;<a class=In href=../src/radlib_vs.h.html>radlib_vs.h</a>&gt;</code></p><p class=Pp>The library also provides a function <code class=Fn>rad_put_attr</code>() which can be used to supply a raw, uninterpreted attribute. The <var class=Fa>data</var> argument points to an array of bytes, and the <var class=Fa>len</var> argument specifies its length.</p><p class=Pp>It is possible adding the Message-Authenticator to the request. This is an HMAC-MD5 hash of the entire Access-Request packet (see RFC 3579). This attribute must be present in any packet that includes an EAP-Message attribute. It can be added by using the <code class=Fn>rad_put_message_authentic</code>() function. The <code class=Nm>libradius</code> library calculates the HMAC-MD5 hash implicitly before sending the request. If the Message-Authenticator was found inside the response packet, then the packet is silently dropped, if the validation failed. In order to get this feature, the library should be compiled with OpenSSL support.</p><p class=Pp>The <code class=Fn>rad_put_X</code>() functions return 0 on success, or -1 if an error occurs.</p></section><section class=Ss><h2 class=Ss id=Sending_the_Request_and_Receiving_the_Response><a class=permalink href=#Sending_the_Request_and_Receiving_the_Response>Sending the Request and Receiving the Response</a></h2> After the RADIUS request has been constructed, it is sent either by means of <code class=Fn>rad_send_request</code>() or by a combination of calls to <code class=Fn>rad_init_send_request</code>() and <code class=Fn>rad_continue_send_request</code>(). <p class=Pp>The <code class=Fn>rad_send_request</code>() function sends the request and waits for a valid reply, retrying the defined servers in round-robin fashion as necessary. If a valid response is received, <code class=Fn>rad_send_request</code>() returns the RADIUS code which specifies the type of the response. This will typically be <code class=Dv>RAD_ACCESS_ACCEPT</code>, <code class=Dv>RAD_ACCESS_REJECT</code>, or <code class=Dv>RAD_ACCESS_CHALLENGE</code>. If no valid response is received, <code class=Fn>rad_send_request</code>() returns -1.</p><p class=Pp>As an alternative, if you do not wish to block waiting for a response, <code class=Fn>rad_init_send_request</code>() and <code class=Fn>rad_continue_send_request</code>() may be used instead. If a reply is received from the RADIUS server or a timeout occurs, these functions return a value as described for <code class=Fn>rad_send_request</code>(). Otherwise, a value of zero is returned and the values pointed to by <var class=Fa>fd</var> and <var class=Fa>tv</var> are set to the descriptor and timeout that should be passed to <a class=Xr href=select.2.html>select(2)</a>.</p><p class=Pp><code class=Fn>rad_init_send_request</code>() must be called first, followed by repeated calls to <code class=Fn>rad_continue_send_request</code>() as long as a return value of zero is given. Between each call, the application should call <a class=Xr href=select.2.html>select(2)</a>, passing <var class=Fa>*fd</var> as a read descriptor and timing out after the interval specified by <var class=Fa>tv</var>. When <a class=Xr href=select.2.html>select(2)</a> returns, <code class=Fn>rad_continue_send_request</code>() should be called with <var class=Fa>selected</var> set to a non-zero value if <a class=Xr href=select.2.html>select(2)</a> indicated that the descriptor is readable.</p><p class=Pp>Like RADIUS requests, each response may contain zero or more attributes. After a response has been received successfully by <code class=Fn>rad_send_request</code>() or <code class=Fn>rad_continue_send_request</code>(), its attributes can be extracted one by one using <code class=Fn>rad_get_attr</code>(). Each time <code class=Fn>rad_get_attr</code>() is called, it gets the next attribute from the current response, and stores a pointer to the data and the length of the data via the reference parameters <var class=Fa>data</var> and <var class=Fa>len</var>, respectively. Note that the data resides in the response itself, and must not be modified. A successful call to <code class=Fn>rad_get_attr</code>() returns the RADIUS attribute type. If no more attributes remain in the current response, <code class=Fn>rad_get_attr</code>() returns 0. If an error such as a malformed attribute is detected, -1 is returned.</p><p class=Pp>If <code class=Fn>rad_get_attr</code>() returns <code class=Dv>RAD_VENDOR_SPECIFIC</code>, <code class=Fn>rad_get_vendor_attr</code>() may be called to determine the vendor. The vendor specific RADIUS attribute type is returned. The reference parameters <var class=Fa>data</var> and <var class=Fa>len</var> (as returned from <code class=Fn>rad_get_attr</code>()) are passed to <code class=Fn>rad_get_vendor_attr</code>(), and are adjusted to point to the vendor specific attribute data.</p><p class=Pp>The common types of attributes can be decoded using <code class=Fn>rad_cvt_addr</code>(), <code class=Fn>rad_cvt_int</code>(), and <code class=Fn>rad_cvt_string</code>(). These functions accept a pointer to the attribute data, which should have been obtained using <code class=Fn>rad_get_attr</code>() and optionally <code class=Fn>rad_get_vendor_attr</code>(). In the case of <code class=Fn>rad_cvt_string</code>(), the length <var class=Fa>len</var> must also be given. These functions interpret the attribute as an Internet address, an integer, or a string, respectively, and return its value. <code class=Fn>rad_cvt_string</code>() returns its value as a <code class=Dv>NUL</code>-terminated string in dynamically allocated memory. The application should free the string using <a class=Xr href=free.3.html>free(3)</a> when it is no longer needed.</p><p class=Pp>If insufficient virtual memory is available, <code class=Fn>rad_cvt_string</code>() returns <code class=Dv>NULL</code>. <code class=Fn>rad_cvt_addr</code>() and <code class=Fn>rad_cvt_int</code>() cannot fail.</p><p class=Pp>The <code class=Fn>rad_request_authenticator</code>() function may be used to obtain the Request-Authenticator attribute value associated with the current RADIUS server according to the supplied rad_handle. The target buffer <var class=Fa>buf</var> of length <var class=Fa>len</var> must be supplied and should be at least 16 bytes. The return value is the number of bytes written to <var class=Fa>buf</var> or -1 to indicate that <var class=Fa>len</var> was not large enough.</p><p class=Pp>The <code class=Fn>rad_server_secret</code>() returns the secret shared with the current RADIUS server according to the supplied rad_handle.</p><p class=Pp>The <code class=Fn>rad_bind_to</code>() assigns a source address for all requests to the current RADIUS server.</p><p class=Pp>The <code class=Fn>rad_demangle</code>() function demangles attributes containing passwords and MS-CHAPv1 MPPE-Keys. The return value is <code class=Dv>NULL</code> on failure, or the plaintext attribute. This value should be freed using <a class=Xr href=free.3.html>free(3)</a> when it is no longer needed.</p><p class=Pp>The <code class=Fn>rad_demangle_mppe_key</code>() function demangles the send- and recv-keys when using MPPE (see RFC 2548). The return value is <code class=Dv>NULL</code> on failure, or the plaintext attribute. This value should be freed using <a class=Xr href=free.3.html>free(3)</a> when it is no longer needed.</p></section><section class=Ss><h2 class=Ss id=Obtaining_Error_Messages><a class=permalink href=#Obtaining_Error_Messages>Obtaining Error Messages</a></h2> Those functions which accept a <var class=Vt>struct rad_handle *</var> argument record an error message if they fail. The error message can be retrieved by calling <code class=Fn>rad_strerror</code>(). The message text is overwritten on each new error for the given <var class=Vt>struct rad_handle *</var>. Thus the message must be copied if it is to be preserved through subsequent library calls using the same handle. </section><section class=Ss><h2 class=Ss id=Cleanup><a class=permalink href=#Cleanup>Cleanup</a></h2> To free the resources used by the RADIUS library, call <code class=Fn>rad_close</code>(). </section><section class=Ss><h2 class=Ss id=Server_operation><a class=permalink href=#Server_operation>Server operation</a></h2> Server mode operates much alike to client mode, except packet send and receive steps are swapped. To operate as server you should obtain server context with <code class=Fn>rad_server_open</code>() function, passing opened and bound UDP socket file descriptor as argument. You should define allowed clients and their secrets using <code class=Fn>rad_add_server</code>() function. port, timeout and max_tries arguments are ignored in server mode. You should call <code class=Fn>rad_receive_request</code>() function to receive request from client. If you do not want to block on socket read, you are free to use any poll(), select() or non-blocking sockets for the socket. Received request can be parsed with same parsing functions as for client. To respond to the request you should call <code class=Fn>rad_create_response</code>() and fill response content with same packet writing functions as for client. When packet is ready, it should be sent with <code class=Fn>rad_send_response</code>(). </section></section><section class=Sh><h2 class=Sh id=RETURN_VALUES><a class=permalink href=#RETURN_VALUES>RETURN VALUES</a></h2> The following functions return a non-negative value on success. If they detect an error, they return -1 and record an error message which can be retrieved using <code class=Fn>rad_strerror</code>(). <p class=Pp></p><ul class="Bl-item Bd-indent Bl-compact"><li><code class=Fn>rad_add_server</code>()</li><li><code class=Fn>rad_config</code>()</li><li><code class=Fn>rad_create_request</code>()</li><li><code class=Fn>rad_create_response</code>()</li><li><code class=Fn>rad_get_attr</code>()</li><li><code class=Fn>rad_put_addr</code>()</li><li><code class=Fn>rad_put_attr</code>()</li><li><code class=Fn>rad_put_int</code>()</li><li><code class=Fn>rad_put_string</code>()</li><li><code class=Fn>rad_put_message_authentic</code>()</li><li><code class=Fn>rad_init_send_request</code>()</li><li><code class=Fn>rad_continue_send_request</code>()</li><li><code class=Fn>rad_send_request</code>()</li><li><code class=Fn>rad_send_response</code>()</li></ul><p class=Pp>The following functions return a <span class=No>non-</span><code class=Dv>NULL</code> pointer on success. If they are unable to allocate sufficient virtual memory, they return <code class=Dv>NULL</code>, without recording an error message.</p><p class=Pp></p><ul class="Bl-item Bd-indent Bl-compact"><li><code class=Fn>rad_acct_open</code>()</li><li><code class=Fn>rad_auth_open</code>()</li><li><code class=Fn>rad_server_open</code>()</li><li><code class=Fn>rad_cvt_string</code>()</li></ul><p class=Pp>The following functions return a <span class=No>non-</span><code class=Dv>NULL</code> pointer on success. If they fail, they return <code class=Dv>NULL</code>, with recording an error message.</p><p class=Pp></p><ul class="Bl-item Bd-indent Bl-compact"><li><code class=Fn>rad_demangle</code>()</li><li><code class=Fn>rad_demangle_mppe_key</code>()</li></ul></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class=Bl-tag><dt><span class=Pa>/etc/radius.conf</span></dt><dd style="width: auto;"> </dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=radius.conf.5.html>radius.conf(5)</a><p class=Pp><cite class=Rs><span class=RsA>C. Rigney, et al</span>, <span class=RsT>Remote Authentication Dial In User Service (RADIUS)</span>, <span class=RsO>RFC 2865</span>.</cite></p><p class=Pp><cite class=Rs><span class=RsA>C. Rigney</span>, <span class=RsT>RADIUS Accounting</span>, <span class=RsO>RFC 2866</span>.</cite></p><p class=Pp><cite class=Rs><span class=RsA>G. Zorn</span>, <span class=RsT>Microsoft Vendor-specific RADIUS attributes</span>, <span class=RsO>RFC 2548</span>.</cite></p><p class=Pp><cite class=Rs><span class=RsA>C. Rigney, et al</span>, <span class=RsT>RADIUS extensions</span>, <span class=RsO>RFC 2869</span>.</cite></p></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> This software was originally written by <span class=An>John Polstra</span>, and donated to the <span class=Ux>FreeBSD</span> project by Juniper Networks, Inc. <span class=An>Oleg Semyonov</span> subsequently added the ability to perform RADIUS accounting. Later additions and changes by <span class=An>Michael Bretterklieber</span>. Server mode support was added by <span class=An>Alexander Motin</span>. </section></div><table class=foot><tr><td class=foot-date>August 5, 2009</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>