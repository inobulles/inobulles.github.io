<!DOCTYPE html>
<html><head><meta charset=utf-8><title>mount_fusefs(8)</title><keywords content=man,mount_fusefs></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>mount_fusefs(8)</h1><table class=head><tr><td class=head-ltitle>MOUNT_FUSEFS(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>MOUNT_FUSEFS(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>mount_fusefs</code> — <div class=Nd>mount a Fuse file system daemon</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>mount_fusefs</code></td><td>[<code class=Fl>-A</code>] [<code class=Fl>-S</code>] [<code class=Fl>-v</code>] [<code class=Fl>-D</code><var class=Ar>fuse_daemon</var>] [<code class=Fl>-O</code><var class=Ar>daemon_opts</var>] [<code class=Fl>-s</code><var class=Ar>special</var>] [<code class=Fl>-m</code><var class=Ar>node</var>] [<code class=Fl>-h</code>] [<code class=Fl>-V</code>] [<code class=Fl>-o</code><var class=Ar>option ...</var>] <var class=Ar>special node</var> [<var class=Ar>fuse_daemon ...</var>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> Basic usage is to start a fuse daemon on the given <var class=Ar>special</var> file. In practice, the daemon is assigned a <var class=Ar>special</var> file automatically, which can then be identified via <a class=Xr href=fstat.1.html>fstat(1)</a>. That special file can then be mounted by <code class=Nm>mount_fusefs</code>. <p class=Pp>However, the procedure of spawning a daemon will usually be automated so that it is performed by <code class=Nm>mount_fusefs</code>. If the command invoking a given <var class=Ar>fuse_daemon</var> is appended to the list of arguments, <code class=Nm>mount_fusefs</code> will call the <var class=Ar>fuse_daemon</var> via that command. In that way the <var class=Ar>fuse_daemon</var> will be instructed to attach itself to <var class=Ar>special</var>. From that on mounting goes as in the simple case. (See <a class=Sx href=#DAEMON_MOUNTS>DAEMON MOUNTS</a>.)</p><p class=Pp>The <var class=Ar>special</var> argument will normally be treated as the path of the special file to mount.</p><p class=Pp>However, if <span class=Pa>auto</span> is passed as <var class=Ar>special</var>, then <code class=Nm>mount_fusefs</code> will look for a suitable free fuse device by itself.</p><p class=Pp>Finally, if <var class=Ar>special</var> is an integer it will be interpreted as the number of the file descriptor of an already open fuse device (used when the Fuse library invokes <code class=Nm>mount_fusefs</code>. See <a class=Sx href=#DAEMON_MOUNTS>DAEMON MOUNTS</a>).</p><p class=Pp>The options are as follows:</p><dl class=Bl-tag><dt><a class=permalink href=#A><code class=Fl id=A>-A</code></a>, <code class=Ic>--reject-allow_other</code></dt><dd>Prohibit the <code class=Cm>allow_other</code> mount flag. Intended for use in scripts and the <a class=Xr href=sudoers.5.html>sudoers(5)</a> (<span class=Pa>ports/security/sudo</span>) file.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a>, <code class=Ic>--safe</code></dt><dd>Run in safe mode (i.e., reject invoking a filesystem daemon).</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a></dt><dd>Be verbose.</dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a>, <code class=Ic>--daemon</code><var class=Ar>daemon</var></dt><dd>Call the specified <var class=Ar>daemon</var>.</dd><dt><a class=permalink href=#O><code class=Fl id=O>-O</code></a>, <code class=Ic>--daemon_opts</code><var class=Ar>opts</var></dt><dd>Add <var class=Ar>opts</var> to the daemon's command line.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a>, <code class=Ic>--special</code><var class=Ar>special</var></dt><dd>Use <var class=Ar>special</var> as special.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a>, <code class=Ic>--mountpath</code><var class=Ar>node</var></dt><dd>Mount on <var class=Ar>node</var>.</dd><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a>, <code class=Ic>--help</code></dt><dd>Show help.</dd><dt><a class=permalink href=#V><code class=Fl id=V>-V</code></a>, <code class=Ic>--version</code></dt><dd>Show version information.</dd><dt><a class=permalink href=#o><code class=Fl id=o>-o</code></a></dt><dd>Mount options are specified via <code class=Fl>-o</code>. The following options are available (and also their negated versions, by prefixing them with “no”): <dl class=Bl-tag><dt><a class=permalink href=#allow_other><code class=Cm id=allow_other>allow_other</code></a></dt><dd>Do not apply <a class=Sx href=#STRICT_ACCESS_POLICY>STRICT ACCESS POLICY</a>. Only root can use this option.</dd><dt><a class=permalink href=#async><code class=Cm id=async>async</code></a></dt><dd>I/O to the file system may be done asynchronously. Writes may be delayed and/or reordered.</dd><dt><a class=permalink href=#default_permissions><code class=Cm id=default_permissions>default_permissions</code></a></dt><dd>Enable traditional (file mode based) permission checking in kernel.</dd><dt><a class=permalink href=#intr><code class=Cm id=intr>intr</code></a></dt><dd>Allow signals to interrupt operations that are blocked waiting for a reply from the server. When this option is in use, system calls may fail with <code class=Er>EINTR</code> whenever a signal is received.</dd><dt><a class=permalink href=#max_read><code class=Cm id=max_read>max_read</code></a>=<var class=Ar>n</var></dt><dd>Limit size of read requests to <var class=Ar>n</var>.</dd><dt><a class=permalink href=#neglect_shares><code class=Cm id=neglect_shares>neglect_shares</code></a></dt><dd>Do not refuse unmounting if there are secondary mounts.</dd><dt><a class=permalink href=#private><code class=Cm id=private>private</code></a></dt><dd>Refuse shared mounting of the daemon. This is the default behaviour, to allow sharing, explicitly use <code class=Fl>-o</code><code class=Cm>noprivate</code>.</dd><dt><a class=permalink href=#push_symlinks_in><code class=Cm id=push_symlinks_in>push_symlinks_in</code></a></dt><dd>Prefix absolute symlinks with the mountpoint.</dd><dt><a class=permalink href=#subtype><code class=Cm id=subtype>subtype</code></a>=<var class=Ar>fsname</var></dt><dd>Suffix <var class=Ar>fsname</var> to the file system name as reported by <a class=Xr href=statfs.2.html>statfs(2)</a>. This option can be used to identify the file system implemented by <var class=Ar>fuse_daemon</var>.</dd></dl></dd></dl><p class=Pp>Besides the above mount options, there is a set of pseudo-mount options which are supported by the Fuse library. One can list these by passing <code class=Fl>-h</code> to a Fuse daemon. Most of these options only have effect on the behavior of the daemon (that is, their scope is limited to userspace). However, there are some which do require in-kernel support. Currently the options supported by the kernel are:</p><dl class=Bl-tag><dt><a class=permalink href=#direct_io><code class=Cm id=direct_io>direct_io</code></a></dt><dd>Bypass the buffer cache system.</dd><dt><a class=permalink href=#kernel_cache><code class=Cm id=kernel_cache>kernel_cache</code></a></dt><dd>By default cached buffers of a given file are flushed at each <a class=Xr href=open.2.html>open(2)</a>. This option disables this behaviour.</dd></dl></section><section class=Sh><h2 class=Sh id=DAEMON_MOUNTS><a class=permalink href=#DAEMON_MOUNTS>DAEMON MOUNTS</a></h2> Usually users do not need to use <code class=Nm>mount_fusefs</code> directly, as the Fuse library enables Fuse daemons to invoke <code class=Nm>mount_fusefs</code>. That is, <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>fuse_daemon device mountpoint</code></div><p class=Pp>has the same effect as</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mount_fusefs auto mountpoint fuse_daemon</code></div><p class=Pp>This is the recommended usage when you want basic usage (eg, run the daemon at a low privilege level but mount it as root).</p></section><section class=Sh><h2 class=Sh id=STRICT_ACCESS_POLICY><a class=permalink href=#STRICT_ACCESS_POLICY>STRICT ACCESS POLICY</a></h2> The strict access policy for Fuse filesystems lets one use the filesystem only if the filesystem daemon has the same credentials (uid, real uid, gid, real gid) as the user. <p class=Pp>This is applied for Fuse mounts by default and only root can mount without the strict access policy (i.e., the <code class=Cm>allow_other</code> mount option).</p><p class=Pp>This is to shield users from the daemon “spying” on their I/O activities.</p><p class=Pp>Users might opt to willingly relax strict access policy (as far as they are concerned) by doing their own secondary mount (See <a class=Sx href=#SHARED_MOUNTS>SHARED MOUNTS</a>).</p></section><section class=Sh><h2 class=Sh id=SHARED_MOUNTS><a class=permalink href=#SHARED_MOUNTS>SHARED MOUNTS</a></h2> A Fuse daemon can be shared (i.e., mounted multiple times). When doing the first (primary) mount, the spawner and the mounter of the daemon must have the same uid, or the mounter should be the superuser. <p class=Pp>After the primary mount is in place, secondary mounts can be done by anyone unless this feature is disabled by <code class=Cm>private</code>. The behaviour of a secondary mount is analogous to that of symbolic links: they redirect all filesystem operations to the primary mount.</p><p class=Pp>Doing a secondary mount is like signing an agreement: by this action, the mounter agrees that the Fuse daemon can trace her I/O activities. From then on she is not banned from using the filesystem (either via her own mount or via the primary mount), regardless whether <code class=Cm>allow_other</code> is used or not.</p><p class=Pp>The device name of a secondary mount is the device name of the corresponding primary mount, followed by a '#' character and the index of the secondary mount; e.g., <span class=Pa>/dev/fuse0#3</span>.</p></section><section class=Sh><h2 class=Sh id=SECURITY><a class=permalink href=#SECURITY>SECURITY</a></h2> System administrators might want to use a custom mount policy (ie., one going beyond the <var class=Va>vfs.usermount</var> sysctl). The primary tool for such purposes is <a class=Xr href=sudo.8.html>sudo(8)</a> (<span class=Pa>ports/security/sudo</span>). However, given that <code class=Nm>mount_fusefs</code> is capable of invoking an arbitrary program, one must be careful when doing this. <code class=Nm>mount_fusefs</code> is designed in a way such that it makes that easy. For this purpose, there are options which disable certain risky features (<code class=Fl>-S</code> and <code class=Fl>-A</code>), and command line parsing is done in a flexible way: mixing options and non-options is allowed, but processing them stops at the third non-option argument (after the first two have been utilized as device and mountpoint). The rest of the command line specifies the daemon and its arguments. (Alternatively, the daemon, the special and the mount path can be specified using the respective options.) Note that <code class=Nm>mount_fusefs</code> ignores the environment variable <code class=Ev>POSIXLY_CORRECT</code> and always behaves as described. <p class=Pp>In general, to be as scripting / <a class=Xr href=sudoers.5.html>sudoers(5)</a> (<span class=Pa>ports/security/sudo</span>) friendly as possible, no information has a fixed position in the command line, but once a given piece of information is provided, subsequent arguments/options cannot override it (with the exception of some non-critical ones).</p></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2><dl class=Bl-tag><dt><a class=permalink href=#MOUNT_FUSEFS_SAFE><code class=Ev id=MOUNT_FUSEFS_SAFE>MOUNT_FUSEFS_SAFE</code></a></dt><dd>This has the same effect as the <code class=Fl>-S</code> option.</dd><dt><a class=permalink href=#MOUNT_FUSEFS_VERBOSE><code class=Ev id=MOUNT_FUSEFS_VERBOSE>MOUNT_FUSEFS_VERBOSE</code></a></dt><dd>This has the same effect as the <code class=Fl>-v</code> option.</dd><dt><a class=permalink href=#MOUNT_FUSEFS_IGNORE_UNKNOWN><code class=Ev id=MOUNT_FUSEFS_IGNORE_UNKNOWN>MOUNT_FUSEFS_IGNORE_UNKNOWN</code></a></dt><dd>If set, <code class=Nm>mount_fusefs</code> will ignore unknown mount options.</dd><dt><a class=permalink href=#MOUNT_FUSEFS_CALL_BY_LIB><code class=Ev id=MOUNT_FUSEFS_CALL_BY_LIB>MOUNT_FUSEFS_CALL_BY_LIB</code></a></dt><dd>Adjust behavior to the needs of the FUSE library. Currently it effects help output.</dd></dl><p class=Pp>Although the following variables do not have any effect on <code class=Nm>mount_fusefs</code> itself, they affect the behaviour of fuse daemons:</p><dl class=Bl-tag><dt><a class=permalink href=#FUSE_DEV_NAME><code class=Ev id=FUSE_DEV_NAME>FUSE_DEV_NAME</code></a></dt><dd>Device to attach. If not set, the multiplexer path <var class=Ar>/dev/fuse</var> is used.</dd><dt><a class=permalink href=#FUSE_DEV_FD><code class=Ev id=FUSE_DEV_FD>FUSE_DEV_FD</code></a></dt><dd>File descriptor of an opened Fuse device to use. Overrides <code class=Ev>FUSE_DEV_NAME</code>.</dd><dt><a class=permalink href=#FUSE_NO_MOUNT><code class=Ev id=FUSE_NO_MOUNT>FUSE_NO_MOUNT</code></a></dt><dd>If set, the library will not attempt to mount the filesystem, even if a mountpoint argument is supplied.</dd></dl></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class=Bl-tag><dt><span class=Pa>/dev/fuse</span></dt><dd>Fuse device with which the kernel and Fuse daemons can communicate.</dd><dt><span class=Pa>/dev/fuse</span></dt><dd>The multiplexer path. An <a class=Xr href=open.2.html>open(2)</a> performed on it automatically is passed to a free Fuse device by the kernel (which might be created just for this puprose).</dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> Mount the example filesystem in the Fuse distribution (from its directory): either <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>./fusexmp /mnt/fuse</code></div><p class=Pp>or</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mount_fusefs auto /mnt/fuse ./fusexmp</code></div><p class=Pp>Doing the same in two steps, using <span class=Pa>/dev/fuse0</span>:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>FUSE_DEV_NAME=/dev/fuse ./fusexmp &amp;&amp;</code></div><div class="Bd Bd-indent"><code class=Li>mount_fusefs /dev/fuse /mnt/fuse</code></div><p class=Pp>A script wrapper for fusexmp which ensures that <code class=Nm>mount_fusefs</code> does not call any external utility and also provides a hacky (non race-free) automatic device selection:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>#!/bin/sh -e</code></div><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>FUSE_DEV_NAME=/dev/fuse fusexmp</code></div><div class="Bd Bd-indent"><code class=Li>mount_fusefs -S /dev/fuse /mnt/fuse “$@”</code></div></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=fstat.1.html>fstat(1)</a>, <a class=Xr href=mount.8.html>mount(8)</a>, <a class=Xr href=sudo.8.html>sudo(8)</a> (<span class=Pa>ports/security/sudo</span>), <a class=Xr href=umount.8.html>umount(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2><code class=Nm>mount_fusefs</code> was written as the part of the <span class=Ux>FreeBSD</span> implementation of the Fuse userspace filesystem framework (see <a class=Lk href=https://github.com/libfuse/libfuse>https://github.com/libfuse/libfuse</a>) and first appeared in the <span class=Pa>sysutils/fusefs-kmod</span> port, supporting <span class=Ux>FreeBSD 6.0</span>. It was added to the base system in <span class=Ux>FreeBSD 10.0</span>. </section><section class=Sh><h2 class=Sh id=CAVEATS><a class=permalink href=#CAVEATS>CAVEATS</a></h2> This user interface is <span class=Ux>FreeBSD</span> specific. Secondary mounts should be unmounted via their device name. If an attempt is made to unmount them via their filesystem root path, the unmount request will be forwarded to the primary mount path. In general, unmounting by device name is less error-prone than by mount path (although the latter will also work under normal circumstances). <p class=Pp>If the daemon is specified via the <code class=Fl>-D</code> and <code class=Fl>-O</code> options, it will be invoked via <a class=Xr href=system.3.html>system(3)</a>, and the daemon's command line will also have an “&amp;” control operator appended, so that we do not have to wait for its termination. You should use a simple command line when invoking the daemon via these options.</p></section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2><var class=Ar>special</var> is treated as a multiplexer if and only if it is literally the same as <span class=Pa>auto</span> or <span class=Pa>/dev/fuse</span>. Other paths which are equivalent with <span class=Pa>/dev/fuse</span> (eg., <span class=Pa>/../dev/fuse</span>) are not. </section></div><table class=foot><tr><td class=foot-date>October 9, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>