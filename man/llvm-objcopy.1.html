<!DOCTYPE html>
<html><head><meta charset=utf-8><title>llvm-objcopy(1)</title><keywords content=man,llvm-objcopy></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>llvm-objcopy(1)</h1><table class=head><tr><td class=head-ltitle>LLVM-OBJCOPY(1)</td><td class=head-vol>LLVM</td><td class=head-rtitle>LLVM-OBJCOPY(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2> llvm-objcopy - object copying and editing tool </section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><b>llvm-objcopy</b> [<i>options</i>] <i>input</i> [<i>output</i>] </section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><b>llvm-objcopy</b> is a tool to copy and manipulate objects. In basic usage, it makes a semantic copy of the input to the output. If any options are specified, the output may be modified along the way, e.g. by removing sections. <p class=Pp>If no output file is specified, the input file is modified in-place. If "-" is specified for the input file, the input is read from the program's standard input stream. If "-" is specified for the output file, the output is written to the standard output stream of the program.</p><p class=Pp>If the input is an archive, any requested operations will be applied to each archive member individually.</p><p class=Pp>The tool is still in active development, but in most scenarios it works as a drop-in replacement for GNU's <b>objcopy</b>.</p></section><section class=Sh><h2 class=Sh id=GENERIC_AND_CROSS-PLATFORM_OPTIONS><a class=permalink href=#GENERIC_AND_CROSS-PLATFORM_OPTIONS>GENERIC AND CROSS-PLATFORM OPTIONS</a></h2> The following options are either agnostic of the file format, or apply to multiple file formats. <div class=Bd-indent><dl class=Bl-tag><dt><b>--add-gnu-debuglink &lt;debug-file&gt;</b></dt><dd>Add a .gnu_debuglink section for <b>&lt;debug-file&gt;</b> to the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--add-section &lt;section=file&gt;</b></dt><dd>Add a section named <b>&lt;section&gt;</b> with the contents of <b>&lt;file&gt;</b> to the output. For ELF objects the section will be of type <i>SHT_NOTE</i>, if the name starts with ".note". Otherwise, it will have type <i>SHT_PROGBITS</i>. Can be specified multiple times to add multiple sections. <p class=Pp>For MachO objects, <b>&lt;section&gt;</b> must be formatted as <b>&lt;segment name&gt;,&lt;section name&gt;</b>.</p></dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--binary-architecture &lt;arch&gt;, -B</b></dt><dd>Ignored for compatibility.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--disable-deterministic-archives, -U</b></dt><dd>Use real values for UIDs, GIDs and timestamps when updating archive member headers.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--discard-all, -x</b></dt><dd>Remove most local symbols from the output. Different file formats may limit this to a subset of the local symbols. For example, file and section symbols in ELF objects will not be discarded.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--dump-section &lt;section&gt;=&lt;file&gt;</b></dt><dd>Dump the contents of section <b>&lt;section&gt;</b> into the file <b>&lt;file&gt;</b>. Can be specified multiple times to dump multiple sections to different files. <b>&lt;file&gt;</b> is unrelated to the input and output files provided to <b>llvm-objcopy</b> and as such the normal copying and editing operations will still be performed. No operations are performed on the sections prior to dumping them. <p class=Pp>For MachO objects, <b>&lt;section&gt;</b> must be formatted as <b>&lt;segment name&gt;,&lt;section name&gt;</b>.</p></dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--enable-deterministic-archives, -D</b></dt><dd>Enable deterministic mode when copying archives, i.e. use 0 for archive member header UIDs, GIDs and timestamp fields. On by default.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--help, -h</b></dt><dd>Print a summary of command line options.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--only-keep-debug</b></dt><dd>Produce a debug file as the output that only preserves contents of sections useful for debugging purposes. <p class=Pp>For ELF objects, this removes the contents of <i>SHF_ALLOC</i> sections that are not <i>SHT_NOTE</i> by making them <i>SHT_NOBITS</i> and shrinking the program headers where possible.</p></dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--only-section &lt;section&gt;, -j</b></dt><dd>Remove all sections from the output, except for sections named <b>&lt;section&gt;</b>. Can be specified multiple times to keep multiple sections. <p class=Pp>For MachO objects, <b>&lt;section&gt;</b> must be formatted as <b>&lt;segment name&gt;,&lt;section name&gt;</b>.</p></dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--redefine-sym &lt;old&gt;=&lt;new&gt;</b></dt><dd>Rename symbols called <b>&lt;old&gt;</b> to <b>&lt;new&gt;</b> in the output. Can be specified multiple times to rename multiple symbols.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--redefine-syms &lt;filename&gt;</b></dt><dd>Rename symbols in the output as described in the file <b>&lt;filename&gt;</b>. In the file, each line represents a single symbol to rename, with the old name and new name separated by whitespace. Leading and trailing whitespace is ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--regex</b></dt><dd>If specified, symbol and section names specified by other switches are treated as extended POSIX regular expression patterns.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--remove-section &lt;section&gt;, -R</b></dt><dd>Remove the specified section from the output. Can be specified multiple times to remove multiple sections simultaneously. <p class=Pp>For MachO objects, <b>&lt;section&gt;</b> must be formatted as <b>&lt;segment name&gt;,&lt;section name&gt;</b>.</p></dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--set-section-alignment &lt;section&gt;=&lt;align&gt;</b></dt><dd>Set the alignment of section <b>&lt;section&gt;</b> to <i>&lt;align&gt;`</i>. Can be specified multiple times to update multiple sections.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--set-section-flags &lt;section&gt;=&lt;flag&gt;[,&lt;flag&gt;,...]</b></dt><dd>Set section properties in the output of section <b>&lt;section&gt;</b> based on the specified <b>&lt;flag&gt;</b> values. Can be specified multiple times to update multiple sections. <p class=Pp>Supported flag names are <i>alloc</i>, <i>load</i>, <i>noload</i>, <i>readonly</i>, <i>exclude</i>, <i>debug</i>, <i>code</i>, <i>data</i>, <i>rom</i>, <i>share</i>, <i>contents</i>, <i>merge</i> and <i>strings</i>. Not all flags are meaningful for all object file formats.</p><p class=Pp>For ELF objects, the flags have the following effects:</p></dd></dl><div class=Bd-indent><ul class=Bl-bullet><li><i>alloc</i> = add the <i>SHF_ALLOC</i> flag.</li><li><i>load</i> = if the section has <i>SHT_NOBITS</i> type, mark it as a <i>SHT_PROGBITS</i> section.</li><li><i>readonly</i> = if this flag is not specified, add the <i>SHF_WRITE</i> flag.</li><li><i>exclude</i> = add the <i>SHF_EXCLUDE</i> flag.</li><li><i>code</i> = add the <i>SHF_EXECINSTR</i> flag.</li><li><i>merge</i> = add the <i>SHF_MERGE</i> flag.</li><li><i>strings</i> = add the <i>SHF_STRINGS</i> flag.</li><li><i>contents</i> = if the section has <i>SHT_NOBITS</i> type, mark it as a <i>SHT_PROGBITS</i> section.</li></ul></div><br><p class=Pp>For COFF objects, the flags have the following effects:</p><div class=Bd-indent><ul class=Bl-bullet><li><i>alloc</i> = add the <i>IMAGE_SCN_CNT_UNINITIALIZED_DATA</i> and <i>IMAGE_SCN_MEM_READ</i> flags, unless the <i>load</i> flag is specified.</li><li><i>noload</i> = add the <i>IMAGE_SCN_LNK_REMOVE</i> and <i>IMAGE_SCN_MEM_READ</i> flags.</li><li><i>readonly</i> = if this flag is not specified, add the <i>IMAGE_SCN_MEM_WRITE</i> flag.</li><li><i>exclude</i> = add the <i>IMAGE_SCN_LNK_REMOVE</i> and <i>IMAGE_SCN_MEM_READ</i> flags.</li><li><i>debug</i> = add the <i>IMAGE_SCN_CNT_INITIALIZED_DATA</i>, <i>IMAGE_SCN_MEM_DISCARDABLE</i> and <i>IMAGE_SCN_MEM_READ</i> flags.</li><li><i>code</i> = add the <i>IMAGE_SCN_CNT_CODE</i>, <i>IMAGE_SCN_MEM_EXECUTE</i> and <i>IMAGE_SCN_MEM_READ</i> flags.</li><li><i>data</i> = add the <i>IMAGE_SCN_CNT_INITIALIZED_DATA</i> and <i>IMAGE_SCN_MEM_READ</i> flags.</li><li><i>share</i> = add the <i>IMAGE_SCN_MEM_SHARED</i> and <i>IMAGE_SCN_MEM_READ</i> flags.</li></ul></div><br></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-all-gnu</b></dt><dd>Remove all symbols, debug sections and relocations from the output. This option is equivalent to GNU <b>objcopy</b>'s <b>--strip-all</b> switch.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-all, -S</b></dt><dd>For ELF objects, remove from the output all symbols and non-alloc sections not within segments, except for .gnu.warning, .ARM.attribute sections and the section name table. <p class=Pp>For COFF and Mach-O objects, remove all symbols, debug sections, and relocations from the output.</p></dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-debug, -g</b></dt><dd>Remove all debug sections from the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-symbol &lt;symbol&gt;, -N</b></dt><dd>Remove all symbols named <b>&lt;symbol&gt;</b> from the output. Can be specified multiple times to remove multiple symbols.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-symbols &lt;filename&gt;</b></dt><dd>Remove all symbols whose names appear in the file <b>&lt;filename&gt;</b>, from the output. In the file, each line represents a single symbol name, with leading and trailing whitespace ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-unneeded-symbol &lt;symbol&gt;</b></dt><dd>Remove from the output all symbols named <b>&lt;symbol&gt;</b> that are local or undefined and are not required by any relocation.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-unneeded-symbols &lt;filename&gt;</b></dt><dd>Remove all symbols whose names appear in the file <b>&lt;filename&gt;</b>, from the output, if they are local or undefined and are not required by any relocation. In the file, each line represents a single symbol name, with leading and trailing whitespace ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-unneeded</b></dt><dd>Remove from the output all local or undefined symbols that are not required by relocations. Also remove all debug sections.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--version, -V</b></dt><dd>Display the version of the <b>llvm-objcopy</b> executable.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--wildcard, -w</b></dt><dd>Allow wildcard syntax for symbol-related flags. On by default for section-related flags. Incompatible with --regex. <p class=Pp>Wildcard syntax allows the following special symbols:</p><table class=tbl style="border-top-style: solid;"><tr style="border-left-style: solid; border-bottom-style: solid;"><td style="border-right-style: solid;">Character</td><td style="border-right-style: solid;">Meaning</td><td style="border-right-style: solid;">Equivalent</td></tr><tr style="border-left-style: solid; border-bottom-style: solid;"><td style="border-right-style: solid;"><b>*</b></td><td style="border-right-style: solid;">Any number of characters</td><td style="border-right-style: solid;"><b>.*</b></td></tr><tr style="border-left-style: solid; border-bottom-style: solid;"><td style="border-right-style: solid;"><b>?</b></td><td style="border-right-style: solid;">Any single character</td><td style="border-right-style: solid;"><b>.</b></td></tr><tr style="border-left-style: solid; border-bottom-style: solid;"><td style="border-right-style: solid;"><b>\</b></td><td style="border-right-style: solid;">Escape the next character</td><td style="border-right-style: solid;"><b>\</b></td></tr><tr style="border-left-style: solid; border-bottom-style: solid;"><td style="border-right-style: solid;"><b>[a-z]</b></td><td style="border-right-style: solid;">Character class</td><td style="border-right-style: solid;"><b>[a-z]</b></td></tr><tr style="border-left-style: solid; border-bottom-style: solid;"><td style="border-right-style: solid;"><b>[!a-z]</b>, <b>[^a-z]</b></td><td style="border-right-style: solid;">Negated character class</td><td style="border-right-style: solid;"><b>[^a-z]</b></td></tr></table><p class=Pp>Additionally, starting a wildcard with '!' will prevent a match, even if another flag matches. For example <b>-w -N '*' -N '!x'</b> will strip all symbols except for <b>x</b>.</p><p class=Pp>The order of wildcards does not matter. For example, <b>-w -N '*' -N '!x'</b> is the same as <b>-w -N '!x' -N '*'</b>.</p></dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>@&lt;FILE&gt;</b></dt><dd>Read command-line options and commands from response file <i>&lt;FILE&gt;</i>.</dd></dl></div><br></section><section class=Sh><h2 class=Sh id=ELF-SPECIFIC_OPTIONS><a class=permalink href=#ELF-SPECIFIC_OPTIONS>ELF-SPECIFIC OPTIONS</a></h2> The following options are implemented only for ELF objects. If used with other objects, <b>llvm-objcopy</b> will either emit an error or silently ignore them. <div class=Bd-indent><dl class=Bl-tag><dt><b>--add-symbol &lt;name&gt;=[&lt;section&gt;:]&lt;value&gt;[,&lt;flags&gt;]</b></dt><dd>Add a new symbol called <b>&lt;name&gt;</b> to the output symbol table, in the section named <b>&lt;section&gt;</b>, with value <b>&lt;value&gt;</b>. If <b>&lt;section&gt;</b> is not specified, the symbol is added as an absolute symbol. The <b>&lt;flags&gt;</b> affect the symbol properties. Accepted values are:</dd></dl><div class=Bd-indent><ul class=Bl-bullet><li><i>global</i> = the symbol will have global binding.</li><li><i>local</i> = the symbol will have local binding.</li><li><i>weak</i> = the symbol will have weak binding.</li><li><i>default</i> = the symbol will have default visibility.</li><li><i>hidden</i> = the symbol will have hidden visibility.</li><li><i>protected</i> = the symbol will have protected visibility.</li><li><i>file</i> = the symbol will be an <i>STT_FILE</i> symbol.</li><li><i>section</i> = the symbol will be an <i>STT_SECTION</i> symbol.</li><li><i>object</i> = the symbol will be an <i>STT_OBJECT</i> symbol.</li><li><i>function</i> = the symbol will be an <i>STT_FUNC</i> symbol.</li><li><i>indirect-function</i> = the symbol will be an <i>STT_GNU_IFUNC</i> symbol.</li></ul></div><br><p class=Pp>Additionally, the following flags are accepted but ignored: <i>debug</i>, <i>constructor</i>, <i>warning</i>, <i>indirect</i>, <i>synthetic</i>, <i>unique-object</i>, <i>before</i>.</p><p class=Pp>Can be specified multiple times to add multiple symbols.</p></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--allow-broken-links</b></dt><dd>Allow <b>llvm-objcopy</b> to remove sections even if it would leave invalid section references. Any invalid sh_link fields will be set to zero.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--build-id-link-dir &lt;dir&gt;</b></dt><dd>Set the directory used by <i>--build-id-link-input</i> and <i>--build-id-link-output</i>.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--build-id-link-input &lt;suffix&gt;</b></dt><dd>Hard-link the input to <b>&lt;dir&gt;/xx/xxx&lt;suffix&gt;</b>, where <b>&lt;dir&gt;</b> is the directory specified by <i>--build-id-link-dir</i>. The path used is derived from the hex build ID.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--build-id-link-output &lt;suffix&gt;</b></dt><dd>Hard-link the output to <b>&lt;dir&gt;/xx/xxx&lt;suffix&gt;</b>, where <b>&lt;dir&gt;</b> is the directory specified by <i>--build-id-link-dir</i>. The path used is derived from the hex build ID.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--change-start &lt;incr&gt;, --adjust-start</b></dt><dd>Add <b>&lt;incr&gt;</b> to the program's start address. Can be specified multiple times, in which case the values will be applied cumulatively.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--compress-debug-sections [&lt;style&gt;]</b></dt><dd>Compress DWARF debug sections in the output, using the specified style. Supported styles are <i>zlib-gnu</i> and <i>zlib</i>. Defaults to <i>zlib</i> if no style is specified.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--decompress-debug-sections</b></dt><dd>Decompress any compressed DWARF debug sections in the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--discard-locals, -X</b></dt><dd>Remove local symbols starting with ".L" from the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--extract-dwo</b></dt><dd>Remove all sections that are not DWARF .dwo sections from the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--extract-main-partition</b></dt><dd>Extract the main partition from the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--extract-partition &lt;name&gt;</b></dt><dd>Extract the named partition from the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--globalize-symbol &lt;symbol&gt;</b></dt><dd>Mark any defined symbols named <b>&lt;symbol&gt;</b> as global symbols in the output. Can be specified multiple times to mark multiple symbols.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--globalize-symbols &lt;filename&gt;</b></dt><dd>Read a list of names from the file <b>&lt;filename&gt;</b> and mark defined symbols with those names as global in the output. In the file, each line represents a single symbol, with leading and trailing whitespace ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--input-target &lt;format&gt;, -I</b></dt><dd>Read the input as the specified format. See <i>SUPPORTED FORMATS</i> for a list of valid <b>&lt;format&gt;</b> values. If unspecified, <b>llvm-objcopy</b> will attempt to determine the format automatically.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--keep-file-symbols</b></dt><dd>Keep symbols of type <i>STT_FILE</i>, even if they would otherwise be stripped.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--keep-global-symbol &lt;symbol&gt;</b></dt><dd>Make all symbols local in the output, except for symbols with the name <b>&lt;symbol&gt;</b>. Can be specified multiple times to ignore multiple symbols.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--keep-global-symbols &lt;filename&gt;</b></dt><dd>Make all symbols local in the output, except for symbols named in the file <b>&lt;filename&gt;</b>. In the file, each line represents a single symbol, with leading and trailing whitespace ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--keep-section &lt;section&gt;</b></dt><dd>When removing sections from the output, do not remove sections named <b>&lt;section&gt;</b>. Can be specified multiple times to keep multiple sections.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--keep-symbol &lt;symbol&gt;, -K</b></dt><dd>When removing symbols from the output, do not remove symbols named <b>&lt;symbol&gt;</b>. Can be specified multiple times to keep multiple symbols.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--keep-symbols &lt;filename&gt;</b></dt><dd>When removing symbols from the output do not remove symbols named in the file <b>&lt;filename&gt;</b>. In the file, each line represents a single symbol, with leading and trailing whitespace ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--localize-hidden</b></dt><dd>Make all symbols with hidden or internal visibility local in the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--localize-symbol &lt;symbol&gt;, -L</b></dt><dd>Mark any defined non-common symbol named <b>&lt;symbol&gt;</b> as a local symbol in the output. Can be specified multiple times to mark multiple symbols as local.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--localize-symbols &lt;filename&gt;</b></dt><dd>Read a list of names from the file <b>&lt;filename&gt;</b> and mark defined non-common symbols with those names as local in the output. In the file, each line represents a single symbol, with leading and trailing whitespace ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--new-symbol-visibility &lt;visibility&gt;</b></dt><dd>Specify the visibility of the symbols automatically created when using binary input or <i>--add-symbol</i>. Valid options are:</dd></dl><div class=Bd-indent><ul class=Bl-bullet><li><i>default</i></li><li><i>hidden</i></li><li><i>internal</i></li><li><i>protected</i></li></ul></div><br><p class=Pp>The default is <i>default</i>.</p></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--output-target &lt;format&gt;, -O</b></dt><dd>Write the output as the specified format. See <i>SUPPORTED FORMATS</i> for a list of valid <b>&lt;format&gt;</b> values. If unspecified, the output format is assumed to be the same as the value specified for <i>--input-target</i> or the input file's format if that option is also unspecified.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--prefix-alloc-sections &lt;prefix&gt;</b></dt><dd>Add <b>&lt;prefix&gt;</b> to the front of the names of all allocatable sections in the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--prefix-symbols &lt;prefix&gt;</b></dt><dd>Add <b>&lt;prefix&gt;</b> to the front of every symbol name in the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--preserve-dates, -p</b></dt><dd>Preserve access and modification timestamps in the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--rename-section &lt;old&gt;=&lt;new&gt;[,&lt;flag&gt;,...]</b></dt><dd>Rename sections called <b>&lt;old&gt;</b> to <b>&lt;new&gt;</b> in the output, and apply any specified <b>&lt;flag&gt;</b> values. See <i>--set-section-flags</i> for a list of supported flags. Can be specified multiple times to rename multiple sections.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--set-start-addr &lt;addr&gt;</b></dt><dd>Set the start address of the output to <b>&lt;addr&gt;</b>. Overrides any previously specified <i>--change-start</i> or <i>--adjust-start</i> options.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--split-dwo &lt;dwo-file&gt;</b></dt><dd>Equivalent to running <b>llvm-objcopy</b> with <i>--extract-dwo</i> and <b>&lt;dwo-file&gt;</b> as the output file and no other options, and then with <i>--strip-dwo</i> on the input file.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-dwo</b></dt><dd>Remove all DWARF .dwo sections from the output.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-non-alloc</b></dt><dd>Remove from the output all non-allocatable sections that are not within segments.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--strip-sections</b></dt><dd>Remove from the output all section headers and all section data not within segments. Note that many tools will not be able to use an object without section headers.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--target &lt;format&gt;, -F</b></dt><dd>Equivalent to <i>--input-target</i> and <i>--output-target</i> for the specified format. See <i>SUPPORTED FORMATS</i> for a list of valid <b>&lt;format&gt;</b> values.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--weaken-symbol &lt;symbol&gt;, -W</b></dt><dd>Mark any global symbol named <b>&lt;symbol&gt;</b> as a weak symbol in the output. Can be specified multiple times to mark multiple symbols as weak.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--weaken-symbols &lt;filename&gt;</b></dt><dd>Read a list of names from the file <b>&lt;filename&gt;</b> and mark global symbols with those names as weak in the output. In the file, each line represents a single symbol, with leading and trailing whitespace ignored, as is anything following a '#'. Can be specified multiple times to read names from multiple files.</dd></dl></div><br><div class=Bd-indent><dl class=Bl-tag><dt><b>--weaken</b></dt><dd>Mark all defined global symbols as weak in the output.</dd></dl></div><br></section><section class=Sh><h2 class=Sh id=SUPPORTED_FORMATS><a class=permalink href=#SUPPORTED_FORMATS>SUPPORTED FORMATS</a></h2> The following values are currently supported by <b>llvm-objcopy</b> for the <i>--input-target</i>, <i>--output-target</i>, and <i>--target</i> options. For GNU <b>objcopy</b> compatibility, the values are all bfdnames. <div class=Bd-indent><ul class=Bl-bullet><li><i>binary</i></li><li><i>ihex</i></li><li><i>elf32-i386</i></li><li><i>elf32-x86-64</i></li><li><i>elf64-x86-64</i></li><li><i>elf32-iamcu</i></li><li><i>elf32-littlearm</i></li><li><i>elf64-aarch64</i></li><li><i>elf64-littleaarch64</i></li><li><i>elf32-littleriscv</i></li><li><i>elf64-littleriscv</i></li><li><i>elf32-powerpc</i></li><li><i>elf32-powerpcle</i></li><li><i>elf64-powerpc</i></li><li><i>elf64-powerpcle</i></li><li><i>elf32-bigmips</i></li><li><i>elf32-ntradbigmips</i></li><li><i>elf32-ntradlittlemips</i></li><li><i>elf32-tradbigmips</i></li><li><i>elf32-tradlittlemips</i></li><li><i>elf64-tradbigmips</i></li><li><i>elf64-tradlittlemips</i></li><li><i>elf32-sparc</i></li><li><i>elf32-sparcel</i></li></ul></div><br><p class=Pp>Additionally, all targets except <i>binary</i> and <i>ihex</i> can have <i>-freebsd</i> as a suffix.</p></section><section class=Sh><h2 class=Sh id=BINARY_INPUT_AND_OUTPUT><a class=permalink href=#BINARY_INPUT_AND_OUTPUT>BINARY INPUT AND OUTPUT</a></h2> If <i>binary</i> is used as the value for <i>--input-target</i>, the input file will be embedded as a data section in an ELF relocatable object, with symbols <b>_binary_&lt;file_name&gt;_start</b>, <b>_binary_&lt;file_name&gt;_end</b>, and <b>_binary_&lt;file_name&gt;_size</b> representing the start, end and size of the data, where <b>&lt;file_name&gt;</b> is the path of the input file as specified on the command line with non-alphanumeric characters converted to <b>_</b>. <p class=Pp>If <i>binary</i> is used as the value for <i>--output-target</i>, the output file will be a raw binary file, containing the memory image of the input file. Symbols and relocation information will be discarded. The image will start at the address of the first loadable section in the output.</p></section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2><b>llvm-objcopy</b> exits with a non-zero exit code if there is an error. Otherwise, it exits with code 0. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> To report bugs, please visit &lt;<i>https://bugs.llvm.org/</i>&gt;. <p class=Pp>There is a known issue with <i>--input-target</i> and <i>--target</i> causing only <b>binary</b> and <b>ihex</b> formats to have any effect. Other values will be ignored and <b>llvm-objcopy</b> will attempt to guess the input format.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><b>llvm-strip(1)</b></section><section class=Sh><h2 class=Sh id=AUTHOR><a class=permalink href=#AUTHOR>AUTHOR</a></h2> Maintained by the LLVM Team (https://llvm.org/). </section><section class=Sh><h2 class=Sh id=COPYRIGHT><a class=permalink href=#COPYRIGHT>COPYRIGHT</a></h2> 2003-2021, LLVM Project </section></div><table class=foot><tr><td class=foot-date>2021-06-07</td><td class=foot-os>12</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>