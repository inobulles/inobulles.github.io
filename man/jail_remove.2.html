<!DOCTYPE html>
<html><head><meta charset=utf-8><title>jail_remove(2)</title><keywords content=man,jail_remove></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>jail_remove(2)</h1><table class=head><tr><td class=head-ltitle>JAIL(2)</td><td class=head-vol>FreeBSD System Calls Manual</td><td class=head-rtitle>JAIL(2)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>jail</code>, <code class=Nm>jail_get</code>, <code class=Nm>jail_set</code>, <code class=Nm>jail_remove</code>, <code class=Nm>jail_attach</code> — <div class=Nd>create and manage system jails</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2><span class=Lb>Standard C Library (libc, -lc)</span></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/sys/param.h.html>sys/param.h</a>&gt;</code><br><code class=In>#include &lt;<a class=In href=../src/sys/jail.h.html>sys/jail.h</a>&gt;</code><p class=Pp><var class=Ft>int</var><br><code class=Fn>jail</code>(<var class=Fa style="white-space: nowrap;">struct jail *jail</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>jail_attach</code>(<var class=Fa style="white-space: nowrap;">int jid</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>jail_remove</code>(<var class=Fa style="white-space: nowrap;">int jid</var>);</p><p class=Pp><code class=In>#include &lt;<a class=In href=../src/sys/uio.h.html>sys/uio.h</a>&gt;</code></p><p class=Pp><var class=Ft>int</var><br><code class=Fn>jail_get</code>(<var class=Fa style="white-space: nowrap;">struct iovec *iov</var>, <var class=Fa style="white-space: nowrap;">u_int niov</var>, <var class=Fa style="white-space: nowrap;">int flags</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>jail_set</code>(<var class=Fa style="white-space: nowrap;">struct iovec *iov</var>, <var class=Fa style="white-space: nowrap;">u_int niov</var>, <var class=Fa style="white-space: nowrap;">int flags</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Fn>jail</code>() system call sets up a jail and locks the current process in it. <p class=Pp>The argument is a pointer to a structure describing the prison:</p><div class="Bd Pp Bd-indent"><pre>
struct jail {
	uint32_t	version;
	char		*path;
	char		*hostname;
	char		*jailname;
	unsigned int	ip4s;
	unsigned int	ip6s;
	struct in_addr	*ip4;
	struct in6_addr	*ip6;
};
</pre></div><p class=Pp>“<code class=Li>version</code>” defines the version of the API in use. <code class=Dv>JAIL_API_VERSION</code> is defined for the current version.</p><p class=Pp>The “<code class=Li>path</code>” pointer should be set to the directory which is to be the root of the prison.</p><p class=Pp>The “<code class=Li>hostname</code>” pointer can be set to the hostname of the prison. This can be changed from the inside of the prison.</p><p class=Pp>The “<code class=Li>jailname</code>” pointer is an optional name that can be assigned to the jail for example for management purposes.</p><p class=Pp>The “<code class=Li>ip4s</code>” and “<code class=Li>ip6s</code>” give the numbers of IPv4 and IPv6 addresses that will be passed via their respective pointers.</p><p class=Pp>The “<code class=Li>ip4</code>” and “<code class=Li>ip6</code>” pointers can be set to an arrays of IPv4 and IPv6 addresses to be assigned to the prison, or NULL if none. IPv4 addresses must be in network byte order.</p><p class=Pp>This is equivalent to, and deprecated in favor of, the <code class=Fn>jail_set</code>() system call (see below), with the parameters <var class=Va>path</var>, <var class=Va>host.hostname</var>, <var class=Va>name</var>, <var class=Va>ip4.addr</var>, and <var class=Va>ip6.addr</var>, and with the <code class=Dv>JAIL_ATTACH</code> flag.</p><p class=Pp>The <code class=Fn>jail_set</code>() system call creates a new jail, or modifies an existing one, and optionally locks the current process in it. Jail parameters are passed as an array of name-value pairs in the array <var class=Fa>iov</var>, containing <var class=Fa>niov</var> elements. Parameter names are a null-terminated string, and values may be strings, integers, or other arbitrary data. Some parameters are boolean, and do not have a value (their length is zero) but are set by the name alone with or without a “no” prefix, e.g. <var class=Va>persist</var> or <var class=Va>nopersist</var>. Any parameters not set will be given default values, generally based on the current environment.</p><p class=Pp>Jails have a set of core parameters, and modules can add their own jail parameters. The current set of available parameters, and their formats, can be retrieved via the <var class=Va>security.jail.param</var> sysctl MIB entry. Notable parameters include those mentioned in the <code class=Fn>jail</code>() description above, as well as <var class=Va>jid</var> and <var class=Va>name</var>, which identify the jail being created or modified. See <a class=Xr href=jail.8.html>jail(8)</a> for more information on the core jail parameters.</p><p class=Pp>The <var class=Fa>flags</var> arguments consists of one or more of the following flags:</p><dl class=Bl-tag><dt><a class=permalink href=#JAIL_CREATE><code class=Dv id=JAIL_CREATE>JAIL_CREATE</code></a></dt><dd>Create a new jail. If a <var class=Va>jid</var> or <var class=Va>name</var> parameters exists, they must not refer to an existing jail.</dd><dt><a class=permalink href=#JAIL_UPDATE><code class=Dv id=JAIL_UPDATE>JAIL_UPDATE</code></a></dt><dd>Modify an existing jail. One of the <var class=Va>jid</var> or <var class=Va>name</var> parameters must exist, and must refer to an existing jail. If both <code class=Dv>JAIL_CREATE</code> and <code class=Dv>JAIL_UPDATE</code> are set, a jail will be created if it does not yet exist, and modified if it does exist.</dd><dt><a class=permalink href=#JAIL_ATTACH><code class=Dv id=JAIL_ATTACH>JAIL_ATTACH</code></a></dt><dd>In addition to creating or modifying the jail, attach the current process to it, as with the <code class=Fn>jail_attach</code>() system call.</dd><dt><a class=permalink href=#JAIL_DYING><code class=Dv id=JAIL_DYING>JAIL_DYING</code></a></dt><dd>Allow setting a jail that is in the process of being removed.</dd></dl><p class=Pp>The <code class=Fn>jail_get</code>() system call retrieves jail parameters, using the same name-value list as <code class=Fn>jail_set</code>() in the <var class=Fa>iov</var> and <var class=Fa>niov</var> arguments. The jail to read can be specified by either <var class=Va>jid</var> or <var class=Va>name</var> by including those parameters in the list. If they are included but are not intended to be the search key, they should be cleared (zero and the empty string respectively).</p><p class=Pp>The special parameter <var class=Va>lastjid</var> can be used to retrieve a list of all jails. It will fetch the jail with the jid above and closest to the passed value. The first jail (usually but not always jid 1) can be found by passing a <var class=Va>lastjid</var> of zero.</p><p class=Pp>The <var class=Fa>flags</var> arguments consists of one or more following flags:</p><dl class=Bl-tag><dt><a class=permalink href=#JAIL_DYING_2><code class=Dv id=JAIL_DYING_2>JAIL_DYING</code></a></dt><dd>Allow getting a jail that is in the process of being removed.</dd></dl><p class=Pp>The <code class=Fn>jail_attach</code>() system call attaches the current process to an existing jail, identified by <var class=Fa>jid</var>.</p><p class=Pp>The <code class=Fn>jail_remove</code>() system call removes the jail identified by <var class=Fa>jid</var>. It will kill all processes belonging to the jail, and remove any children of that jail.</p></section><section class=Sh><h2 class=Sh id=RETURN_VALUES><a class=permalink href=#RETURN_VALUES>RETURN VALUES</a></h2> If successful, <code class=Fn>jail</code>(), <code class=Fn>jail_set</code>(), and <code class=Fn>jail_get</code>() return a non-negative integer, termed the jail identifier (JID). They return -1 on failure, and set <var class=Va>errno</var> to indicate the error. <p class=Pp><br> The <code class=Fn>jail_attach</code>() and <code class=Fn>jail_remove</code>() functions return the value 0 if successful; otherwise the value -1 is returned and the global variable <var class=Va>errno</var> is set to indicate the error.</p></section><section class=Sh><h2 class=Sh id=ERRORS><a class=permalink href=#ERRORS>ERRORS</a></h2> The <code class=Fn>jail</code>() system call will fail if: <dl class=Bl-tag><dt>[<a class=permalink href=#EPERM><code class=Er id=EPERM>EPERM</code></a>]</dt><dd>This process is not allowed to create a jail, either because it is not the super-user, or because it would exceed the jail's <var class=Va>children.max</var> limit.</dd><dt>[<a class=permalink href=#EFAULT><code class=Er id=EFAULT>EFAULT</code></a>]</dt><dd><var class=Fa>jail</var> points to an address outside the allocated address space of the process.</dd><dt>[<a class=permalink href=#EINVAL><code class=Er id=EINVAL>EINVAL</code></a>]</dt><dd>The version number of the argument is not correct.</dd><dt>[<a class=permalink href=#EAGAIN><code class=Er id=EAGAIN>EAGAIN</code></a>]</dt><dd>No free JID could be found.</dd></dl><p class=Pp>The <code class=Fn>jail_set</code>() system call will fail if:</p><dl class=Bl-tag><dt>[<a class=permalink href=#EPERM_2><code class=Er id=EPERM_2>EPERM</code></a>]</dt><dd>This process is not allowed to create a jail, either because it is not the super-user, or because it would exceed the jail's <var class=Va>children.max</var> limit.</dd><dt>[<a class=permalink href=#EPERM_3><code class=Er id=EPERM_3>EPERM</code></a>]</dt><dd>A jail parameter was set to a less restrictive value then the current environment.</dd><dt>[<a class=permalink href=#EFAULT_2><code class=Er id=EFAULT_2>EFAULT</code></a>]</dt><dd><var class=Fa>Iov</var>, or one of the addresses contained within it, points to an address outside the allocated address space of the process.</dd><dt>[<a class=permalink href=#ENOENT><code class=Er id=ENOENT>ENOENT</code></a>]</dt><dd>The jail referred to by a <var class=Va>jid</var> or <var class=Va>name</var> parameter does not exist, and the <code class=Dv>JAIL_CREATE</code> flag is not set.</dd><dt>[<a class=permalink href=#ENOENT_2><code class=Er id=ENOENT_2>ENOENT</code></a>]</dt><dd>The jail referred to by a <var class=Va>jid</var> is not accessible by the process, because the process is in a different jail.</dd><dt>[<a class=permalink href=#EEXIST><code class=Er id=EEXIST>EEXIST</code></a>]</dt><dd>The jail referred to by a <var class=Va>jid</var> or <var class=Va>name</var> parameter exists, and the <code class=Dv>JAIL_UPDATE</code> flag is not set.</dd><dt>[<a class=permalink href=#EINVAL_2><code class=Er id=EINVAL_2>EINVAL</code></a>]</dt><dd>A supplied parameter is the wrong size.</dd><dt>[<a class=permalink href=#EINVAL_3><code class=Er id=EINVAL_3>EINVAL</code></a>]</dt><dd>A supplied parameter is out of range.</dd><dt>[<a class=permalink href=#EINVAL_4><code class=Er id=EINVAL_4>EINVAL</code></a>]</dt><dd>A supplied string parameter is not null-terminated.</dd><dt>[<a class=permalink href=#EINVAL_5><code class=Er id=EINVAL_5>EINVAL</code></a>]</dt><dd>A supplied parameter name does not match any known parameters.</dd><dt>[<a class=permalink href=#EINVAL_6><code class=Er id=EINVAL_6>EINVAL</code></a>]</dt><dd>One of the <code class=Dv>JAIL_CREATE</code> or <code class=Dv>JAIL_UPDATE</code> flags is not set.</dd><dt>[<a class=permalink href=#ENAMETOOLONG><code class=Er id=ENAMETOOLONG>ENAMETOOLONG</code></a>]</dt><dd>A supplied string parameter is longer than allowed.</dd><dt>[<a class=permalink href=#EAGAIN_2><code class=Er id=EAGAIN_2>EAGAIN</code></a>]</dt><dd>There are no jail IDs left.</dd></dl><p class=Pp>The <code class=Fn>jail_get</code>() system call will fail if:</p><dl class=Bl-tag><dt>[<a class=permalink href=#EFAULT_3><code class=Er id=EFAULT_3>EFAULT</code></a>]</dt><dd><var class=Fa>Iov</var>, or one of the addresses contained within it, points to an address outside the allocated address space of the process.</dd><dt>[<a class=permalink href=#ENOENT_3><code class=Er id=ENOENT_3>ENOENT</code></a>]</dt><dd>The jail referred to by a <var class=Va>jid</var> or <var class=Va>name</var> parameter does not exist.</dd><dt>[<a class=permalink href=#ENOENT_4><code class=Er id=ENOENT_4>ENOENT</code></a>]</dt><dd>The jail referred to by a <var class=Va>jid</var> is not accessible by the process, because the process is in a different jail.</dd><dt>[<a class=permalink href=#ENOENT_5><code class=Er id=ENOENT_5>ENOENT</code></a>]</dt><dd>The <var class=Va>lastjid</var> parameter is greater than the highest current jail ID.</dd><dt>[<a class=permalink href=#EINVAL_7><code class=Er id=EINVAL_7>EINVAL</code></a>]</dt><dd>A supplied parameter is the wrong size.</dd><dt>[<a class=permalink href=#EINVAL_8><code class=Er id=EINVAL_8>EINVAL</code></a>]</dt><dd>A supplied parameter name does not match any known parameters.</dd></dl><p class=Pp>The <code class=Fn>jail_attach</code>() and <code class=Fn>jail_remove</code>() system calls will fail if:</p><dl class=Bl-tag><dt>[<a class=permalink href=#EPERM_4><code class=Er id=EPERM_4>EPERM</code></a>]</dt><dd>A user other than the super-user attempted to attach to or remove a jail.</dd><dt>[<a class=permalink href=#EINVAL_9><code class=Er id=EINVAL_9>EINVAL</code></a>]</dt><dd>The jail specified by <var class=Fa>jid</var> does not exist.</dd></dl><p class=Pp>Further <code class=Fn>jail</code>(), <code class=Fn>jail_set</code>(), and <code class=Fn>jail_attach</code>() call <a class=Xr href=chroot.2.html>chroot(2)</a> internally, so they can fail for all the same reasons. Please consult the <a class=Xr href=chroot.2.html>chroot(2)</a> manual page for details.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=chdir.2.html>chdir(2)</a>, <a class=Xr href=chroot.2.html>chroot(2)</a>, <a class=Xr href=jail.8.html>jail(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Fn>jail</code>() system call appeared in <span class=Ux>FreeBSD 4.0</span>. The <code class=Fn>jail_attach</code>() system call appeared in <span class=Ux>FreeBSD 5.1</span>. The <code class=Fn>jail_set</code>(), <code class=Fn>jail_get</code>(), and <code class=Fn>jail_remove</code>() system calls appeared in <span class=Ux>FreeBSD 8.0</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The jail feature was written by <span class=An>Poul-Henning Kamp</span> for R&amp;D Associates who contributed it to <span class=Ux>FreeBSD</span>. <br><span class=An>James Gritton</span> added the extensible jail parameters and hierarchical jails. </section></div><table class=foot><tr><td class=foot-date>February 8, 2012</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>