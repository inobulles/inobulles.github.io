<!DOCTYPE html>
<html><head><meta charset=utf-8><title>setfacl(1)</title><keywords content=man,setfacl></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>setfacl(1)</h1><table class=head><tr><td class=head-ltitle>SETFACL(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>SETFACL(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>setfacl</code> — <div class=Nd>set ACL information</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>setfacl</code></td><td>[<code class=Fl>-R</code> [<code class=Fl>-H</code> | <code class=Fl>-L</code> | <code class=Fl>-P</code>]] [<code class=Fl>-bdhkn</code>] [<code class=Fl>-a</code><var class=Ar>position entries</var>] [<code class=Fl>-m</code><var class=Ar>entries</var>] [<code class=Fl>-M</code><var class=Ar>file</var>] [<code class=Fl>-x</code><var class=Ar>entries</var> | <var class=Ar>position</var>] [<code class=Fl>-X</code><var class=Ar>file</var>] [<var class=Ar>file ...</var>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>setfacl</code> utility sets discretionary access control information on the specified file(s). If no files are specified, or the list consists of the only ‘<code class=Fl>-</code>’, the file names are taken from the standard input. <p class=Pp>The following options are available:</p><dl class=Bl-tag><dt><a class=permalink href=#a><code class=Fl id=a>-a</code></a><var class=Ar>position entries</var></dt><dd>Modify the ACL on the specified files by inserting new ACL entries specified in <var class=Ar>entries</var>, starting at position <var class=Ar>position</var>, counting from zero. This option is only applicable to NFSv4 ACLs.</dd><dt><a class=permalink href=#b><code class=Fl id=b>-b</code></a></dt><dd>Remove all ACL entries except for the ones synthesized from the file mode - the three mandatory entries in case of POSIX.1e ACL. If the POSIX.1e ACL contains a “<code class=Li>mask</code>” entry, the permissions of the “<code class=Li>group</code>” entry in the resulting ACL will be set to the permission associated with both the “<code class=Li>group</code>” and “<code class=Li>mask</code>” entries of the current ACL.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a></dt><dd>The operations apply to the default ACL entries instead of access ACL entries. Currently only directories may have default ACL's. This option is not applicable to NFSv4 ACLs.</dd><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a></dt><dd>If the target of the operation is a symbolic link, perform the operation on the symbolic link itself, rather than following the link.</dd><dt><a class=permalink href=#H><code class=Fl id=H>-H</code></a></dt><dd>If the <code class=Fl>-R</code> option is specified, symbolic links on the command line are followed and hence unaffected by the command. (Symbolic links encountered during tree traversal are not followed.)</dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a></dt><dd>Delete any default ACL entries on the specified files. It is not considered an error if the specified files do not have any default ACL entries. An error will be reported if any of the specified files cannot have a default entry (i.e., non-directories). This option is not applicable to NFSv4 ACLs.</dd><dt><a class=permalink href=#L><code class=Fl id=L>-L</code></a></dt><dd>If the <code class=Fl>-R</code> option is specified, all symbolic links are followed.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a><var class=Ar>entries</var></dt><dd>Modify the ACL on the specified file. New entries will be added, and existing entries will be modified according to the <var class=Ar>entries</var> argument. For NFSv4 ACLs, it is recommended to use the <code class=Fl>-a</code> and <code class=Fl>-x</code> options instead.</dd><dt><a class=permalink href=#M><code class=Fl id=M>-M</code></a><var class=Ar>file</var></dt><dd>Modify the ACL entries on the specified files by adding new ACL entries and modifying existing ACL entries with the ACL entries specified in the file <var class=Ar>file</var>. If <var class=Ar>file</var> is <code class=Fl>-</code>, the input is taken from stdin.</dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a></dt><dd>Do not recalculate the permissions associated with the ACL mask entry. This option is not applicable to NFSv4 ACLs.</dd><dt><a class=permalink href=#P><code class=Fl id=P>-P</code></a></dt><dd>If the <code class=Fl>-R</code> option is specified, no symbolic links are followed. This is the default.</dd><dt><a class=permalink href=#R><code class=Fl id=R>-R</code></a></dt><dd>Perform the action recursively on any specified directories. When modifying or adding NFSv4 ACL entries, inheritance flags are applied only to directories.</dd><dt><a class=permalink href=#x><code class=Fl id=x>-x</code></a><var class=Ar>entries</var> | <var class=Ar>position</var></dt><dd>If <var class=Ar>entries</var> is specified, remove the ACL entries specified there from the access or default ACL of the specified files. Otherwise, remove entry at index <var class=Ar>position</var>, counting from zero.</dd><dt><a class=permalink href=#X><code class=Fl id=X>-X</code></a><var class=Ar>file</var></dt><dd>Remove the ACL entries specified in the file <var class=Ar>file</var> from the access or default ACL of the specified files.</dd></dl><p class=Pp>The above options are evaluated in the order specified on the command-line.</p></section><section class=Sh><h2 class=Sh id=POSIX.1e_ACL_ENTRIES><a class=permalink href=#POSIX.1e_ACL_ENTRIES>POSIX.1e ACL ENTRIES</a></h2> A POSIX.1E ACL entry contains three colon-separated fields: an ACL tag, an ACL qualifier, and discretionary access permissions: <dl class=Bl-tag><dt><var class=Ar>ACL tag</var></dt><dd>The ACL tag specifies the ACL entry type and consists of one of the following: “<code class=Li>user</code>” or ‘<code class=Li>u</code>’ specifying the access granted to the owner of the file or a specified user; “<code class=Li>group</code>” or ‘<code class=Li>g</code>’ specifying the access granted to the file owning group or a specified group; “<code class=Li>other</code>” or ‘<code class=Li>o</code>’ specifying the access granted to any process that does not match any user or group ACL entry; “<code class=Li>mask</code>” or ‘<code class=Li>m</code>’ specifying the maximum access granted to any ACL entry except the “<code class=Li>user</code>” ACL entry for the file owner and the “<code class=Li>other</code>” ACL entry.</dd><dt><var class=Ar>ACL qualifier</var></dt><dd>The ACL qualifier field describes the user or group associated with the ACL entry. It may consist of one of the following: uid or user name, gid or group name, or empty. For “<code class=Li>user</code>” ACL entries, an empty field specifies access granted to the file owner. For “<code class=Li>group</code>” ACL entries, an empty field specifies access granted to the file owning group. “<code class=Li>mask</code>” and “<code class=Li>other</code>” ACL entries do not use this field.</dd><dt><var class=Ar>access permissions</var></dt><dd>The access permissions field contains up to one of each of the following: ‘<code class=Li>r</code>’, ‘<code class=Li>w</code>’, and ‘<code class=Li>x</code>’ to set read, write, and execute permissions, respectively. Each of these may be excluded or replaced with a ‘<code class=Li>-</code>’ character to indicate no access.</dd></dl><p class=Pp>A “<code class=Li>mask</code>” ACL entry is required on a file with any ACL entries other than the default “<code class=Li>user</code>”, “<code class=Li>group</code>”, and “<code class=Li>other</code>” ACL entries. If the <code class=Fl>-n</code> option is not specified and no “<code class=Li>mask</code>” ACL entry was specified, the <code class=Nm>setfacl</code> utility will apply a “<code class=Li>mask</code>” ACL entry consisting of the union of the permissions associated with all “<code class=Li>group</code>” ACL entries in the resulting ACL.</p><p class=Pp>Traditional POSIX interfaces acting on file system object modes have modified semantics in the presence of POSIX.1e extended ACLs. When a mask entry is present on the access ACL of an object, the mask entry is substituted for the group bits; this occurs in programs such as <a class=Xr href=stat.1.html>stat(1)</a> or <a class=Xr href=ls.1.html>ls(1)</a>. When the mode is modified on an object that has a mask entry, the changes applied to the group bits will actually be applied to the mask entry. These semantics provide for greater application compatibility: applications modifying the mode instead of the ACL will see conservative behavior, limiting the effective rights granted by all of the additional user and group entries; this occurs in programs such as <a class=Xr href=chmod.1.html>chmod(1)</a>.</p><p class=Pp>ACL entries applied from a file using the <code class=Fl>-M</code> or <code class=Fl>-X</code> options shall be of the following form: one ACL entry per line, as previously specified; whitespace is ignored; any text after a ‘<code class=Li>#</code>’ is ignored (comments).</p><p class=Pp>When POSIX.1e ACL entries are evaluated, the access check algorithm checks the ACL entries in the following order: file owner, “<code class=Li>user</code>” ACL entries, file owning group, “<code class=Li>group</code>” ACL entries, and “<code class=Li>other</code>” ACL entry.</p><p class=Pp>Multiple ACL entries specified on the command line are separated by commas.</p><p class=Pp>It is possible for files and directories to inherit ACL entries from their parent directory. This is accomplished through the use of the default ACL. It should be noted that before you can specify a default ACL, the mandatory ACL entries for user, group, other and mask must be set. For more details see the examples below. Default ACLs can be created by using <code class=Fl>-d</code>.</p></section><section class=Sh><h2 class=Sh id=NFSv4_ACL_ENTRIES><a class=permalink href=#NFSv4_ACL_ENTRIES>NFSv4 ACL ENTRIES</a></h2> An NFSv4 ACL entry contains four or five colon-separated fields: an ACL tag, an ACL qualifier (only for “<code class=Li>user</code>” and “<code class=Li>group</code>” tags), discretionary access permissions, ACL inheritance flags, and ACL type: <dl class=Bl-tag><dt><var class=Ar>ACL tag</var></dt><dd>The ACL tag specifies the ACL entry type and consists of one of the following: “<code class=Li>user</code>” or ‘<code class=Li>u</code>’ specifying the access granted to the specified user; “<code class=Li>group</code>” or ‘<code class=Li>g</code>’ specifying the access granted to the specified group; “<code class=Li>owner@</code>” specifying the access granted to the owner of the file; “<code class=Li>group@</code>” specifying the access granted to the file owning group; “<code class=Li>everyone@</code>” specifying everyone. Note that “<code class=Li>everyone@</code>” is not the same as traditional Unix “<code class=Li>other</code>” - it means, literally, everyone, including file owner and owning group.</dd><dt><var class=Ar>ACL qualifier</var></dt><dd>The ACL qualifier field describes the user or group associated with the ACL entry. It may consist of one of the following: uid or user name, or gid or group name. In entries whose tag type is one of “<code class=Li>owner@</code>”, “<code class=Li>group@</code>”, or “<code class=Li>everyone@</code>”, this field is omitted altogether, including the trailing comma.</dd><dt><var class=Ar>access permissions</var></dt><dd>Access permissions may be specified in either short or long form. Short and long forms may not be mixed. Permissions in long form are separated by the ‘<code class=Li>/</code>’ character; in short form, they are concatenated together. Valid permissions are: <dl class=Bl-tag><dt>Short</dt><dd>Long</dd><dt>r</dt><dd>read_data</dd><dt>w</dt><dd>write_data</dd><dt>x</dt><dd>execute</dd><dt>p</dt><dd>append_data</dd><dt>D</dt><dd>delete_child</dd><dt>d</dt><dd>delete</dd><dt>a</dt><dd>read_attributes</dd><dt>A</dt><dd>write_attributes</dd><dt>R</dt><dd>read_xattr</dd><dt>W</dt><dd>write_xattr</dd><dt>c</dt><dd>read_acl</dd><dt>C</dt><dd>write_acl</dd><dt>o</dt><dd>write_owner</dd><dt>s</dt><dd>synchronize</dd></dl><p class=Pp>In addition, the following permission sets may be used:</p><dl class=Bl-tag><dt>Set</dt><dd>Permissions</dd><dt>full_set</dt><dd>all permissions, as shown above</dd><dt>modify_set</dt><dd>all permissions except write_acl and write_owner</dd><dt>read_set</dt><dd>read_data, read_attributes, read_xattr and read_acl</dd><dt>write_set</dt><dd>write_data, append_data, write_attributes and write_xattr</dd></dl></dd><dt><var class=Ar>ACL inheritance flags</var></dt><dd>Inheritance flags may be specified in either short or long form. Short and long forms may not be mixed. Access flags in long form are separated by the ‘<code class=Li>/</code>’ character; in short form, they are concatenated together. Valid inheritance flags are: <dl class=Bl-tag><dt>Short</dt><dd>Long</dd><dt>f</dt><dd>file_inherit</dd><dt>d</dt><dd>dir_inherit</dd><dt>i</dt><dd>inherit_only</dd><dt>n</dt><dd>no_propagate</dd><dt>I</dt><dd>inherited</dd></dl><p class=Pp>Other than the "inherited" flag, inheritance flags may be only set on directories.</p></dd><dt><var class=Ar>ACL type</var></dt><dd>The ACL type field is either “<code class=Li>allow</code>” or “<code class=Li>deny</code>”.</dd></dl><p class=Pp>ACL entries applied from a file using the <code class=Fl>-M</code> or <code class=Fl>-X</code> options shall be of the following form: one ACL entry per line, as previously specified; whitespace is ignored; any text after a ‘<code class=Li>#</code>’ is ignored (comments).</p><p class=Pp>NFSv4 ACL entries are evaluated in their visible order.</p><p class=Pp>Multiple ACL entries specified on the command line are separated by commas.</p><p class=Pp>Note that the file owner is always granted the read_acl, write_acl, read_attributes, and write_attributes permissions, even if the ACL would deny it.</p></section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2> The <code class=Nm>setfacl</code> utility exits 0 on success, and &gt;0 if an error occurs. </section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2><div class="Bd Bd-indent"><code class=Li>setfacl -d -m u::rwx,g::rx,o::rx,mask::rwx dir</code></div><div class="Bd Bd-indent"><code class=Li>setfacl -d -m g:admins:rwx dir</code></div><p class=Pp>The first command sets the mandatory elements of the POSIX.1e default ACL. The second command specifies that users in group admins can have read, write, and execute permissions for directory named "dir". It should be noted that any files or directories created underneath "dir" will inherit these default ACLs upon creation.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>setfacl -m u::rwx,g:mail:rw file</code></div><p class=Pp>Sets read, write, and execute permissions for the <span class=Pa>file</span> owner's POSIX.1e ACL entry and read and write permissions for group mail on <span class=Pa>file</span>.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>setfacl -m owner@:rwxp::allow,g:mail:rwp::allow file</code></div><p class=Pp>Semantically equal to the example above, but for NFSv4 ACL.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>setfacl -M file1 file2</code></div><p class=Pp>Sets/updates the ACL entries contained in <span class=Pa>file1</span> on <span class=Pa>file2</span>.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>setfacl -x g:mail:rw file</code></div><p class=Pp>Remove the group mail POSIX.1e ACL entry containing read/write permissions from <span class=Pa>file</span>.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>setfacl -x0 file</code></div><p class=Pp>Remove the first entry from the NFSv4 ACL from <span class=Pa>file</span>.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>setfacl -bn file</code></div><p class=Pp>Remove all “<code class=Li>access</code>” ACL entries except for the three required from <span class=Pa>file</span>.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>getfacl file1 | setfacl -b -n -M - file2</code></div><p class=Pp>Copy ACL entries from <span class=Pa>file1</span> to <span class=Pa>file2</span>.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=getfacl.1.html>getfacl(1)</a>, <a class=Xr href=acl.3.html>acl(3)</a>, <a class=Xr href=getextattr.8.html>getextattr(8)</a>, <a class=Xr href=setextattr.8.html>setextattr(8)</a>, <a class=Xr href=acl.9.html>acl(9)</a>, <a class=Xr href=extattr.9.html>extattr(9)</a></section><section class=Sh><h2 class=Sh id=STANDARDS><a class=permalink href=#STANDARDS>STANDARDS</a></h2> The <code class=Nm>setfacl</code> utility is expected to be IEEE Std 1003.2c compliant. </section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> Extended Attribute and Access Control List support was developed as part of the TrustedBSD Project and introduced in <span class=Ux>FreeBSD 5.0</span>. NFSv4 ACL support was introduced in <span class=Ux>FreeBSD 8.1</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The <code class=Nm>setfacl</code> utility was written by <span class=An>Chris D. Faulhaber</span> &lt;<a class=Mt href=mailto:jedgar@fxp.org>jedgar@fxp.org</a>&gt;. NFSv4 ACL support was implemented by <span class=An>Edward Tomasz Napierala</span> &lt;<a class=Mt href=mailto:trasz@FreeBSD.org>trasz@FreeBSD.org</a>&gt;. </section></div><table class=foot><tr><td class=foot-date>October 26, 2018</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>