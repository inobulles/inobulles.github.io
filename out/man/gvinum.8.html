<!DOCTYPE html>
<html><head><meta charset=utf-8><title>gvinum(8)</title><keywords content=man,gvinum></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>gvinum(8)</h1><table class=head><tr><td class=head-ltitle>GVINUM(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>GVINUM(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>gvinum</code> — <div class=Nd>Logical Volume Manager control program</div></section><section class=Sh><h2 class=Sh id=DEPRECATION_NOTICE><a class=permalink href=#DEPRECATION_NOTICE>DEPRECATION NOTICE</a></h2><code class=Nm>gvinum</code> and associated <a class=Xr href=geom.4.html>geom(4)</a> kernel support is deprecated, and may not be available in <span class=Ux>FreeBSD 14.0</span> and later. Users are advised to migrate to <a class=Xr href=gconcat.8.html>gconcat(8)</a>, <a class=Xr href=gmirror.8.html>gmirror(8)</a>, <a class=Xr href=gstripe.8.html>gstripe(8)</a>, <a class=Xr href=graid.8.html>graid(8)</a>, or <a class=Xr href=zfs.8.html>zfs(8)</a>. More information is available at <span class=Pa>https://wiki.freebsd.org/DeprecationPlan/gvinum</span>. </section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>gvinum</code></td><td>[<var class=Ar>command</var>] [<code class=Fl>-options</code>]</td></tr></table></section><section class=Sh><h2 class=Sh id=COMMANDS><a class=permalink href=#COMMANDS>COMMANDS</a></h2><dl class=Bl-tag><dt><a class=permalink href=#attach><code class=Ic id=attach>attach</code></a><var class=Ar>plex volume</var> [<code class=Cm>rename</code>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#attach_2><code class=Ic id=attach_2>attach</code></a><var class=Ar>subdisk plex</var> [<var class=Ar>offset</var>] [<code class=Cm>rename</code>]</dt><dd>Attach a plex to a volume, or a subdisk to a plex. If offset is specified, the subdisk will be attached to the given offset within the plex. If rename is specified, the subdisk or plex will change name according to the object it attaches to.</dd><dt><a class=permalink href=#checkparity><code class=Ic id=checkparity>checkparity</code></a> [<code class=Fl>-f</code>] <var class=Ar>plex</var></dt><dd>Check the parity blocks of a RAID-5 plex. The parity check will start at the beginning of the plex if the <code class=Fl>-f</code> flag is specified, or otherwise at the location of the parity check pointer, the first location at which plex's parity is incorrect. All subdisks in the plex must be up for a parity check.</dd><dt><a class=permalink href=#concat><code class=Ic id=concat>concat</code></a> [<code class=Fl>-fv</code>] [<code class=Fl>-n</code><var class=Ar>name</var>] <var class=Ar>drives</var></dt><dd>Create a concatenated volume from the specified drives. If no name is specified, a unique name will be set by <code class=Ic>gvinum</code>.</dd><dt><a class=permalink href=#create><code class=Ic id=create>create</code></a> [<code class=Fl>-f</code>] [<var class=Ar>description-file</var>]</dt><dd>Create a volume as described in <var class=Ar>description-file</var>. If no <var class=Ar>description-file</var> provided, opens an editor and provides the current <code class=Nm>gvinum</code> configuration for editing. The <code class=Fl>-f</code> flag will make gvinum ignore any errors regarding creating objects that already exists. However, in contrast to vinum, objects that are not properly named in the <var class=Ar>description-file</var> will not be created when the <code class=Fl>-f</code> flag is given.</dd><dt><a class=permalink href=#detach><code class=Ic id=detach>detach</code></a> [<code class=Fl>-f</code>] [<var class=Ar>plex</var> | <var class=Ar>subdisk</var>]</dt><dd>Detach a plex or subdisk from the volume or plex to which it is attached.</dd><dt><a class=permalink href=#grow><code class=Ic id=grow>grow</code></a><var class=Ar>plex device</var></dt><dd>Grow a plex by creating a gvinum drive and subdisk on device and attach it to the plex. If required by the plex organization, it will be put into the growable state.</dd><dt><a class=permalink href=#help><code class=Ic id=help>help</code></a></dt><dd>Provides a synopsis of <code class=Nm>gvinum</code> commands and arguments.</dd><dt><a class=permalink href=#l><code class=Ic id=l>l</code></a> | <a class=permalink href=#list><code class=Ic id=list>list</code></a> [<code class=Fl>-rvV</code>] [<var class=Ar>volume</var> | <var class=Ar>plex</var> | <var class=Ar>subdisk</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#ld><code class=Ic id=ld>ld</code></a> [<code class=Fl>-rvV</code>] [<var class=Ar>drive ...</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#ls><code class=Ic id=ls>ls</code></a> [<code class=Fl>-rvV</code>] [<var class=Ar>subdisk ...</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#lp><code class=Ic id=lp>lp</code></a> [<code class=Fl>-rvV</code>] [<var class=Ar>plex ...</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#lv><code class=Ic id=lv>lv</code></a> [<code class=Fl>-rvV</code>] [<var class=Ar>volume ...</var>]</dt><dd>List information about the relevant object(s). The <code class=Fl>-r</code> flag provides recursive display, showing each object's subordinate objects in proper relation. The <code class=Fl>-v</code> and <code class=Fl>-V</code> flags provide progressively more detailed output.</dd><dt><a class=permalink href=#mirror><code class=Ic id=mirror>mirror</code></a> [<code class=Fl>-fsv</code>] [<code class=Fl>-n</code><var class=Ar>name</var>] <var class=Ar>drives</var></dt><dd>Create a mirrored volume from the specified drives. It requires at least a multiple of 2 drives. If no name is specified, a unique name will be set by gvinum. If the <code class=Fl>-s</code> flag is specified, a striped mirror will be created, and thus requires a multiple of 4 drives.</dd><dt><a class=permalink href=#move><code class=Ic id=move>move</code></a> | <a class=permalink href=#mv><code class=Ic id=mv>mv</code></a><code class=Fl>-f</code><var class=Ar>drive subdisk</var> [<var class=Ar>...</var>]</dt><dd>Move the subdisk(s) to the specified drive. The <code class=Fl>-f</code> flag is required, as all data on the indicated subdisk(s) will be destroyed as part of the move. This can currently only be done when the subdisk is not being accessed. <p class=Pp>If a single subdisk is moved, and it forms a part of a RAID-5 plex, the moved subdisks will need to be set to the “stale” state, and the plex will require a <code class=Ic>start</code> command. If multiple subdisk(s) is moved, and form part of a RAID-5 plex, the moved disk(s) will need to be set to the “up” state and the plex will require a <code class=Ic>rebuildparity</code> command. If the subdisk(s) form part of a plex that is mirrored with other plexes, the plex will require restarting and will sync once restarted. Moving more than one subdisk in a RAID-5 plex or subdisks from both sides of a mirrored plex volume will destroy data. Note that parity rebuilds and syncing must be started manually after a move.</p></dd><dt><a class=permalink href=#printconfig><code class=Ic id=printconfig>printconfig</code></a></dt><dd>Write a copy of the current configuration to standard output.</dd><dt><a class=permalink href=#quit><code class=Ic id=quit>quit</code></a></dt><dd>Exit <code class=Nm>gvinum</code> when running in interactive mode. Normally this would be done by entering the EOF character.</dd><dt><a class=permalink href=#raid5><code class=Ic id=raid5>raid5</code></a> [<code class=Fl>-fv</code>] [<code class=Fl>-s</code><var class=Ar>stripesize</var>] [<code class=Fl>-n</code><var class=Ar>name</var>] <var class=Ar>drives</var></dt><dd>Create a RAID-5 volume from the specified drives. If no name is specified, a unique name will be set by <code class=Ic>gvinum</code>. This organization requires at least three drives.</dd><dt><a class=permalink href=#rename><code class=Ic id=rename>rename</code></a> [<code class=Fl>-r</code>] <var class=Ar>drive</var> | <var class=Ar>subdisk</var> | <var class=Ar>plex</var> | <var class=Ar>volume newname</var></dt><dd>Change the name of the specified object. The <code class=Fl>-r</code> flag will recursively rename subordinate objects. <p class=Pp>Note that device nodes will not be renamed until <code class=Nm>gvinum</code> is restarted.</p></dd><dt><a class=permalink href=#rebuildparity><code class=Ic id=rebuildparity>rebuildparity</code></a> [<code class=Fl>-f</code>] <var class=Ar>plex</var></dt><dd>Rebuild the parity blocks of a RAID-5 plex. The parity rebuild will start at the beginning of the plex if the <code class=Fl>-f</code> flag is specified, or otherwise at the location of the parity check pointer. All subdisks in the plex must be up for a parity check.</dd><dt><a class=permalink href=#resetconfig><code class=Ic id=resetconfig>resetconfig</code></a> [<code class=Fl>-f</code>]</dt><dd>Reset the complete <code class=Nm>gvinum</code> configuration.</dd><dt><a class=permalink href=#rm><code class=Ic id=rm>rm</code></a> [<code class=Fl>-r</code>] <var class=Ar>volume</var> | <var class=Ar>plex</var> | <var class=Ar>subdisk</var></dt><dd>Remove an object and, if <code class=Fl>-r</code> is specified, its subordinate objects.</dd><dt><a class=permalink href=#saveconfig><code class=Ic id=saveconfig>saveconfig</code></a></dt><dd>Save <code class=Nm>gvinum</code> configuration to disk after configuration failures.</dd><dt><a class=permalink href=#setstate><code class=Ic id=setstate>setstate</code></a> [<code class=Fl>-f</code>] <var class=Ar>state volume</var> | <var class=Ar>plex</var> | <var class=Ar>subdisk</var> | <var class=Ar>drive</var></dt><dd>Set state without influencing other objects, for diagnostic purposes only. The <code class=Fl>-f</code> flag forces state changes regardless of whether they are legal.</dd><dt><a class=permalink href=#start><code class=Ic id=start>start</code></a></dt><dd>Read configuration from all vinum drives.</dd><dt><a class=permalink href=#start_2><code class=Ic id=start_2>start</code></a> [<code class=Fl>-S</code><var class=Ar>size</var>] <var class=Ar>volume</var> | <var class=Ar>plex</var> | <var class=Ar>subdisk</var></dt><dd>Allow the system to access the objects. If necessary, plexes will be synced and rebuilt. If a subdisk was added to a running RAID-5 or striped plex, gvinum will expand into this subdisk and grow the whole RAID-5 array. This can be done without unmounting your filesystem. The <code class=Fl>-S</code> flag is currently ignored.</dd><dt><a class=permalink href=#stop><code class=Ic id=stop>stop</code></a> [<code class=Fl>-f</code>] [<var class=Ar>volume</var> | <var class=Ar>plex</var> | <var class=Ar>subdisk</var>]</dt><dd>Terminate access to the objects, or stop <code class=Nm>gvinum</code> if no parameters are specified.</dd><dt><a class=permalink href=#stripe><code class=Ic id=stripe>stripe</code></a> [<code class=Fl>-fv</code>] [<code class=Fl>-n</code><var class=Ar>name</var>] <var class=Ar>drives</var></dt><dd>Create a striped volume from the specified drives. If no name is specified, a unique name will be set by <code class=Ic>gvinum</code>. This organization requires at least two drives.</dd></dl></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>gvinum</code> utility communicates with the kernel component of the GVinum logical volume manager. It is designed either for interactive use, when started without command line arguments, or to execute a single command if the command is supplied on the command line. In interactive mode, <code class=Nm>gvinum</code> maintains a command line history. </section><section class=Sh><h2 class=Sh id=OPTIONS><a class=permalink href=#OPTIONS>OPTIONS</a></h2> The <code class=Nm>gvinum</code> commands may be followed by an option. <dl class=Bl-tag><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a></dt><dd>The <code class=Fl>-f</code> (“force”) option overrides safety checks. It should be used with extreme caution. This option is required in order to use the <code class=Ic>move</code> command.</dd><dt><a class=permalink href=#r><code class=Fl id=r>-r</code></a></dt><dd>The <code class=Fl>-r</code> (“recursive”) option applies the command recursively to subordinate objects. For example, in conjunction with the <code class=Ic>lv</code> command, the <code class=Fl>-r</code> option will also show information about the plexes and subdisks belonging to the volume. It is also used by the <code class=Ic>rename</code> command to indicate that subordinate objects such as subdisks should be renamed to match the object(s) specified and by the <code class=Ic>rm</code> command to delete plexes belonging to a volume and so on.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a></dt><dd>The <code class=Fl>-v</code> (“verbose”) option provides more detailed output.</dd><dt><a class=permalink href=#V><code class=Fl id=V>-V</code></a></dt><dd>The <code class=Fl>-V</code> (“very verbose”) option provides even more detailed output than <code class=Fl>-v</code>.</dd></dl></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2><dl class=Bl-tag><dt><a class=permalink href=#EDITOR><code class=Ev id=EDITOR>EDITOR</code></a></dt><dd>The name of the editor to use for editing configuration files, by default <a class=Xr href=vi.1.html>vi(1)</a> is invoked.</dd></dl></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class=Bl-tag><dt><span class=Pa>/dev/gvinum</span></dt><dd>directory with device nodes for <code class=Nm>gvinum</code> objects</dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> To create a mirror on disks /dev/ada1 and /dev/ada2, create a filesystem, mount, unmount and then stop <code class=Ic>gvinum</code>: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum mirror /dev/ada1 /dev/ada2</code></div><div class="Bd Bd-indent"><code class=Li>newfs /dev/gvinum/gvinumvolume0</code></div><div class="Bd Bd-indent"><code class=Li>mount /dev/gvinum/gvinumvolume0 /mnt</code></div><div class="Bd Bd-indent"><code class=Li>...</code></div><div class="Bd Bd-indent"><code class=Li>unmount /mnt</code></div><div class="Bd Bd-indent"><code class=Li>gvinum stop</code></div><p class=Pp>To create a striped mirror on disks /dev/ada1 /dev/ada2 /dev/ada3 and /dev/ada4 named "data" and create a filesystem:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum mirror -s -n data /dev/ada1 /dev/ada2 /dev/ada3 /dev/ada4</code></div><div class="Bd Bd-indent"><code class=Li>newfs /dev/gvinum/data</code></div><p class=Pp>To create a raid5 array on disks /dev/ada1 /dev/ada2 and /dev/ada3, with stripesize 493k you can use the raid5 command:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum raid5 -s 493k /dev/ada1 /dev/ada2 /dev/ada3</code></div><p class=Pp>Then the volume will be created automatically. Afterwards, you have to initialize the volume:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum start myraid5vol</code></div><p class=Pp>The initialization will start, and the states will be updated when it's finished. The list command will give you information about its progress.</p><p class=Pp>Imagine that one of the drives fails, and the output of 'printconfig' looks something like this:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>drive gvinumdrive1 device /dev/ada2</code></div><div class="Bd Bd-indent"><code class=Li>drive gvinumdrive2 device /dev/???</code></div><div class="Bd Bd-indent"><code class=Li>drive gvinumdrive0 device /dev/ada1</code></div><div class="Bd Bd-indent"><code class=Li>volume myraid5vol</code></div><div class="Bd Bd-indent"><code class=Li>plex name myraid5vol.p0 org raid5 986s vol myraid5vol</code></div><div class="Bd Bd-indent"><code class=Li>sd name myraid5vol.p0.s2 drive gvinumdrive2 len 32538s driveoffset 265s</code></div><div class="Bd Bd-indent"><code class=Li>plex myraid5vol.p0 plexoffset 1972s</code></div><div class="Bd Bd-indent"><code class=Li>sd name myraid5vol.p0.s1 drive gvinumdrive1 len 32538s driveoffset 265s</code></div><div class="Bd Bd-indent"><code class=Li>plex myraid5vol.p0 plexoffset 986s</code></div><div class="Bd Bd-indent"><code class=Li>sd name myraid5vol.p0.s0 drive gvinumdrive0 len 32538s driveoffset 265s</code></div><div class="Bd Bd-indent"><code class=Li>plex myraid5vol.p0 plexoffset 0s</code></div><p class=Pp>Create a new drive with this configuration:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>drive gdrive4 device /dev/ada4</code></div><p class=Pp>Then move the stale subdisk to the new drive:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum move gdrive4 myraid5vol.p0.s2</code></div><p class=Pp>Then, initiate the rebuild:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum start myraid5vol.p0</code></div><p class=Pp>The plex will go up form degraded mode after the rebuild is finished. The plex can still be used while the rebuild is in progress, although requests might be delayed.</p><p class=Pp>Given the configuration as in the previous example, growing a RAID-5 or STRIPED array is accomplished by using the grow command:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum grow myraid5vol.p0 /dev/ada4</code></div><p class=Pp>If everything went ok, the plex state should now be set to growable. You can then start the growing with the <code class=Ic>start</code> command:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>gvinum start myraid5vol.p0</code></div><p class=Pp>As with rebuilding, you can watch the progress using the <code class=Ic>list</code> command.</p><p class=Pp>For a more advanced usage and detailed explanation of gvinum, the handbook is recommended.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=geom.4.html>geom(4)</a>, <a class=Xr href=geom.8.html>geom(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>gvinum</code> utility first appeared in <span class=Ux>FreeBSD 5.3</span>. The <code class=Nm>vinum</code> utility, on which <code class=Nm>gvinum</code> is based, was written by <span class=An>Greg Lehey</span>. <p class=Pp>The <code class=Nm>gvinum</code> utility was written by <span class=An>Lukas Ertl</span>. The <code class=Ic>move</code> and <code class=Ic>rename</code> commands and documentation were added by <span class=An>Chris Jones</span> through the 2005 Google Summer of Code program. A partial rewrite of gvinum was done by <span class=An>Lukas Ertl</span> and <span class=An>Ulf Lilleengen</span> through the 2007 Google Summer of Code program. The documentation have been updated to reflect the new functionality.</p></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2><span class=An>Lukas Ertl</span> &lt;<a class=Mt href=mailto:le@FreeBSD.org>le@FreeBSD.org</a>&gt; <br><span class=An>Chris Jones</span> &lt;<a class=Mt href=mailto:soc-cjones@FreeBSD.org>soc-cjones@FreeBSD.org</a>&gt; <br><span class=An>Ulf Lilleengen</span> &lt;<a class=Mt href=mailto:lulf@FreeBSD.org>lulf@FreeBSD.org</a>&gt; </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> Currently, <code class=Nm>gvinum</code> does not rename devices in <span class=Pa>/dev/gvinum</span> until reloaded. <p class=Pp>The <code class=Fl>-S</code> initsize flag to <code class=Ic>start</code> is ignored.</p><p class=Pp>Moving subdisks that are not part of a mirrored or RAID-5 volume will destroy data. It is perhaps a bug to permit this.</p><p class=Pp>Plexes in which subdisks have been moved do not automatically sync or rebuild parity. This may leave data unprotected and is perhaps unwise.</p><p class=Pp>Currently, <code class=Nm>gvinum</code> does not yet fully implement all of the functions found in <code class=Nm>vinum</code>. Specifically, the following commands from <code class=Nm>vinum</code> are not supported:</p><dl class=Bl-tag><dt><a class=permalink href=#debug><code class=Ic id=debug>debug</code></a></dt><dd>Cause the volume manager to enter the kernel debugger.</dd><dt><a class=permalink href=#debug_2><code class=Ic id=debug_2>debug</code></a><var class=Ar>flags</var></dt><dd>Set debugging flags.</dd><dt><a class=permalink href=#dumpconfig><code class=Ic id=dumpconfig>dumpconfig</code></a> [<var class=Ar>drive ...</var>]</dt><dd>List the configuration information stored on the specified drives, or all drives in the system if no drive names are specified.</dd><dt><a class=permalink href=#info><code class=Ic id=info>info</code></a> [<code class=Fl>-vV</code>]</dt><dd>List information about volume manager state.</dd><dt><a class=permalink href=#label><code class=Ic id=label>label</code></a><var class=Ar>volume</var></dt><dd>Create a volume label.</dd><dt><a class=permalink href=#resetstats><code class=Ic id=resetstats>resetstats</code></a> [<code class=Fl>-r</code>] [<var class=Ar>volume</var> | <var class=Ar>plex</var> | <var class=Ar>subdisk</var>]</dt><dd>Reset statistics counters for the specified objects, or for all objects if none are specified.</dd><dt><a class=permalink href=#setdaemon><code class=Ic id=setdaemon>setdaemon</code></a> [<var class=Ar>value</var>]</dt><dd>Set daemon configuration.</dd></dl></section></div><table class=foot><tr><td class=foot-date>March 28, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>