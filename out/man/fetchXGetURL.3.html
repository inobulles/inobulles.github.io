<!DOCTYPE html>
<html><head><meta charset=utf-8><title>fetchXGetURL(3)</title><keywords content=man,fetchXGetURL></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>fetchXGetURL(3)</h1><table class=head><tr><td class=head-ltitle>FETCH(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>FETCH(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>fetchMakeURL</code>, <code class=Nm>fetchParseURL</code>, <code class=Nm>fetchFreeURL</code>, <code class=Nm>fetchXGetURL</code>, <code class=Nm>fetchGetURL</code>, <code class=Nm>fetchPutURL</code>, <code class=Nm>fetchStatURL</code>, <code class=Nm>fetchListURL</code>, <code class=Nm>fetchXGet</code>, <code class=Nm>fetchGet</code>, <code class=Nm>fetchPut</code>, <code class=Nm>fetchStat</code>, <code class=Nm>fetchList</code>, <code class=Nm>fetchXGetFile</code>, <code class=Nm>fetchGetFile</code>, <code class=Nm>fetchPutFile</code>, <code class=Nm>fetchStatFile</code>, <code class=Nm>fetchListFile</code>, <code class=Nm>fetchXGetHTTP</code>, <code class=Nm>fetchGetHTTP</code>, <code class=Nm>fetchPutHTTP</code>, <code class=Nm>fetchStatHTTP</code>, <code class=Nm>fetchListHTTP</code>, <code class=Nm>fetchReqHTTP</code>, <code class=Nm>fetchXGetFTP</code>, <code class=Nm>fetchGetFTP</code>, <code class=Nm>fetchPutFTP</code>, <code class=Nm>fetchStatFTP</code>, <code class=Nm>fetchListFTP</code> — <div class=Nd>file transfer functions</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2><span class=Lb>File Transfer Library (libfetch, -lfetch)</span></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/sys/param.h.html>sys/param.h</a>&gt;</code><br><code class=In>#include &lt;<a class=In href=../src/stdio.h.html>stdio.h</a>&gt;</code><br><code class=In>#include &lt;<a class=In href=../src/fetch.h.html>fetch.h</a>&gt;</code><p class=Pp><var class=Ft>struct url *</var><br><code class=Fn>fetchMakeURL</code>(<var class=Fa style="white-space: nowrap;">const char *scheme</var>, <var class=Fa style="white-space: nowrap;">const char *host</var>, <var class=Fa style="white-space: nowrap;">int port</var>, <var class=Fa style="white-space: nowrap;">const char *doc</var>, <var class=Fa style="white-space: nowrap;">const char *user</var>, <var class=Fa style="white-space: nowrap;">const char *pwd</var>);</p><p class=Pp><var class=Ft>struct url *</var><br><code class=Fn>fetchParseURL</code>(<var class=Fa style="white-space: nowrap;">const char *URL</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>fetchFreeURL</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchXGetURL</code>(<var class=Fa style="white-space: nowrap;">const char *URL</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchGetURL</code>(<var class=Fa style="white-space: nowrap;">const char *URL</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchPutURL</code>(<var class=Fa style="white-space: nowrap;">const char *URL</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>fetchStatURL</code>(<var class=Fa style="white-space: nowrap;">const char *URL</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>struct url_ent *</var><br><code class=Fn>fetchListURL</code>(<var class=Fa style="white-space: nowrap;">const char *URL</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchXGet</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchGet</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchPut</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>fetchStat</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>struct url_ent *</var><br><code class=Fn>fetchList</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchXGetFile</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchGetFile</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchPutFile</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>fetchStatFile</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>struct url_ent *</var><br><code class=Fn>fetchListFile</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchXGetHTTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchGetHTTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchPutHTTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>fetchStatHTTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>struct url_ent *</var><br><code class=Fn>fetchListHTTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchReqHTTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *method</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>, <var class=Fa style="white-space: nowrap;">const char *content_type</var>, <var class=Fa style="white-space: nowrap;">const char *body</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchXGetFTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchGetFTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>FILE *</var><br><code class=Fn>fetchPutFTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>fetchStatFTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">struct url_stat *us</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p><p class=Pp><var class=Ft>struct url_ent *</var><br><code class=Fn>fetchListFTP</code>(<var class=Fa style="white-space: nowrap;">struct url *u</var>, <var class=Fa style="white-space: nowrap;">const char *flags</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> These functions implement a high-level library for retrieving and uploading files using Uniform Resource Locators (URLs). <p class=Pp><code class=Fn>fetchParseURL</code>() takes a URL in the form of a null-terminated string and splits it into its components function according to the Common Internet Scheme Syntax detailed in RFC1738. A regular expression which produces this syntax is:</p><div class="Bd Pp"><pre>
    &lt;scheme&gt;:(//(&lt;user&gt;(:&lt;pwd&gt;)?@)?&lt;host&gt;(:&lt;port&gt;)?)?/(&lt;document&gt;)?
</pre></div><p class=Pp>If the URL does not seem to begin with a scheme name, the following syntax is assumed:</p><div class="Bd Pp"><pre>
    ((&lt;user&gt;(:&lt;pwd&gt;)?@)?&lt;host&gt;(:&lt;port&gt;)?)?/(&lt;document&gt;)?
</pre></div><p class=Pp>Note that some components of the URL are not necessarily relevant to all URL schemes. For instance, the file scheme only needs the &lt;scheme&gt; and &lt;document&gt; components.</p><p class=Pp><code class=Fn>fetchMakeURL</code>() and <code class=Fn>fetchParseURL</code>() return a pointer to a <var class=Vt>url</var> structure, which is defined as follows in <code class=In>&lt;<a class=In href=../src/fetch.h.html>fetch.h</a>&gt;</code>:</p><div class="Bd Pp"><pre>
#define URL_SCHEMELEN 16
#define URL_USERLEN 256
#define URL_PWDLEN 256

struct url {
    char	 scheme[URL_SCHEMELEN+1];
    char	 user[URL_USERLEN+1];
    char	 pwd[URL_PWDLEN+1];
    char	 host[MAXHOSTNAMELEN+1];
    int		 port;
    char	*doc;
    off_t	 offset;
    size_t	 length;
    time_t	 ims_time;
};
</pre></div><p class=Pp>The <var class=Va>ims_time</var> field stores the time value for <code class=Li>If-Modified-Since</code> HTTP requests.</p><p class=Pp>The pointer returned by <code class=Fn>fetchMakeURL</code>() or <code class=Fn>fetchParseURL</code>() should be freed using <code class=Fn>fetchFreeURL</code>().</p><p class=Pp><code class=Fn>fetchXGetURL</code>(), <code class=Fn>fetchGetURL</code>(), and <code class=Fn>fetchPutURL</code>() constitute the recommended interface to the <code class=Nm>fetch</code> library. They examine the URL passed to them to determine the transfer method, and call the appropriate lower-level functions to perform the actual transfer. <code class=Fn>fetchXGetURL</code>() also returns the remote document's metadata in the <var class=Vt>url_stat</var> structure pointed to by the <var class=Fa>us</var> argument.</p><p class=Pp>The <var class=Fa>flags</var> argument is a string of characters which specify transfer options. The meaning of the individual flags is scheme-dependent, and is detailed in the appropriate section below.</p><p class=Pp><code class=Fn>fetchStatURL</code>() attempts to obtain the requested document's metadata and fill in the structure pointed to by its second argument. The <var class=Vt>url_stat</var> structure is defined as follows in <code class=In>&lt;<a class=In href=../src/fetch.h.html>fetch.h</a>&gt;</code>:</p><div class="Bd Pp"><pre>
struct url_stat {
    off_t	 size;
    time_t	 atime;
    time_t	 mtime;
};
</pre></div><p class=Pp>If the size could not be obtained from the server, the <var class=Fa>size</var> field is set to -1. If the modification time could not be obtained from the server, the <var class=Fa>mtime</var> field is set to the epoch. If the access time could not be obtained from the server, the <var class=Fa>atime</var> field is set to the modification time.</p><p class=Pp><code class=Fn>fetchListURL</code>() attempts to list the contents of the directory pointed to by the URL provided. If successful, it returns a malloced array of <var class=Vt>url_ent</var> structures. The <var class=Vt>url_ent</var> structure is defined as follows in <code class=In>&lt;<a class=In href=../src/fetch.h.html>fetch.h</a>&gt;</code>:</p><div class="Bd Pp"><pre>
struct url_ent {
    char         name[PATH_MAX];
    struct url_stat stat;
};
</pre></div><p class=Pp>The list is terminated by an entry with an empty name.</p><p class=Pp>The pointer returned by <code class=Fn>fetchListURL</code>() should be freed using <code class=Fn>free</code>().</p><p class=Pp><code class=Fn>fetchXGet</code>(), <code class=Fn>fetchGet</code>(), <code class=Fn>fetchPut</code>() and <code class=Fn>fetchStat</code>() are similar to <code class=Fn>fetchXGetURL</code>(), <code class=Fn>fetchGetURL</code>(), <code class=Fn>fetchPutURL</code>() and <code class=Fn>fetchStatURL</code>(), except that they expect a pre-parsed URL in the form of a pointer to a <var class=Vt>struct url</var> rather than a string.</p><p class=Pp>All of the <code class=Fn>fetchXGetXXX</code>(), <code class=Fn>fetchGetXXX</code>() and <code class=Fn>fetchPutXXX</code>() functions return a pointer to a stream which can be used to read or write data from or to the requested document, respectively. Note that although the implementation details of the individual access methods vary, it can generally be assumed that a stream returned by one of the <code class=Fn>fetchXGetXXX</code>() or <code class=Fn>fetchGetXXX</code>() functions is read-only, and that a stream returned by one of the <code class=Fn>fetchPutXXX</code>() functions is write-only.</p></section><section class=Sh><h2 class=Sh id=FILE_SCHEME><a class=permalink href=#FILE_SCHEME>FILE SCHEME</a></h2><code class=Fn>fetchXGetFile</code>(), <code class=Fn>fetchGetFile</code>() and <code class=Fn>fetchPutFile</code>() provide access to documents which are files in a locally mounted file system. Only the &lt;document&gt; component of the URL is used. <p class=Pp><code class=Fn>fetchXGetFile</code>() and <code class=Fn>fetchGetFile</code>() do not accept any flags.</p><p class=Pp><code class=Fn>fetchPutFile</code>() accepts the ‘<code class=Li>a</code>’ (append to file) flag. If that flag is specified, the data written to the stream returned by <code class=Fn>fetchPutFile</code>() will be appended to the previous contents of the file, instead of replacing them.</p></section><section class=Sh><h2 class=Sh id=FTP_SCHEME><a class=permalink href=#FTP_SCHEME>FTP SCHEME</a></h2><code class=Fn>fetchXGetFTP</code>(), <code class=Fn>fetchGetFTP</code>() and <code class=Fn>fetchPutFTP</code>() implement the FTP protocol as described in RFC959. <p class=Pp>If the ‘<code class=Li>P</code>’ (not passive) flag is specified, an active (rather than passive) connection will be attempted.</p><p class=Pp>The ‘<code class=Li>p</code>’ flag is supported for compatibility with earlier versions where active connections were the default. It has precedence over the ‘<code class=Li>P</code>’ flag, so if both are specified, <code class=Nm>fetchMakeURL</code> will use a passive connection.</p><p class=Pp>If the ‘<code class=Li>l</code>’ (low) flag is specified, data sockets will be allocated in the low (or default) port range instead of the high port range (see <a class=Xr href=ip.4.html>ip(4)</a>).</p><p class=Pp>If the ‘<code class=Li>d</code>’ (direct) flag is specified, <code class=Fn>fetchXGetFTP</code>(), <code class=Fn>fetchGetFTP</code>() and <code class=Fn>fetchPutFTP</code>() will use a direct connection even if a proxy server is defined.</p><p class=Pp>If no user name or password is given, the <code class=Nm>fetch</code> library will attempt an anonymous login, with user name "anonymous" and password "anonymous@&lt;hostname&gt;".</p></section><section class=Sh><h2 class=Sh id=HTTP_SCHEME><a class=permalink href=#HTTP_SCHEME>HTTP SCHEME</a></h2> The <code class=Fn>fetchXGetHTTP</code>(), <code class=Fn>fetchGetHTTP</code>(), <code class=Fn>fetchPutHTTP</code>() and <code class=Fn>fetchReqHTTP</code>() functions implement the HTTP/1.1 protocol. With a little luck, there is even a chance that they comply with RFC2616 and RFC2617. <p class=Pp>If the ‘<code class=Li>d</code>’ (direct) flag is specified, <code class=Fn>fetchXGetHTTP</code>(), <code class=Fn>fetchGetHTTP</code>() and <code class=Fn>fetchPutHTTP</code>() will use a direct connection even if a proxy server is defined.</p><p class=Pp>If the ‘<code class=Li>i</code>’ (if-modified-since) flag is specified, and the <var class=Va>ims_time</var> field is set in <var class=Vt>struct url</var>, then <code class=Fn>fetchXGetHTTP</code>() and <code class=Fn>fetchGetHTTP</code>() will send a conditional <code class=Li>If-Modified-Since</code> HTTP header to only fetch the content if it is newer than <var class=Va>ims_time</var>.</p><p class=Pp>The function <code class=Fn>fetchReqHTTP</code>() can be used to make requests with an arbitrary HTTP verb, including POST, DELETE, CONNECT, OPTIONS, TRACE or PATCH. This can be done by setting the argument <var class=Fa>method</var> to the intended verb, such as ‘<code class=Li>POST</code>’, and <var class=Fa>body</var> to the content.</p><p class=Pp>Since there seems to be no good way of implementing the HTTP PUT method in a manner consistent with the rest of the <code class=Nm>fetch</code> library, <code class=Fn>fetchPutHTTP</code>() is currently unimplemented.</p></section><section class=Sh><h2 class=Sh id=HTTPS_SCHEME><a class=permalink href=#HTTPS_SCHEME>HTTPS SCHEME</a></h2> Based on HTTP SCHEME. By default the peer is verified using the CA bundle located in <span class=Pa>/usr/local/etc/ssl/cert.pem</span>. If this file does not exist, <span class=Pa>/etc/ssl/cert.pem</span> is used instead. If neither file exists, and <code class=Ev>SSL_CA_CERT_PATH</code> has not been set, OpenSSL's default CA cert and path settings apply. The certificate bundle can contain multiple CA certificates. A common source of a current CA bundle is <span class=Pa>security/ca_root_nss</span>. <p class=Pp>The CA bundle used for peer verification can be changed by setting the environment variables <code class=Ev>SSL_CA_CERT_FILE</code> to point to a concatenated bundle of trusted certificates and <code class=Ev>SSL_CA_CERT_PATH</code> to point to a directory containing hashes of trusted CAs (see <a class=Xr href=verify.1.html>verify(1)</a>).</p><p class=Pp>A certificate revocation list (CRL) can be used by setting the environment variable <code class=Ev>SSL_CRL_FILE</code> (see <a class=Xr href=crl.1.html>crl(1)</a>).</p><p class=Pp>Peer verification can be disabled by setting the environment variable <code class=Ev>SSL_NO_VERIFY_PEER</code>. Note that this also disables CRL checking.</p><p class=Pp>By default the service identity is verified according to the rules detailed in RFC6125 (also known as hostname verification). This feature can be disabled by setting the environment variable <code class=Ev>SSL_NO_VERIFY_HOSTNAME</code>.</p><p class=Pp>Client certificate based authentication is supported. The environment variable <code class=Ev>SSL_CLIENT_CERT_FILE</code> should be set to point to a file containing key and client certificate to be used in PEM format. When a PEM-format key is in a separate file from the client certificate, the environment variable <code class=Ev>SSL_CLIENT_KEY_FILE</code> can be set to point to the key file. In case the key uses a password, the user will be prompted on standard input (see <a class=Xr href=PEM.3.html>PEM(3)</a>).</p><p class=Pp>By default <code class=Nm>libfetch</code> allows TLSv1 and newer when negotiating the connecting with the remote peer. You can change this behavior by setting the <code class=Ev>SSL_ALLOW_SSL3</code> environment variable to allow SSLv3 and <code class=Ev>SSL_NO_TLS1</code>, <code class=Ev>SSL_NO_TLS1_1 and</code><code class=Ev>SSL_NO_TLS1_2</code> to disable TLS 1.0, 1.1 and 1.2 respectively.</p></section><section class=Sh><h2 class=Sh id=AUTHENTICATION><a class=permalink href=#AUTHENTICATION>AUTHENTICATION</a></h2> Apart from setting the appropriate environment variables and specifying the user name and password in the URL or the <var class=Vt>struct url</var>, the calling program has the option of defining an authentication function with the following prototype: <p class=Pp><var class=Ft>int</var><code class=Fn>myAuthMethod</code>(<var class=Fa>struct url *u</var>)</p><p class=Pp>The callback function should fill in the <var class=Fa>user</var> and <var class=Fa>pwd</var> fields in the provided <var class=Vt>struct url</var> and return 0 on success, or any other value to indicate failure.</p><p class=Pp>To register the authentication callback, simply set <var class=Va>fetchAuthMethod</var> to point at it. The callback will be used whenever a site requires authentication and the appropriate environment variables are not set.</p><p class=Pp>This interface is experimental and may be subject to change.</p></section><section class=Sh><h2 class=Sh id=RETURN_VALUES><a class=permalink href=#RETURN_VALUES>RETURN VALUES</a></h2><code class=Fn>fetchParseURL</code>() returns a pointer to a <var class=Vt>struct url</var> containing the individual components of the URL. If it is unable to allocate memory, or the URL is syntactically incorrect, <code class=Fn>fetchParseURL</code>() returns a NULL pointer. <p class=Pp>The <code class=Fn>fetchStat</code>() functions return 0 on success and -1 on failure.</p><p class=Pp>All other functions return a stream pointer which may be used to access the requested document, or NULL if an error occurred.</p><p class=Pp>The following error codes are defined in <code class=In>&lt;<a class=In href=../src/fetch.h.html>fetch.h</a>&gt;</code>:</p><dl class=Bl-tag><dt>[<code class=Er>FETCH_ABORT</code>]</dt><dd>Operation aborted</dd><dt>[<code class=Er>FETCH_AUTH</code>]</dt><dd>Authentication failed</dd><dt>[<code class=Er>FETCH_DOWN</code>]</dt><dd>Service unavailable</dd><dt>[<code class=Er>FETCH_EXISTS</code>]</dt><dd>File exists</dd><dt>[<code class=Er>FETCH_FULL</code>]</dt><dd>File system full</dd><dt>[<code class=Er>FETCH_INFO</code>]</dt><dd>Informational response</dd><dt>[<code class=Er>FETCH_MEMORY</code>]</dt><dd>Insufficient memory</dd><dt>[<code class=Er>FETCH_MOVED</code>]</dt><dd>File has moved</dd><dt>[<code class=Er>FETCH_NETWORK</code>]</dt><dd>Network error</dd><dt>[<code class=Er>FETCH_OK</code>]</dt><dd>No error</dd><dt>[<code class=Er>FETCH_PROTO</code>]</dt><dd>Protocol error</dd><dt>[<code class=Er>FETCH_RESOLV</code>]</dt><dd>Resolver error</dd><dt>[<code class=Er>FETCH_SERVER</code>]</dt><dd>Server error</dd><dt>[<code class=Er>FETCH_TEMP</code>]</dt><dd>Temporary error</dd><dt>[<code class=Er>FETCH_TIMEOUT</code>]</dt><dd>Operation timed out</dd><dt>[<code class=Er>FETCH_UNAVAIL</code>]</dt><dd>File is not available</dd><dt>[<code class=Er>FETCH_UNKNOWN</code>]</dt><dd>Unknown error</dd><dt>[<code class=Er>FETCH_URL</code>]</dt><dd>Invalid URL</dd></dl><p class=Pp>The accompanying error message includes a protocol-specific error code and message, like "File is not available (404 Not Found)"</p></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2><dl class=Bl-tag><dt><a class=permalink href=#FETCH_BIND_ADDRESS><code class=Ev id=FETCH_BIND_ADDRESS>FETCH_BIND_ADDRESS</code></a></dt><dd>Specifies a hostname or IP address to which sockets used for outgoing connections will be bound.</dd><dt><a class=permalink href=#FTP_LOGIN><code class=Ev id=FTP_LOGIN>FTP_LOGIN</code></a></dt><dd>Default FTP login if none was provided in the URL.</dd><dt><a class=permalink href=#FTP_PASSIVE_MODE><code class=Ev id=FTP_PASSIVE_MODE>FTP_PASSIVE_MODE</code></a></dt><dd>If set to ‘<code class=Li>no</code>’, forces the FTP code to use active mode. If set to any other value, forces passive mode even if the application requested active mode.</dd><dt><a class=permalink href=#FTP_PASSWORD><code class=Ev id=FTP_PASSWORD>FTP_PASSWORD</code></a></dt><dd>Default FTP password if the remote server requests one and none was provided in the URL.</dd><dt><a class=permalink href=#FTP_PROXY><code class=Ev id=FTP_PROXY>FTP_PROXY</code></a></dt><dd>URL of the proxy to use for FTP requests. The document part is ignored. FTP and HTTP proxies are supported; if no scheme is specified, FTP is assumed. If the proxy is an FTP proxy, <code class=Nm>libfetch</code> will send ‘<code class=Li>user@host</code>’ as user name to the proxy, where ‘<code class=Li>user</code>’ is the real user name, and ‘<code class=Li>host</code>’ is the name of the FTP server. <p class=Pp>If this variable is set to an empty string, no proxy will be used for FTP requests, even if the <code class=Ev>HTTP_PROXY</code> variable is set.</p></dd><dt><a class=permalink href=#ftp_proxy><code class=Ev id=ftp_proxy>ftp_proxy</code></a></dt><dd>Same as <code class=Ev>FTP_PROXY</code>, for compatibility.</dd><dt><a class=permalink href=#HTTP_ACCEPT><code class=Ev id=HTTP_ACCEPT>HTTP_ACCEPT</code></a></dt><dd>Specifies the value of the <var class=Va>Accept</var> header for HTTP requests. If empty, no <var class=Va>Accept</var> header is sent. The default is “*/*”.</dd><dt><a class=permalink href=#HTTP_AUTH><code class=Ev id=HTTP_AUTH>HTTP_AUTH</code></a></dt><dd>Specifies HTTP authorization parameters as a colon-separated list of items. The first and second item are the authorization scheme and realm respectively; further items are scheme-dependent. Currently, the “basic” and “digest” authorization methods are supported. <p class=Pp>Both methods require two parameters: the user name and password, in that order.</p><p class=Pp>This variable is only used if the server requires authorization and no user name or password was specified in the URL.</p></dd><dt><a class=permalink href=#HTTP_PROXY><code class=Ev id=HTTP_PROXY>HTTP_PROXY</code></a></dt><dd>URL of the proxy to use for HTTP requests. The document part is ignored. Only HTTP proxies are supported for HTTP requests. If no port number is specified, the default is 3128. <p class=Pp>Note that this proxy will also be used for FTP documents, unless the <code class=Ev>FTP_PROXY</code> variable is set.</p></dd><dt><a class=permalink href=#http_proxy><code class=Ev id=http_proxy>http_proxy</code></a></dt><dd>Same as <code class=Ev>HTTP_PROXY</code>, for compatibility.</dd><dt><a class=permalink href=#HTTP_PROXY_AUTH><code class=Ev id=HTTP_PROXY_AUTH>HTTP_PROXY_AUTH</code></a></dt><dd>Specifies authorization parameters for the HTTP proxy in the same format as the <code class=Ev>HTTP_AUTH</code> variable. <p class=Pp>This variable is used if and only if connected to an HTTP proxy, and is ignored if a user and/or a password were specified in the proxy URL.</p></dd><dt><a class=permalink href=#HTTP_REFERER><code class=Ev id=HTTP_REFERER>HTTP_REFERER</code></a></dt><dd>Specifies the referrer URL to use for HTTP requests. If set to “auto”, the document URL will be used as referrer URL.</dd><dt><a class=permalink href=#HTTP_USER_AGENT><code class=Ev id=HTTP_USER_AGENT>HTTP_USER_AGENT</code></a></dt><dd>Specifies the User-Agent string to use for HTTP requests. This can be useful when working with HTTP origin or proxy servers that differentiate between user agents. If defined but empty, no User-Agent header is sent.</dd><dt><a class=permalink href=#NETRC><code class=Ev id=NETRC>NETRC</code></a></dt><dd>Specifies a file to use instead of <span class=Pa>~/.netrc</span> to look up login names and passwords for FTP and HTTP sites as well as HTTP proxies. See <a class=Xr href=ftp.1.html>ftp(1)</a> for a description of the file format.</dd><dt><a class=permalink href=#NO_PROXY><code class=Ev id=NO_PROXY>NO_PROXY</code></a></dt><dd>Either a single asterisk, which disables the use of proxies altogether, or a comma- or whitespace-separated list of hosts for which proxies should not be used.</dd><dt><a class=permalink href=#no_proxy><code class=Ev id=no_proxy>no_proxy</code></a></dt><dd>Same as <code class=Ev>NO_PROXY</code>, for compatibility.</dd><dt><a class=permalink href=#SSL_ALLOW_SSL3><code class=Ev id=SSL_ALLOW_SSL3>SSL_ALLOW_SSL3</code></a></dt><dd>Allow SSL version 3 when negotiating the connection (not recommended).</dd><dt><a class=permalink href=#SSL_CA_CERT_FILE><code class=Ev id=SSL_CA_CERT_FILE>SSL_CA_CERT_FILE</code></a></dt><dd>CA certificate bundle containing trusted CA certificates. Default value: See HTTPS SCHEME above.</dd><dt><a class=permalink href=#SSL_CA_CERT_PATH><code class=Ev id=SSL_CA_CERT_PATH>SSL_CA_CERT_PATH</code></a></dt><dd>Path containing trusted CA hashes.</dd><dt><a class=permalink href=#SSL_CLIENT_CERT_FILE><code class=Ev id=SSL_CLIENT_CERT_FILE>SSL_CLIENT_CERT_FILE</code></a></dt><dd>PEM encoded client certificate/key which will be used in client certificate authentication.</dd><dt><a class=permalink href=#SSL_CLIENT_KEY_FILE><code class=Ev id=SSL_CLIENT_KEY_FILE>SSL_CLIENT_KEY_FILE</code></a></dt><dd>PEM encoded client key in case key and client certificate are stored separately.</dd><dt><a class=permalink href=#SSL_CRL_FILE><code class=Ev id=SSL_CRL_FILE>SSL_CRL_FILE</code></a></dt><dd>File containing certificate revocation list.</dd><dt><a class=permalink href=#SSL_NO_TLS1><code class=Ev id=SSL_NO_TLS1>SSL_NO_TLS1</code></a></dt><dd>Do not allow TLS version 1.0 when negotiating the connection.</dd><dt><a class=permalink href=#SSL_NO_TLS1_1><code class=Ev id=SSL_NO_TLS1_1>SSL_NO_TLS1_1</code></a></dt><dd>Do not allow TLS version 1.1 when negotiating the connection.</dd><dt><a class=permalink href=#SSL_NO_TLS1_2><code class=Ev id=SSL_NO_TLS1_2>SSL_NO_TLS1_2</code></a></dt><dd>Do not allow TLS version 1.2 when negotiating the connection.</dd><dt><a class=permalink href=#SSL_NO_VERIFY_HOSTNAME><code class=Ev id=SSL_NO_VERIFY_HOSTNAME>SSL_NO_VERIFY_HOSTNAME</code></a></dt><dd>If set, do not verify that the hostname matches the subject of the certificate presented by the server.</dd><dt><a class=permalink href=#SSL_NO_VERIFY_PEER><code class=Ev id=SSL_NO_VERIFY_PEER>SSL_NO_VERIFY_PEER</code></a></dt><dd>If set, do not verify the peer certificate against trusted CAs.</dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> To access a proxy server on <span class=Pa>proxy.example.com</span> port 8080, set the <code class=Ev>HTTP_PROXY</code> environment variable in a manner similar to this: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>HTTP_PROXY=http://proxy.example.com:8080</code></div><p class=Pp>If the proxy server requires authentication, there are two options available for passing the authentication data. The first method is by using the proxy URL:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>HTTP_PROXY=http://&lt;user&gt;:&lt;pwd&gt;@proxy.example.com:8080</code></div><p class=Pp>The second method is by using the <code class=Ev>HTTP_PROXY_AUTH</code> environment variable:</p><div class="Bd Pp Bd-indent"><pre>
HTTP_PROXY=http://proxy.example.com:8080
HTTP_PROXY_AUTH=basic:*:&lt;user&gt;:&lt;pwd&gt;
</pre></div><p class=Pp>To disable the use of a proxy for an HTTP server running on the local host, define <code class=Ev>NO_PROXY</code> as follows:</p><div class="Bd Pp Bd-indent"><pre>
NO_PROXY=localhost,127.0.0.1
</pre></div><p class=Pp>Access HTTPS website without any certificate verification whatsoever:</p><div class="Bd Pp Bd-indent"><pre>
SSL_NO_VERIFY_PEER=1
SSL_NO_VERIFY_HOSTNAME=1
</pre></div><p class=Pp>Access HTTPS website using client certificate based authentication and a private CA:</p><div class="Bd Pp Bd-indent"><pre>
SSL_CLIENT_CERT_FILE=/path/to/client.pem
SSL_CA_CERT_FILE=/path/to/myca.pem
</pre></div></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=fetch.1.html>fetch(1)</a>, <a class=Xr href=ip.4.html>ip(4)</a><p class=Pp><cite class=Rs><span class=RsA>J. Postel</span> and <span class=RsA>J. K. Reynolds</span>, <i class=RsB>File Transfer Protocol</i>, <span class=RsD>October 1985</span>, <span class=RsO>RFC959</span>.</cite></p><p class=Pp><cite class=Rs><span class=RsA>P. Deutsch</span>, <span class=RsA>A. Emtage</span>, and <span class=RsA>A. Marine.</span>, <span class=RsT>How to Use Anonymous FTP</span>, <span class=RsD>May 1994</span>, <span class=RsO>RFC1635</span>.</cite></p><p class=Pp><cite class=Rs><span class=RsA>T. Berners-Lee</span>, <span class=RsA>L. Masinter</span>, and <span class=RsA>M. McCahill</span>, <span class=RsT>Uniform Resource Locators (URL)</span>, <span class=RsD>December 1994</span>, <span class=RsO>RFC1738</span>.</cite></p><p class=Pp><cite class=Rs><span class=RsA>R. Fielding</span>, <span class=RsA>J. Gettys</span>, <span class=RsA>J. Mogul</span>, <span class=RsA>H. Frystyk</span>, <span class=RsA>L. Masinter</span>, <span class=RsA>P. Leach</span>, and <span class=RsA>T. Berners-Lee</span>, <i class=RsB>Hypertext Transfer Protocol -- HTTP/1.1</i>, <span class=RsD>January 1999</span>, <span class=RsO>RFC2616</span>.</cite></p><p class=Pp><cite class=Rs><span class=RsA>J. Franks</span>, <span class=RsA>P. Hallam-Baker</span>, <span class=RsA>J. Hostetler</span>, <span class=RsA>S. Lawrence</span>, <span class=RsA>P. Leach</span>, <span class=RsA>A. Luotonen</span>, and <span class=RsA>L. Stewart</span>, <i class=RsB>HTTP Authentication: Basic and Digest Access Authentication</i>, <span class=RsD>June 1999</span>, <span class=RsO>RFC2617</span>.</cite></p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>fetch</code> library first appeared in <span class=Ux>FreeBSD 3.0</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> The <code class=Nm>fetch</code> library was mostly written by <span class=An>Dag-Erling Smørgrav</span> &lt;<a class=Mt href=mailto:des@FreeBSD.org>des@FreeBSD.org</a>&gt; with numerous suggestions and contributions from <span class=An>Jordan K. Hubbard</span> &lt;<a class=Mt href=mailto:jkh@FreeBSD.org>jkh@FreeBSD.org</a>&gt;, <span class=An>Eugene Skepner</span> &lt;<a class=Mt href=mailto:eu@qub.com>eu@qub.com</a>&gt;, <span class=An>Hajimu Umemoto</span> &lt;<a class=Mt href=mailto:ume@FreeBSD.org>ume@FreeBSD.org</a>&gt;, <span class=An>Henry Whincup</span> &lt;<a class=Mt href=mailto:henry@techiebod.com>henry@techiebod.com</a>&gt;, <span class=An>Jukka A. Ukkonen</span> &lt;<a class=Mt href=mailto:jau@iki.fi>jau@iki.fi</a>&gt;, <span class=An>Jean-François Dockes</span> &lt;<a class=Mt href=mailto:jf@dockes.org>jf@dockes.org</a>&gt;, <span class=An>Michael Gmelin</span> &lt;<a class=Mt href=mailto:freebsd@grem.de>freebsd@grem.de</a>&gt; and others. It replaces the older <code class=Nm>ftpio</code> library written by <span class=An>Poul-Henning Kamp</span> &lt;<a class=Mt href=mailto:phk@FreeBSD.org>phk@FreeBSD.org</a>&gt; and <span class=An>Jordan K. Hubbard</span> &lt;<a class=Mt href=mailto:jkh@FreeBSD.org>jkh@FreeBSD.org</a>&gt;. <p class=Pp>This manual page was written by <span class=An>Dag-Erling Smørgrav</span> &lt;<a class=Mt href=mailto:des@FreeBSD.org>des@FreeBSD.org</a>&gt; and <span class=An>Michael Gmelin</span> &lt;<a class=Mt href=mailto:freebsd@grem.de>freebsd@grem.de</a>&gt;.</p></section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> Some parts of the library are not yet implemented. The most notable examples of this are <code class=Fn>fetchPutHTTP</code>(), <code class=Fn>fetchListHTTP</code>(), <code class=Fn>fetchListFTP</code>() and FTP proxy support. <p class=Pp>There is no way to select a proxy at run-time other than setting the <code class=Ev>HTTP_PROXY</code> or <code class=Ev>FTP_PROXY</code> environment variables as appropriate.</p><p class=Pp><code class=Nm>libfetch</code> does not understand or obey 305 (Use Proxy) replies.</p><p class=Pp>Error numbers are unique only within a certain context; the error codes used for FTP and HTTP overlap, as do those used for resolver and system errors. For instance, error code 202 means "Command not implemented, superfluous at this site" in an FTP context and "Accepted" in an HTTP context.</p><p class=Pp><code class=Fn>fetchStatFTP</code>() does not check that the result of an MDTM command is a valid date.</p><p class=Pp>In case password protected keys are used for client certificate based authentication the user is prompted for the password on each and every fetch operation.</p><p class=Pp>The man page is incomplete, poorly written and produces badly formatted text.</p><p class=Pp>The error reporting mechanism is unsatisfactory.</p><p class=Pp>Some parts of the code are not fully reentrant.</p></section></div><table class=foot><tr><td class=foot-date>August 28, 2019</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>