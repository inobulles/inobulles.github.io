<!DOCTYPE html>
<html><head><meta charset=utf-8><title>camcontrol(8)</title><keywords content=man,camcontrol></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>camcontrol(8)</h1><table class=head><tr><td class=head-ltitle>CAMCONTROL(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>CAMCONTROL(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>camcontrol</code> — <div class=Nd>CAM control program</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td>⟨<var class=Ar>command</var>⟩ [device id] [generic args] [command args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>devlist</code> [<code class=Fl>-b</code>] [<code class=Fl>-v</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>periphlist</code> [device id] [<code class=Fl>-n</code><var class=Ar>dev_name</var>] [<code class=Fl>-u</code><var class=Ar>unit_number</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>tur</code> [device id] [generic args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>inquiry</code> [device id] [generic args] [<code class=Fl>-D</code>] [<code class=Fl>-S</code>] [<code class=Fl>-R</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>identify</code> [device id] [generic args] [<code class=Fl>-v</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>reportluns</code> [device id] [generic args] [<code class=Fl>-c</code>] [<code class=Fl>-l</code>] [<code class=Fl>-r</code><var class=Ar>reporttype</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>readcap</code> [device id] [generic args] [<code class=Fl>-b</code>] [<code class=Fl>-h</code>] [<code class=Fl>-H</code>] [<code class=Fl>-l</code>] [<code class=Fl>-N</code>] [<code class=Fl>-q</code>] [<code class=Fl>-s</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>start</code> [device id] [generic args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>stop</code> [device id] [generic args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>load</code> [device id] [generic args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>eject</code> [device id] [generic args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>reprobe</code> [device id]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>rescan</code> ⟨all | device id | bus[:target:lun]⟩</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>reset</code> ⟨all | device id | bus[:target:lun]⟩</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>defects</code> [device id] [generic args] ⟨<code class=Fl>-f</code><var class=Ar>format</var>⟩ [<code class=Fl>-P</code>] [<code class=Fl>-G</code>] [<code class=Fl>-q</code>] [<code class=Fl>-s</code>] [<code class=Fl>-S</code><var class=Ar>offset</var>] [<code class=Fl>-X</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>modepage</code> [device id] [generic args] [<code class=Fl>-6</code>] ⟨<code class=Fl>-m</code><var class=Ar>page[,subpage]</var> | <code class=Fl>-l</code>⟩ [<code class=Fl>-P</code><var class=Ar>pgctl</var>] [<code class=Fl>-D</code>] [<code class=Fl>-L</code>] [<code class=Fl>-b</code> | <code class=Fl>-e</code>] [<code class=Fl>-d</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>cmd</code> [device id] [generic args] ⟨<code class=Fl>-a</code><var class=Ar>cmd</var> [args]⟩ ⟨<code class=Fl>-c</code><var class=Ar>cmd</var> [args]⟩ [<code class=Fl>-d</code>] [<code class=Fl>-f</code>] [<code class=Fl>-i</code><var class=Ar>len</var><var class=Ar>fmt</var>] [<code class=Fl>-o</code> <var class=Ar>len</var> <var class=Ar>fmt</var> [args]] [<code class=Fl>-r</code> <var class=Ar>fmt</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>smpcmd</code> [device id] [generic args] ⟨<code class=Fl>-r</code><var class=Ar>len</var><var class=Ar>fmt</var> [args]⟩ ⟨<code class=Fl>-R</code><var class=Ar>len</var><var class=Ar>fmt</var> [args]⟩</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>smprg</code> [device id] [generic args] [<code class=Fl>-l</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>smppc</code> [device id] [generic args] ⟨<code class=Fl>-p</code><var class=Ar>phy</var>⟩ [<code class=Fl>-l</code>] [<code class=Fl>-o</code><var class=Ar>operation</var>] [<code class=Fl>-d</code><var class=Ar>name</var>] [<code class=Fl>-m</code><var class=Ar>rate</var>] [<code class=Fl>-M</code><var class=Ar>rate</var>] [<code class=Fl>-T</code><var class=Ar>pp_timeout</var>] [<code class=Fl>-a</code><var class=Ar>enable|disable</var>] [<code class=Fl>-A</code><var class=Ar>enable|disable</var>] [<code class=Fl>-s</code><var class=Ar>enable|disable</var>] [<code class=Fl>-S</code><var class=Ar>enable|disable</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>smpphylist</code> [device id] [generic args] [<code class=Fl>-l</code>] [<code class=Fl>-q</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>smpmaninfo</code> [device id] [generic args] [<code class=Fl>-l</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>debug</code> [<code class=Fl>-I</code>] [<code class=Fl>-P</code>] [<code class=Fl>-T</code>] [<code class=Fl>-S</code>] [<code class=Fl>-X</code>] [<code class=Fl>-c</code>] [<code class=Fl>-p</code>] ⟨all | off | device id | bus[:target[:lun]]⟩</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>tags</code> [device id] [generic args] [<code class=Fl>-N</code><var class=Ar>tags</var>] [<code class=Fl>-q</code>] [<code class=Fl>-v</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>negotiate</code> [device id] [generic args] [<code class=Fl>-c</code>] [<code class=Fl>-D</code><var class=Ar>enable|disable</var>] [<code class=Fl>-M</code><var class=Ar>mode</var>] [<code class=Fl>-O</code><var class=Ar>offset</var>] [<code class=Fl>-q</code>] [<code class=Fl>-R</code><var class=Ar>syncrate</var>] [<code class=Fl>-T</code><var class=Ar>enable|disable</var>] [<code class=Fl>-U</code>] [<code class=Fl>-W</code><var class=Ar>bus_width</var>] [<code class=Fl>-v</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>format</code> [device id] [generic args] [<code class=Fl>-q</code>] [<code class=Fl>-r</code>] [<code class=Fl>-w</code>] [<code class=Fl>-y</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>sanitize</code> [device id] [generic args] ⟨<code class=Fl>-a</code><var class=Ar>overwrite</var> | <var class=Ar>block</var> | <var class=Ar>crypto</var> | <var class=Ar>exitfailure</var>⟩ [<code class=Fl>-c</code><var class=Ar>passes</var>] [<code class=Fl>-I</code>] [<code class=Fl>-P</code><var class=Ar>pattern</var>] [<code class=Fl>-q</code>] [<code class=Fl>-U</code>] [<code class=Fl>-r</code>] [<code class=Fl>-w</code>] [<code class=Fl>-y</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>idle</code> [device id] [generic args] [<code class=Fl>-t</code><var class=Ar>time</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>standby</code> [device id] [generic args] [<code class=Fl>-t</code><var class=Ar>time</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>sleep</code> [device id] [generic args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>powermode</code> [device id] [generic args]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>apm</code> [device id] [generic args] [<code class=Fl>-l</code><var class=Ar>level</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>aam</code> [device id] [generic args] [<code class=Fl>-l</code><var class=Ar>level</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>fwdownload</code> [device id] [generic args] ⟨<code class=Fl>-f</code><var class=Ar>fw_image</var>⟩ [<code class=Fl>-q</code>] [<code class=Fl>-s</code>] [<code class=Fl>-y</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>security</code> [device id] [generic args] [<code class=Fl>-d</code><var class=Ar>pwd</var>] [<code class=Fl>-e</code><var class=Ar>pwd</var>] [<code class=Fl>-f</code>] [<code class=Fl>-h</code><var class=Ar>pwd</var>] [<code class=Fl>-k</code><var class=Ar>pwd</var>] [<code class=Fl>-l</code><var class=Ar>high|maximum</var>] [<code class=Fl>-q</code>] [<code class=Fl>-s</code><var class=Ar>pwd</var>] [<code class=Fl>-T</code><var class=Ar>timeout</var>] [<code class=Fl>-U</code><var class=Ar>user|master</var>] [<code class=Fl>-y</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>hpa</code> [device id] [generic args] [<code class=Fl>-f</code>] [<code class=Fl>-l</code>] [<code class=Fl>-P</code>] [<code class=Fl>-p</code><var class=Ar>pwd</var>] [<code class=Fl>-q</code>] [<code class=Fl>-s</code><var class=Ar>max_sectors</var>] [<code class=Fl>-U</code><var class=Ar>pwd</var>] [<code class=Fl>-y</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>ama</code> [device id] [generic args] [<code class=Fl>-f</code>] [<code class=Fl>-q</code>] [<code class=Fl>-s</code><var class=Ar>max_sectors</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>persist</code> [device id] [generic args] ⟨<code class=Fl>-i</code><var class=Ar>action</var> | <code class=Fl>-o</code><var class=Ar>action</var>⟩ [<code class=Fl>-a</code>] [<code class=Fl>-I</code><var class=Ar>trans_id</var>] [<code class=Fl>-k</code><var class=Ar>key</var>] [<code class=Fl>-K</code><var class=Ar>sa_key</var>] [<code class=Fl>-p</code>] [<code class=Fl>-R</code><var class=Ar>rel_tgt_port</var>] [<code class=Fl>-s</code><var class=Ar>scope</var>] [<code class=Fl>-S</code>] [<code class=Fl>-T</code><var class=Ar>res_type</var>] [<code class=Fl>-U</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>attrib</code> [device id] [generic args] ⟨<code class=Fl>-r</code><var class=Ar>action</var> | <code class=Fl>-w</code><var class=Ar>attrib</var>⟩ [<code class=Fl>-a</code><var class=Ar>attr_num</var>] [<code class=Fl>-c</code>] [<code class=Fl>-e</code><var class=Ar>elem_addr</var>] [<code class=Fl>-F</code><var class=Ar>form1,form2</var>] [<code class=Fl>-p</code><var class=Ar>part</var>] [<code class=Fl>-s</code><var class=Ar>start_addr</var>] [<code class=Fl>-T</code><var class=Ar>elem_type</var>] [<code class=Fl>-V</code><var class=Ar>lv_num</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>opcodes</code> [device id] [generic args] [<code class=Fl>-o</code><var class=Ar>opcode</var>] [<code class=Fl>-s</code><var class=Ar>service_action</var>] [<code class=Fl>-N</code>] [<code class=Fl>-T</code>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>zone</code> ⟨<code class=Fl>-c</code><var class=Ar>cmd</var>⟩ [<code class=Fl>-a</code>] [<code class=Fl>-l</code><var class=Ar>lba</var>] [<code class=Fl>-o</code><var class=Ar>rep_opts</var>] [<code class=Fl>-P</code><var class=Ar>print_opts</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>epc</code> ⟨<code class=Fl>-c</code><var class=Ar>cmd</var>⟩ [<code class=Fl>-d</code>] [<code class=Fl>-D</code>] [<code class=Fl>-e</code>] [<code class=Fl>-H</code>] [<code class=Fl>-p</code><var class=Ar>power_cond</var>] [<code class=Fl>-P</code>] [<code class=Fl>-r</code><var class=Ar>restore_src</var>] [<code class=Fl>-s</code>] [<code class=Fl>-S</code><var class=Ar>power_src</var>] [<code class=Fl>-T</code><var class=Ar>timer</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>timestamp</code> [device id] [generic args] ⟨<code class=Fl>-r</code> [<code class=Fl>-f</code><var class=Ar>format</var> | <code class=Fl>-m</code> | <code class=Fl>-U</code>] | <code class=Fl>-s</code> ⟨<code class=Fl>-f</code><var class=Ar>format</var><code class=Fl>-T</code><var class=Ar>time</var> | <code class=Fl>-U</code>⟩⟩</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>devtype</code> [device id]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>depop</code> [device id] [generic args] ⟨<code class=Fl>-l</code> | <code class=Fl>-d</code> | <code class=Fl>-r</code>⟩ [<code class=Fl>-e</code><var class=Ar>elem</var>] [<code class=Fl>-c</code><var class=Ar>capacity</var>]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>camcontrol</code></td><td><code class=Ic>help</code></td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>camcontrol</code> utility is designed to provide a way for users to access and control the <span class=Ux>FreeBSD</span> CAM subsystem. <p class=Pp>The <code class=Nm>camcontrol</code> utility can cause a loss of data and/or system crashes if used improperly. Even expert users are encouraged to exercise caution when using this command. Novice users should stay away from this utility.</p><p class=Pp>The <code class=Nm>camcontrol</code> utility has a number of primary functions, many of which support an optional device identifier. A device identifier can take one of three forms:</p><dl class=Bl-tag><dt>deviceUNIT</dt><dd>Specify a device name and unit number combination, like "da5" or "cd3".</dd><dt>bus:target</dt><dd>Specify a bus number and target id. The bus number can be determined from the output of “camcontrol devlist”. The lun defaults to 0.</dd><dt>bus:target:lun</dt><dd>Specify the bus, target and lun for a device. (e.g. 1:2:0)</dd></dl><p class=Pp>The device identifier, if it is specified, <i class=Em>must</i> come immediately after the function name, and before any generic or function-specific arguments. Note that the <code class=Fl>-n</code> and <code class=Fl>-u</code> arguments described below will override any device name or unit number specified beforehand. The <code class=Fl>-n</code> and <code class=Fl>-u</code> arguments will <i class=Em>not</i> override a specified bus:target or bus:target:lun, however.</p><p class=Pp>Most of the <code class=Nm>camcontrol</code> primary functions support these generic arguments:</p><dl class=Bl-tag><dt><a class=permalink href=#C><code class=Fl id=C>-C</code></a><var class=Ar>count</var></dt><dd>SCSI command retry count. In order for this to work, error recovery (<code class=Fl>-E</code>) must be turned on.</dd><dt><a class=permalink href=#E><code class=Fl id=E>-E</code></a></dt><dd>Instruct the kernel to perform generic SCSI error recovery for the given command. This is needed in order for the retry count (<code class=Fl>-C</code>) to be honored. Other than retrying commands, the generic error recovery in the code will generally attempt to spin up drives that are not spinning. It may take some other actions, depending upon the sense code returned from the command.</dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a><var class=Ar>dev_name</var></dt><dd>Specify the device type to operate on, e.g. "da", "cd".</dd><dt><a class=permalink href=#Q><code class=Fl id=Q>-Q</code></a><var class=Ar>task_attr</var></dt><dd>SCSI task attribute for the command, if it is a SCSI command. This may be ordered, simple, head, or aca. In most cases this is not needed. The default is simple, which works with all SCSI devices. The task attribute may also be specified numerically.</dd><dt><a class=permalink href=#t><code class=Fl id=t>-t</code></a><var class=Ar>timeout</var></dt><dd>SCSI command timeout in seconds. This overrides the default timeout for any given command.</dd><dt><a class=permalink href=#u><code class=Fl id=u>-u</code></a><var class=Ar>unit_number</var></dt><dd>Specify the device unit number, e.g. "1", "5".</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a></dt><dd>Be verbose, print out sense information for failed SCSI commands.</dd></dl><p class=Pp>Primary command functions:</p><dl class=Bl-tag><dt><a class=permalink href=#devlist><code class=Ic id=devlist>devlist</code></a></dt><dd>List all physical devices (logical units) attached to the CAM subsystem. This also includes a list of peripheral drivers attached to each device. With the <code class=Fl>-v</code> argument, SCSI bus number, adapter name and unit numbers are printed as well. On the other hand, with the <code class=Fl>-b</code> argument, only the bus adapter, and unit information will be printed, and device information will be omitted.</dd><dt><a class=permalink href=#periphlist><code class=Ic id=periphlist>periphlist</code></a></dt><dd>List all peripheral drivers attached to a given physical device (logical unit).</dd><dt><a class=permalink href=#tur><code class=Ic id=tur>tur</code></a></dt><dd>Send the SCSI test unit ready (0x00) command to the given device. The <code class=Nm>camcontrol</code> utility will report whether the device is ready or not.</dd><dt><a class=permalink href=#inquiry><code class=Ic id=inquiry>inquiry</code></a></dt><dd>Send a SCSI inquiry command (0x12) to a device. By default, <code class=Nm>camcontrol</code> will print out the standard inquiry data, device serial number, and transfer rate information. The user can specify that only certain types of inquiry data be printed: <dl class=Bl-tag><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a></dt><dd>Get the standard inquiry data.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a></dt><dd>Print out the serial number. If this flag is the only one specified, <code class=Nm>camcontrol</code> will not print out "Serial Number" before the value returned by the drive. This is to aid in script writing.</dd><dt><a class=permalink href=#R><code class=Fl id=R>-R</code></a></dt><dd>Print out transfer rate information.</dd></dl></dd><dt><a class=permalink href=#identify><code class=Ic id=identify>identify</code></a></dt><dd>Send a ATA identify command (0xec) to a device.</dd><dt><a class=permalink href=#reportluns><code class=Ic id=reportluns>reportluns</code></a></dt><dd>Send the SCSI REPORT LUNS (0xA0) command to the given device. By default, <code class=Nm>camcontrol</code> will print out the list of logical units (LUNs) supported by the target device. There are a couple of options to modify the output: <dl class=Bl-tag><dt><a class=permalink href=#c><code class=Fl id=c>-c</code></a></dt><dd>Just print out a count of LUNs, not the actual LUN numbers.</dd><dt><a class=permalink href=#l><code class=Fl id=l>-l</code></a></dt><dd>Just print out the LUNs, and do not print out the count.</dd><dt><a class=permalink href=#r><code class=Fl id=r>-r</code></a><var class=Ar>reporttype</var></dt><dd>Specify the type of report to request from the target: <dl class=Bl-tag><dt>default</dt><dd>Return the default report. This is the <code class=Nm>camcontrol</code> default. Most targets will support this report if they support the REPORT LUNS command.</dd><dt>wellknown</dt><dd>Return only well known LUNs.</dd><dt>all</dt><dd>Return all available LUNs.</dd></dl></dd></dl><p class=Pp><code class=Nm>camcontrol</code> will try to print out LUN numbers in a reasonable format. It can understand the peripheral, flat, LUN and extended LUN formats.</p></dd><dt><a class=permalink href=#readcap><code class=Ic id=readcap>readcap</code></a></dt><dd>Send the SCSI READ CAPACITY command to the given device and display the results. If the device is larger than 2TB, the SCSI READ CAPACITY (16) service action will be sent to obtain the full size of the device. By default, <code class=Nm>camcontrol</code> will print out the last logical block of the device, and the blocksize of the device in bytes. To modify the output format, use the following options: <dl class=Bl-tag><dt><a class=permalink href=#b><code class=Fl id=b>-b</code></a></dt><dd>Just print out the blocksize, not the last block or device size. This cannot be used with <code class=Fl>-N</code> or <code class=Fl>-s</code>.</dd><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a></dt><dd>Print out the device size in human readable (base 2, 1K == 1024) format. This implies <code class=Fl>-N</code> and cannot be used with <code class=Fl>-q</code> or <code class=Fl>-b</code>.</dd><dt><a class=permalink href=#H><code class=Fl id=H>-H</code></a></dt><dd>Print out the device size in human readable (base 10, 1K == 1000) format.</dd><dt><a class=permalink href=#l_2><code class=Fl id=l_2>-l</code></a></dt><dd>Skip sending the SCSI READ CAPACITY (10) command. Send only the SCSI READ CAPACITY (16) service action and report its results. When the two do not match, a quirk is needed to resolve the ambiguity.</dd><dt><a class=permalink href=#N><code class=Fl id=N>-N</code></a></dt><dd>Print out the number of blocks in the device instead of the last logical block.</dd><dt><a class=permalink href=#q><code class=Fl id=q>-q</code></a></dt><dd>Quiet, print out the numbers only (separated by a comma if <code class=Fl>-b</code> or <code class=Fl>-s</code> are not specified).</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a></dt><dd>Print out the last logical block or the size of the device only, and omit the blocksize.</dd></dl><p class=Pp>Note that this command only displays the information, it does not update the kernel data structures. Use the <code class=Nm>camcontrol</code> reprobe subcommand to do that.</p></dd><dt><a class=permalink href=#start><code class=Ic id=start>start</code></a></dt><dd>Send the SCSI Start/Stop Unit (0x1B) command to the given device with the start bit set.</dd><dt><a class=permalink href=#stop><code class=Ic id=stop>stop</code></a></dt><dd>Send the SCSI Start/Stop Unit (0x1B) command to the given device with the start bit cleared.</dd><dt><a class=permalink href=#load><code class=Ic id=load>load</code></a></dt><dd>Send the SCSI Start/Stop Unit (0x1B) command to the given device with the start bit set and the load/eject bit set.</dd><dt><a class=permalink href=#eject><code class=Ic id=eject>eject</code></a></dt><dd>Send the SCSI Start/Stop Unit (0x1B) command to the given device with the start bit cleared and the load/eject bit set.</dd><dt><a class=permalink href=#rescan><code class=Ic id=rescan>rescan</code></a></dt><dd>Tell the kernel to scan all buses in the system (with the <var class=Ar>all</var> argument), the given bus (XPT_SCAN_BUS), bus:target:lun or device (XPT_SCAN_LUN) for new devices or devices that have gone away. The user may specify a scan of all buses, a single bus, or a lun. Scanning all luns on a target is not supported. <p class=Pp>If a device is specified by peripheral name and unit number, for instance da4, it may only be rescanned if that device currently exists in the CAM EDT (Existing Device Table). If the device is no longer there (see <code class=Nm>camcontrol</code> devlist ), you must use the bus:target:lun form to rescan it.</p></dd><dt><a class=permalink href=#reprobe><code class=Ic id=reprobe>reprobe</code></a></dt><dd>Tell the kernel to refresh the information about the device and notify the upper layer, <a class=Xr href=GEOM.4.html>GEOM(4)</a>. This includes sending the SCSI READ CAPACITY command and updating the disk size visible to the rest of the system.</dd><dt><a class=permalink href=#reset><code class=Ic id=reset>reset</code></a></dt><dd>Tell the kernel to reset all buses in the system (with the <var class=Ar>all</var> argument), the given bus (XPT_RESET_BUS) by issuing a SCSI bus reset for that bus, or to reset the given bus:target:lun or device (XPT_RESET_DEV), typically by issuing a BUS DEVICE RESET message after connecting to that device. Note that this can have a destructive impact on the system.</dd><dt><a class=permalink href=#defects><code class=Ic id=defects>defects</code></a></dt><dd>Send the SCSI READ DEFECT DATA (10) command (0x37) or the SCSI READ DEFECT DATA (12) command (0xB7) to the given device, and print out any combination of: the total number of defects, the primary defect list (PLIST), and the grown defect list (GLIST). <dl class=Bl-tag><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a><var class=Ar>format</var></dt><dd>Specify the requested format of the defect list. The format argument is required. Most drives support the physical sector format. Some drives support the logical block format. Many drives, if they do not support the requested format, return the data in an alternate format, along with sense information indicating that the requested data format is not supported. The <code class=Nm>camcontrol</code> utility attempts to detect this, and print out whatever format the drive returns. If the drive uses a non-standard sense code to report that it does not support the requested format, <code class=Nm>camcontrol</code> will probably see the error as a failure to complete the request. <p class=Pp>The format options are:</p><dl class=Bl-tag><dt>block</dt><dd>Print out the list as logical blocks. This is limited to 32-bit block sizes, and isn't supported by many modern drives.</dd><dt>longblock</dt><dd>Print out the list as logical blocks. This option uses a 64-bit block size.</dd><dt>bfi</dt><dd>Print out the list in bytes from index format.</dd><dt>extbfi</dt><dd>Print out the list in extended bytes from index format. The extended format allows for ranges of blocks to be printed.</dd><dt>phys</dt><dd>Print out the list in physical sector format. Most drives support this format.</dd><dt>extphys</dt><dd>Print out the list in extended physical sector format. The extended format allows for ranges of blocks to be printed.</dd></dl></dd><dt><a class=permalink href=#G><code class=Fl id=G>-G</code></a></dt><dd>Print out the grown defect list. This is a list of bad blocks that have been remapped since the disk left the factory.</dd><dt><a class=permalink href=#P><code class=Fl id=P>-P</code></a></dt><dd>Print out the primary defect list. This is the list of defects that were present in the factory.</dd><dt><a class=permalink href=#q_2><code class=Fl id=q_2>-q</code></a></dt><dd>When printing status information with <code class=Fl>-s</code>, only print the number of defects.</dd><dt><a class=permalink href=#s_2><code class=Fl id=s_2>-s</code></a></dt><dd>Just print the number of defects, not the list of defects.</dd><dt><a class=permalink href=#S_2><code class=Fl id=S_2>-S</code></a><var class=Ar>offset</var></dt><dd>Specify the starting offset into the defect list. This implies using the SCSI READ DEFECT DATA (12) command, as the 10 byte version of the command doesn't support the address descriptor index field. Not all drives support the 12 byte command, and some drives that support the 12 byte command don't support the address descriptor index field.</dd><dt><a class=permalink href=#X><code class=Fl id=X>-X</code></a></dt><dd>Print out defects in hexadecimal (base 16) form instead of base 10 form.</dd></dl><p class=Pp>If neither <code class=Fl>-P</code> nor <code class=Fl>-G</code> is specified, <code class=Nm>camcontrol</code> will print out the number of defects given in the READ DEFECT DATA header returned from the drive. Some drives will report 0 defects if neither the primary or grown defect lists are requested.</p></dd><dt><a class=permalink href=#modepage><code class=Ic id=modepage>modepage</code></a></dt><dd>Allows the user to display and optionally edit a SCSI mode page. The mode page formats are located in <span class=Pa>/usr/share/misc/scsi_modes</span>. This can be overridden by specifying a different file in the <code class=Ev>SCSI_MODES</code> environment variable. The <code class=Ic>modepage</code> command takes several arguments: <dl class=Bl-tag><dt><a class=permalink href=#6><code class=Fl id=6>-6</code></a></dt><dd>Use 6 byte MODE commands instead of default 10 byte. Old devices may not support 10 byte MODE commands, while new devices may not be able to report all mode pages with 6 byte commands. If not specified, <code class=Nm>camcontrol</code> starts with 10 byte commands and falls back to 6 byte on error.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a></dt><dd>Disable block descriptors for mode sense.</dd><dt><a class=permalink href=#D_2><code class=Fl id=D_2>-D</code></a></dt><dd>Display/edit block descriptors instead of mode page.</dd><dt><a class=permalink href=#L><code class=Fl id=L>-L</code></a></dt><dd>Use long LBA block descriptors. Allows number of LBAs bigger then 2^^32.</dd><dt><a class=permalink href=#b_2><code class=Fl id=b_2>-b</code></a></dt><dd>Displays mode page data in binary format.</dd><dt><a class=permalink href=#e><code class=Fl id=e>-e</code></a></dt><dd>This flag allows the user to edit values in the mode page. The user may either edit mode page values with the text editor pointed to by his <code class=Ev>EDITOR</code> environment variable, or supply mode page values via standard input, using the same format that <code class=Nm>camcontrol</code> uses to display mode page values. The editor will be invoked if <code class=Nm>camcontrol</code> detects that standard input is terminal.</dd><dt><a class=permalink href=#l_3><code class=Fl id=l_3>-l</code></a></dt><dd>Lists all available mode pages. If specified more then once, also lists subpages.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a><var class=Ar>page[,subpage]</var></dt><dd>This specifies the number of the mode page and optionally subpage the user would like to view and/or edit. This argument is mandatory unless <code class=Fl>-l</code> is specified.</dd><dt><a class=permalink href=#P_2><code class=Fl id=P_2>-P</code></a><var class=Ar>pgctl</var></dt><dd>This allows the user to specify the page control field. Possible values are: <dl class="Bl-tag Bl-compact"><dt>0</dt><dd>Current values</dd><dt>1</dt><dd>Changeable values</dd><dt>2</dt><dd>Default values</dd><dt>3</dt><dd>Saved values</dd></dl></dd></dl></dd><dt><a class=permalink href=#cmd><code class=Ic id=cmd>cmd</code></a></dt><dd>Allows the user to send an arbitrary ATA or SCSI CDB to any device. The <code class=Ic>cmd</code> function requires the <code class=Fl>-c</code> argument to specify SCSI CDB or the <code class=Fl>-a</code> argument to specify ATA Command Block registers values. Other arguments are optional, depending on the command type. The command and data specification syntax is documented in <a class=Xr href=cam_cdbparse.3.html>cam_cdbparse(3)</a>. NOTE: If the CDB specified causes data to be transferred to or from the SCSI device in question, you MUST specify either <code class=Fl>-i</code> or <code class=Fl>-o</code>. <dl class=Bl-tag><dt><a class=permalink href=#a><code class=Fl id=a>-a</code></a><var class=Ar>cmd</var> [args]</dt><dd>This specifies the content of 12 ATA Command Block registers (command, features, lba_low, lba_mid, lba_high, device, lba_low_exp, lba_mid_exp. lba_high_exp, features_exp, sector_count, sector_count_exp).</dd><dt><a class=permalink href=#c_2><code class=Fl id=c_2>-c</code></a><var class=Ar>cmd</var> [args]</dt><dd>This specifies the SCSI CDB. SCSI CDBs may be 6, 10, 12 or 16 bytes.</dd><dt><a class=permalink href=#d_2><code class=Fl id=d_2>-d</code></a></dt><dd>Specifies DMA protocol to be used for ATA command.</dd><dt><a class=permalink href=#f_2><code class=Fl id=f_2>-f</code></a></dt><dd>Specifies FPDMA (NCQ) protocol to be used for ATA command.</dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a><var class=Ar>len</var><var class=Ar>fmt</var></dt><dd>This specifies the amount of data to read, and how it should be displayed. If the format is ‘-’, <var class=Ar>len</var> bytes of data will be read from the device and written to standard output.</dd><dt><a class=permalink href=#o><code class=Fl id=o>-o</code></a><var class=Ar>len</var><var class=Ar>fmt</var> [args]</dt><dd>This specifies the amount of data to be written to a device, and the data that is to be written. If the format is ‘-’, <var class=Ar>len</var> bytes of data will be read from standard input and written to the device.</dd><dt><a class=permalink href=#r_2><code class=Fl id=r_2>-r</code></a><var class=Ar>fmt</var></dt><dd>This specifies that 11 result ATA Command Block registers should be displayed (status, error, lba_low, lba_mid, lba_high, device, lba_low_exp, lba_mid_exp, lba_high_exp, sector_count, sector_count_exp), and how. If the format is ‘-’, 11 result registers will be written to standard output in hex.</dd></dl></dd><dt><a class=permalink href=#smpcmd><code class=Ic id=smpcmd>smpcmd</code></a></dt><dd>Allows the user to send an arbitrary Serial Management Protocol (SMP) command to a device. The <code class=Ic>smpcmd</code> function requires the <code class=Fl>-r</code> argument to specify the SMP request to be sent, and the <code class=Fl>-R</code> argument to specify the format of the SMP response. The syntax for the SMP request and response arguments is documented in <a class=Xr href=cam_cdbparse.3.html>cam_cdbparse(3)</a>. <p class=Pp>Note that SAS adapters that support SMP passthrough (at least the currently known adapters) do not accept CRC bytes from the user in the request and do not pass CRC bytes back to the user in the response. Therefore users should not include the CRC bytes in the length of the request and not expect CRC bytes to be returned in the response.</p><dl class=Bl-tag><dt><a class=permalink href=#r_3><code class=Fl id=r_3>-r</code></a><var class=Ar>len</var><var class=Ar>fmt</var> [args]</dt><dd>This specifies the size of the SMP request, without the CRC bytes, and the SMP request format. If the format is ‘-’, <var class=Ar>len</var> bytes of data will be read from standard input and written as the SMP request.</dd><dt><a class=permalink href=#R_2><code class=Fl id=R_2>-R</code></a><var class=Ar>len</var><var class=Ar>fmt</var> [args]</dt><dd>This specifies the size of the buffer allocated for the SMP response, and the SMP response format. If the format is ‘-’, <var class=Ar>len</var> bytes of data will be allocated for the response and the response will be written to standard output.</dd></dl></dd><dt><a class=permalink href=#smprg><code class=Ic id=smprg>smprg</code></a></dt><dd>Allows the user to send the Serial Management Protocol (SMP) Report General command to a device. <code class=Nm>camcontrol</code> will display the data returned by the Report General command. If the SMP target supports the long response format, the additional data will be requested and displayed automatically. <dl class=Bl-tag><dt><a class=permalink href=#l_4><code class=Fl id=l_4>-l</code></a></dt><dd>Request the long response format only. Not all SMP targets support the long response format. This option causes <code class=Nm>camcontrol</code> to skip sending the initial report general request without the long bit set and only issue a report general request with the long bit set.</dd></dl></dd><dt><a class=permalink href=#smppc><code class=Ic id=smppc>smppc</code></a></dt><dd>Allows the user to issue the Serial Management Protocol (SMP) PHY Control command to a device. This function should be used with some caution, as it can render devices inaccessible, and could potentially cause data corruption as well. The <code class=Fl>-p</code> argument is required to specify the PHY to operate on. <dl class=Bl-tag><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a><var class=Ar>phy</var></dt><dd>Specify the PHY to operate on. This argument is required.</dd><dt><a class=permalink href=#l_5><code class=Fl id=l_5>-l</code></a></dt><dd>Request the long request/response format. Not all SMP targets support the long response format. For the PHY Control command, this currently only affects whether the request length is set to a value other than 0.</dd><dt><a class=permalink href=#o_2><code class=Fl id=o_2>-o</code></a><var class=Ar>operation</var></dt><dd>Specify a PHY control operation. Only one <code class=Fl>-o</code> operation may be specified. The operation may be specified numerically (in decimal, hexadecimal, or octal) or one of the following operation names may be specified: <dl class=Bl-tag><dt>nop</dt><dd>No operation. It is not necessary to specify this argument.</dd><dt>linkreset</dt><dd>Send the LINK RESET command to the phy.</dd><dt>hardreset</dt><dd>Send the HARD RESET command to the phy.</dd><dt>disable</dt><dd>Send the DISABLE command to the phy. Note that the LINK RESET or HARD RESET commands should re-enable the phy.</dd><dt>clearerrlog</dt><dd>Send the CLEAR ERROR LOG command. This clears the error log counters for the specified phy.</dd><dt>clearaffiliation</dt><dd>Send the CLEAR AFFILIATION command. This clears the affiliation from the STP initiator port with the same SAS address as the SMP initiator that requests the clear operation.</dd><dt>sataportsel</dt><dd>Send the TRANSMIT SATA PORT SELECTION SIGNAL command to the phy. This will cause a SATA port selector to use the given phy as its active phy and make the other phy inactive.</dd><dt>clearitnl</dt><dd>Send the CLEAR STP I_T NEXUS LOSS command to the PHY.</dd><dt>setdevname</dt><dd>Send the SET ATTACHED DEVICE NAME command to the PHY. This requires the <code class=Fl>-d</code> argument to specify the device name.</dd></dl></dd><dt><a class=permalink href=#d_3><code class=Fl id=d_3>-d</code></a><var class=Ar>name</var></dt><dd>Specify the attached device name. This option is needed with the <code class=Fl>-o</code><var class=Ar>setdevname</var> phy operation. The name is a 64-bit number, and can be specified in decimal, hexadecimal or octal format.</dd><dt><a class=permalink href=#m_2><code class=Fl id=m_2>-m</code></a><var class=Ar>rate</var></dt><dd>Set the minimum physical link rate for the phy. This is a numeric argument. Currently known link rates are: <dl class=Bl-tag><dt>0x0</dt><dd>Do not change current value.</dd><dt>0x8</dt><dd>1.5 Gbps</dd><dt>0x9</dt><dd>3 Gbps</dd><dt>0xa</dt><dd>6 Gbps</dd></dl><p class=Pp>Other values may be specified for newer physical link rates.</p></dd><dt><a class=permalink href=#M><code class=Fl id=M>-M</code></a><var class=Ar>rate</var></dt><dd>Set the maximum physical link rate for the phy. This is a numeric argument. See the <code class=Fl>-m</code> argument description for known link rate arguments.</dd><dt><a class=permalink href=#T><code class=Fl id=T>-T</code></a><var class=Ar>pp_timeout</var></dt><dd>Set the partial pathway timeout value, in microseconds. See the ANSI SAS Protocol Layer (SPL) specification for more information on this field.</dd><dt><a class=permalink href=#a_2><code class=Fl id=a_2>-a</code></a><var class=Ar>enable|disable</var></dt><dd>Enable or disable SATA slumber phy power conditions.</dd><dt><a class=permalink href=#A><code class=Fl id=A>-A</code></a><var class=Ar>enable|disable</var></dt><dd>Enable or disable SATA partial power conditions.</dd><dt><a class=permalink href=#s_3><code class=Fl id=s_3>-s</code></a><var class=Ar>enable|disable</var></dt><dd>Enable or disable SAS slumber phy power conditions.</dd><dt><a class=permalink href=#S_3><code class=Fl id=S_3>-S</code></a><var class=Ar>enable|disable</var></dt><dd>Enable or disable SAS partial phy power conditions.</dd></dl></dd><dt><a class=permalink href=#smpphylist><code class=Ic id=smpphylist>smpphylist</code></a></dt><dd>List phys attached to a SAS expander, the address of the end device attached to the phy, and the inquiry data for that device and peripheral devices attached to that device. The inquiry data and peripheral devices are displayed if available. <dl class=Bl-tag><dt><a class=permalink href=#l_6><code class=Fl id=l_6>-l</code></a></dt><dd>Turn on the long response format for the underlying SMP commands used for this command.</dd><dt><a class=permalink href=#q_3><code class=Fl id=q_3>-q</code></a></dt><dd>Only print out phys that are attached to a device in the CAM EDT (Existing Device Table).</dd></dl></dd><dt><a class=permalink href=#smpmaninfo><code class=Ic id=smpmaninfo>smpmaninfo</code></a></dt><dd>Send the SMP Report Manufacturer Information command to the device and display the response. <dl class=Bl-tag><dt><a class=permalink href=#l_7><code class=Fl id=l_7>-l</code></a></dt><dd>Turn on the long response format for the underlying SMP commands used for this command.</dd></dl></dd><dt><a class=permalink href=#debug><code class=Ic id=debug>debug</code></a></dt><dd>Turn on CAM debugging printfs in the kernel. This requires options CAMDEBUG in your kernel config file. WARNING: enabling debugging printfs currently causes an EXTREME number of kernel printfs. You may have difficulty turning off the debugging printfs once they start, since the kernel will be busy printing messages and unable to service other requests quickly. The <code class=Ic>debug</code> function takes a number of arguments: <dl class=Bl-tag><dt><a class=permalink href=#I><code class=Fl id=I>-I</code></a></dt><dd>Enable CAM_DEBUG_INFO printfs.</dd><dt><a class=permalink href=#P_3><code class=Fl id=P_3>-P</code></a></dt><dd>Enable CAM_DEBUG_PERIPH printfs.</dd><dt><a class=permalink href=#T_2><code class=Fl id=T_2>-T</code></a></dt><dd>Enable CAM_DEBUG_TRACE printfs.</dd><dt><a class=permalink href=#S_4><code class=Fl id=S_4>-S</code></a></dt><dd>Enable CAM_DEBUG_SUBTRACE printfs.</dd><dt><a class=permalink href=#X_2><code class=Fl id=X_2>-X</code></a></dt><dd>Enable CAM_DEBUG_XPT printfs.</dd><dt><a class=permalink href=#c_3><code class=Fl id=c_3>-c</code></a></dt><dd>Enable CAM_DEBUG_CDB printfs. This will cause the kernel to print out the SCSI CDBs sent to the specified device(s).</dd><dt><a class=permalink href=#p_2><code class=Fl id=p_2>-p</code></a></dt><dd>Enable CAM_DEBUG_PROBE printfs.</dd><dt>all</dt><dd>Enable debugging for all devices.</dd><dt>off</dt><dd>Turn off debugging for all devices</dd><dt>bus[:target[:lun]]</dt><dd>Turn on debugging for the given bus, target or lun. If the lun or target and lun are not specified, they are wildcarded. (i.e., just specifying a bus turns on debugging printfs for all devices on that bus.)</dd></dl></dd><dt><a class=permalink href=#tags><code class=Ic id=tags>tags</code></a></dt><dd>Show or set the number of "tagged openings" or simultaneous transactions we attempt to queue to a particular device. By default, the <code class=Ic>tags</code> command, with no command-specific arguments (i.e., only generic arguments) prints out the "soft" maximum number of transactions that can be queued to the device in question. For more detailed information, use the <code class=Fl>-v</code> argument described below. <dl class=Bl-tag><dt><a class=permalink href=#N_2><code class=Fl id=N_2>-N</code></a><var class=Ar>tags</var></dt><dd>Set the number of tags for the given device. This must be between the minimum and maximum number set in the kernel quirk table. The default for most devices that support tagged queueing is a minimum of 2 and a maximum of 255. The minimum and maximum values for a given device may be determined by using the <code class=Fl>-v</code> switch. The meaning of the <code class=Fl>-v</code> switch for this <code class=Nm>camcontrol</code> subcommand is described below.</dd><dt><a class=permalink href=#q_4><code class=Fl id=q_4>-q</code></a></dt><dd>Be quiet, and do not report the number of tags. This is generally used when setting the number of tags.</dd><dt><a class=permalink href=#v_2><code class=Fl id=v_2>-v</code></a></dt><dd>The verbose flag has special functionality for the <i class=Em>tags</i> argument. It causes <code class=Nm>camcontrol</code> to print out the tagged queueing related fields of the XPT_GDEV_TYPE CCB: <dl class=Bl-tag><dt>dev_openings</dt><dd>This is the amount of capacity for transactions queued to a given device.</dd><dt>dev_active</dt><dd>This is the number of transactions currently queued to a device.</dd><dt>allocated</dt><dd>This is the number of CCBs allocated for the device.</dd><dt>held</dt><dd>The held count is the number of CCBs held by peripheral drivers that have either just been completed or are about to be released to the transport layer for service by a device. Held CCBs reserve capacity on a given device.</dd><dt>mintags</dt><dd>This is the current "hard" minimum number of transactions that can be queued to a device at once. The <var class=Ar>dev_openings</var> value above cannot go below this number. The default value for <var class=Ar>mintags</var> is 2, although it may be set higher or lower for various devices.</dd><dt>maxtags</dt><dd>This is the "hard" maximum number of transactions that can be queued to a device at one time. The <var class=Ar>dev_openings</var> value cannot go above this number. The default value for <var class=Ar>maxtags</var> is 255, although it may be set higher or lower for various devices.</dd></dl></dd></dl></dd><dt><a class=permalink href=#negotiate><code class=Ic id=negotiate>negotiate</code></a></dt><dd>Show or negotiate various communication parameters. Some controllers may not support setting or changing some of these values. For instance, the Adaptec 174x controllers do not support changing a device's sync rate or offset. The <code class=Nm>camcontrol</code> utility will not attempt to set the parameter if the controller indicates that it does not support setting the parameter. To find out what the controller supports, use the <code class=Fl>-v</code> flag. The meaning of the <code class=Fl>-v</code> flag for the <code class=Ic>negotiate</code> command is described below. Also, some controller drivers do not support setting negotiation parameters, even if the underlying controller supports negotiation changes. Some controllers, such as the Advansys wide controllers, support enabling and disabling synchronous negotiation for a device, but do not support setting the synchronous negotiation rate. <dl class=Bl-tag><dt><a class=permalink href=#a_3><code class=Fl id=a_3>-a</code></a></dt><dd>Attempt to make the negotiation settings take effect immediately by sending a Test Unit Ready command to the device.</dd><dt><a class=permalink href=#c_4><code class=Fl id=c_4>-c</code></a></dt><dd>Show or set current negotiation settings. This is the default.</dd><dt><a class=permalink href=#D_3><code class=Fl id=D_3>-D</code></a><var class=Ar>enable|disable</var></dt><dd>Enable or disable disconnection.</dd><dt><a class=permalink href=#M_2><code class=Fl id=M_2>-M</code></a><var class=Ar>mode</var></dt><dd>Set ATA mode.</dd><dt><a class=permalink href=#O><code class=Fl id=O>-O</code></a><var class=Ar>offset</var></dt><dd>Set the command delay offset.</dd><dt><a class=permalink href=#q_5><code class=Fl id=q_5>-q</code></a></dt><dd>Be quiet, do not print anything. This is generally useful when you want to set a parameter, but do not want any status information.</dd><dt><a class=permalink href=#R_3><code class=Fl id=R_3>-R</code></a><var class=Ar>syncrate</var></dt><dd>Change the synchronization rate for a device. The sync rate is a floating point value specified in MHz. So, for instance, ‘20.000’ is a legal value, as is ‘20’.</dd><dt><a class=permalink href=#T_3><code class=Fl id=T_3>-T</code></a><var class=Ar>enable|disable</var></dt><dd>Enable or disable tagged queueing for a device.</dd><dt><a class=permalink href=#U><code class=Fl id=U>-U</code></a></dt><dd>Show or set user negotiation settings. The default is to show or set current negotiation settings.</dd><dt><a class=permalink href=#v_3><code class=Fl id=v_3>-v</code></a></dt><dd>The verbose switch has special meaning for the <code class=Ic>negotiate</code> subcommand. It causes <code class=Nm>camcontrol</code> to print out the contents of a Path Inquiry (XPT_PATH_INQ) CCB sent to the controller driver.</dd><dt><a class=permalink href=#W><code class=Fl id=W>-W</code></a><var class=Ar>bus_width</var></dt><dd>Specify the bus width to negotiate with a device. The bus width is specified in bits. The only useful values to specify are 8, 16, and 32 bits. The controller must support the bus width in question in order for the setting to take effect.</dd></dl><p class=Pp>In general, sync rate and offset settings will not take effect for a device until a command has been sent to the device. The <code class=Fl>-a</code> switch above will automatically send a Test Unit Ready to the device so negotiation parameters will take effect.</p></dd><dt><a class=permalink href=#format><code class=Ic id=format>format</code></a></dt><dd>Issue the SCSI FORMAT UNIT command to the named device. <p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>Low level formatting a disk will destroy ALL data on the disk. Use extreme caution when issuing this command. Many users low-level format disks that do not really need to be low-level formatted. There are relatively few scenarios that call for low-level formatting a disk. One reason for low-level formatting a disk is to initialize the disk after changing its physical sector size. Another reason for low-level formatting a disk is to revive the disk if you are getting "medium format corrupted" errors from the disk in response to read and write requests.</p><p class=Pp>Some disks take longer than others to format. Users should specify a timeout long enough to allow the format to complete. The default format timeout is 3 hours, which should be long enough for most disks. Some hard disks will complete a format operation in a very short period of time (on the order of 5 minutes or less). This is often because the drive does not really support the FORMAT UNIT command -- it just accepts the command, waits a few minutes and then returns it.</p><p class=Pp>The ‘format’ subcommand takes several arguments that modify its default behavior. The <code class=Fl>-q</code> and <code class=Fl>-y</code> arguments can be useful for scripts.</p><dl class=Bl-tag><dt><a class=permalink href=#q_6><code class=Fl id=q_6>-q</code></a></dt><dd>Be quiet, do not print any status messages. This option will not disable the questions, however. To disable questions, use the <code class=Fl>-y</code> argument, below.</dd><dt><a class=permalink href=#r_4><code class=Fl id=r_4>-r</code></a></dt><dd>Run in “report only” mode. This will report status on a format that is already running on the drive.</dd><dt><a class=permalink href=#w><code class=Fl id=w>-w</code></a></dt><dd>Issue a non-immediate format command. By default, <code class=Nm>camcontrol</code> issues the FORMAT UNIT command with the immediate bit set. This tells the device to immediately return the format command, before the format has actually completed. Then, <code class=Nm>camcontrol</code> gathers SCSI sense information from the device every second to determine how far along in the format process it is. If the <code class=Fl>-w</code> argument is specified, <code class=Nm>camcontrol</code> will issue a non-immediate format command, and will be unable to print any information to let the user know what percentage of the disk has been formatted.</dd><dt><a class=permalink href=#y><code class=Fl id=y>-y</code></a></dt><dd>Do not ask any questions. By default, <code class=Nm>camcontrol</code> will ask the user if he/she really wants to format the disk in question, and also if the default format command timeout is acceptable. The user will not be asked about the timeout if a timeout is specified on the command line.</dd></dl></dd><dt><a class=permalink href=#sanitize><code class=Ic id=sanitize>sanitize</code></a></dt><dd>Issue the SANITIZE command to the named device. <p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>ALL data on the disk will be destroyed or made inaccessible. Recovery of the data is not possible. Use extreme caution when issuing this command.</p><p class=Pp>The ‘sanitize’ subcommand takes several arguments that modify its default behavior. The <code class=Fl>-q</code> and <code class=Fl>-y</code> arguments can be useful for scripts.</p><dl class=Bl-tag><dt><a class=permalink href=#a_4><code class=Fl id=a_4>-a</code></a><var class=Ar>operation</var></dt><dd>Specify the sanitize operation to perform. <dl class=Bl-tag><dt>overwrite</dt><dd>Perform an overwrite operation by writing a user supplied data pattern to the device one or more times. The pattern is given by the <code class=Fl>-P</code> argument. The number of times is given by the <code class=Fl>-c</code> argument.</dd><dt>block</dt><dd>Perform a block erase operation. All the device's blocks are set to a vendor defined value, typically zero.</dd><dt>crypto</dt><dd>Perform a cryptographic erase operation. The encryption keys are changed to prevent the decryption of the data.</dd><dt>exitfailure</dt><dd>Exits a previously failed sanitize operation. A failed sanitize operation can only be exited if it was run in the unrestricted completion mode, as provided by the <code class=Fl>-U</code> argument.</dd></dl></dd><dt><a class=permalink href=#c_5><code class=Fl id=c_5>-c</code></a><var class=Ar>passes</var></dt><dd>The number of passes when performing an ‘overwrite’ operation. Valid values are between 1 and 31. The default is 1.</dd><dt><a class=permalink href=#I_2><code class=Fl id=I_2>-I</code></a></dt><dd>When performing an ‘overwrite’ operation, the pattern is inverted between consecutive passes.</dd><dt><a class=permalink href=#P_4><code class=Fl id=P_4>-P</code></a><var class=Ar>pattern</var></dt><dd>Path to the file containing the pattern to use when performing an ‘overwrite’ operation. The pattern is repeated as needed to fill each block.</dd><dt><a class=permalink href=#q_7><code class=Fl id=q_7>-q</code></a></dt><dd>Be quiet, do not print any status messages. This option will not disable the questions, however. To disable questions, use the <code class=Fl>-y</code> argument, below.</dd><dt><a class=permalink href=#U_2><code class=Fl id=U_2>-U</code></a></dt><dd>Perform the sanitize in the unrestricted completion mode. If the operation fails, it can later be exited with the ‘exitfailure’ operation.</dd><dt><a class=permalink href=#r_5><code class=Fl id=r_5>-r</code></a></dt><dd>Run in “report only” mode. This will report status on a sanitize that is already running on the drive.</dd><dt><a class=permalink href=#w_2><code class=Fl id=w_2>-w</code></a></dt><dd>Issue a non-immediate sanitize command. By default, <code class=Nm>camcontrol</code> issues the SANITIZE command with the immediate bit set. This tells the device to immediately return the sanitize command, before the sanitize has actually completed. Then, <code class=Nm>camcontrol</code> gathers SCSI sense information from the device every second to determine how far along in the sanitize process it is. If the <code class=Fl>-w</code> argument is specified, <code class=Nm>camcontrol</code> will issue a non-immediate sanitize command, and will be unable to print any information to let the user know what percentage of the disk has been sanitized.</dd><dt><a class=permalink href=#y_2><code class=Fl id=y_2>-y</code></a></dt><dd>Do not ask any questions. By default, <code class=Nm>camcontrol</code> will ask the user if he/she really wants to sanitize the disk in question, and also if the default sanitize command timeout is acceptable. The user will not be asked about the timeout if a timeout is specified on the command line.</dd></dl></dd><dt><a class=permalink href=#idle><code class=Ic id=idle>idle</code></a></dt><dd>Put ATA device into IDLE state. Optional parameter (<code class=Fl>-t</code>) specifies automatic standby timer value in seconds. Value 0 disables timer.</dd><dt><a class=permalink href=#standby><code class=Ic id=standby>standby</code></a></dt><dd>Put ATA device into STANDBY state. Optional parameter (<code class=Fl>-t</code>) specifies automatic standby timer value in seconds. Value 0 disables timer.</dd><dt><a class=permalink href=#sleep><code class=Ic id=sleep>sleep</code></a></dt><dd>Put ATA device into SLEEP state. Note that the only way get device out of this state may be reset.</dd><dt><a class=permalink href=#powermode><code class=Ic id=powermode>powermode</code></a></dt><dd>Report ATA device power mode.</dd><dt><a class=permalink href=#apm><code class=Ic id=apm>apm</code></a></dt><dd>It optional parameter (<code class=Fl>-l</code>) specified, enables and sets advanced power management level, where 1 -- minimum power, 127 -- maximum performance with standby, 128 -- minimum power without standby, 254 -- maximum performance. If not specified -- APM is disabled.</dd><dt><a class=permalink href=#aam><code class=Ic id=aam>aam</code></a></dt><dd>It optional parameter (<code class=Fl>-l</code>) specified, enables and sets automatic acoustic management level, where 1 -- minimum noise, 254 -- maximum performance. If not specified -- AAM is disabled.</dd><dt><a class=permalink href=#security><code class=Ic id=security>security</code></a></dt><dd>Update or report security settings, using an ATA identify command (0xec). By default, <code class=Nm>camcontrol</code> will print out the security support and associated settings of the device. The <code class=Ic>security</code> command takes several arguments: <dl class=Bl-tag><dt><a class=permalink href=#d_4><code class=Fl id=d_4>-d</code></a><var class=Ar>pwd</var></dt><dd><p class=Pp>Disable device security using the given password for the selected user according to the devices configured security level.</p></dd><dt><a class=permalink href=#e_2><code class=Fl id=e_2>-e</code></a><var class=Ar>pwd</var></dt><dd><p class=Pp>Erase the device using the given password for the selected user.</p><p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>Issuing a secure erase will <i class=Em>ERASE ALL</i> user data on the device and may take several hours to complete.</p><p class=Pp>When this command is used against an SSD drive all its cells will be marked as empty, restoring it to factory default write performance. For SSD's this action usually takes just a few seconds.</p></dd><dt><a class=permalink href=#f_3><code class=Fl id=f_3>-f</code></a></dt><dd><p class=Pp>Freeze the security configuration of the specified device.</p><p class=Pp>After command completion any other commands that update the device lock mode shall be command aborted. Frozen mode is disabled by power-off or hardware reset.</p></dd><dt><a class=permalink href=#h_2><code class=Fl id=h_2>-h</code></a><var class=Ar>pwd</var></dt><dd><p class=Pp>Enhanced erase the device using the given password for the selected user.</p><p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>Issuing an enhanced secure erase will <i class=Em>ERASE ALL</i> user data on the device and may take several hours to complete.</p><p class=Pp>An enhanced erase writes predetermined data patterns to all user data areas, all previously written user data shall be overwritten, including sectors that are no longer in use due to reallocation.</p></dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a><var class=Ar>pwd</var></dt><dd><p class=Pp>Unlock the device using the given password for the selected user according to the devices configured security level.</p></dd><dt><a class=permalink href=#l_8><code class=Fl id=l_8>-l</code></a><var class=Ar>high|maximum</var></dt><dd><p class=Pp>Specifies which security level to set when issuing a <code class=Fl>-s</code><var class=Ar>pwd</var> command. The security level determines device behavior when the master password is used to unlock the device. When the security level is set to high the device requires the unlock command and the master password to unlock. When the security level is set to maximum the device requires a secure erase with the master password to unlock.</p><p class=Pp>This option must be used in conjunction with one of the security action commands.</p><p class=Pp>Defaults to <i class=Em>high</i></p></dd><dt><a class=permalink href=#q_8><code class=Fl id=q_8>-q</code></a></dt><dd><p class=Pp>Be quiet, do not print any status messages. This option will not disable the questions, however. To disable questions, use the <code class=Fl>-y</code> argument, below.</p></dd><dt><a class=permalink href=#s_4><code class=Fl id=s_4>-s</code></a><var class=Ar>pwd</var></dt><dd><p class=Pp>Password the device (enable security) using the given password for the selected user. This option can be combined with other options such as <code class=Fl>-e</code><i class=Em>pwd</i></p><p class=Pp>A master password may be set in a addition to the user password. The purpose of the master password is to allow an administrator to establish a password that is kept secret from the user, and which may be used to unlock the device if the user password is lost.</p><p class=Pp><i class=Em>Note:</i> Setting the master password does not enable device security.</p><p class=Pp>If the master password is set and the drive supports a Master Revision Code feature the Master Password Revision Code will be decremented.</p></dd><dt><a class=permalink href=#T_4><code class=Fl id=T_4>-T</code></a><var class=Ar>timeout</var></dt><dd><p class=Pp>Overrides the default timeout, specified in seconds, used for both <code class=Fl>-e</code> and <code class=Fl>-h</code> this is useful if your system has problems processing long timeouts correctly.</p><p class=Pp>Usually the timeout is calculated from the information stored on the drive if present, otherwise it defaults to 2 hours.</p></dd><dt><a class=permalink href=#U_3><code class=Fl id=U_3>-U</code></a><var class=Ar>user|master</var></dt><dd><p class=Pp>Specifies which user to set / use for the running action command, valid values are user or master and defaults to master if not set.</p><p class=Pp>This option must be used in conjunction with one of the security action commands.</p><p class=Pp>Defaults to <i class=Em>master</i></p></dd><dt><a class=permalink href=#y_3><code class=Fl id=y_3>-y</code></a></dt><dd><p class=Pp>Confirm yes to dangerous options such as <code class=Fl>-e</code> without prompting for confirmation.</p></dd></dl><p class=Pp>If the password specified for any action commands does not match the configured password for the specified user the command will fail.</p><p class=Pp>The password in all cases is limited to 32 characters, longer passwords will fail.</p></dd><dt><a class=permalink href=#hpa><code class=Ic id=hpa>hpa</code></a></dt><dd>Update or report Host Protected Area details. By default <code class=Nm>camcontrol</code> will print out the HPA support and associated settings of the device. The <code class=Ic>hpa</code> command takes several optional arguments: <dl class=Bl-tag><dt><a class=permalink href=#f_4><code class=Fl id=f_4>-f</code></a></dt><dd><p class=Pp>Freeze the HPA configuration of the specified device.</p><p class=Pp>After command completion any other commands that update the HPA configuration shall be command aborted. Frozen mode is disabled by power-off or hardware reset.</p></dd><dt><a class=permalink href=#l_9><code class=Fl id=l_9>-l</code></a></dt><dd><p class=Pp>Lock the HPA configuration of the device until a successful call to unlock or the next power-on reset occurs.</p></dd><dt><a class=permalink href=#P_5><code class=Fl id=P_5>-P</code></a></dt><dd><p class=Pp>Make the HPA max sectors persist across power-on reset or a hardware reset. This must be used in combination with <code class=Fl>-s</code><var class=Ar>max_sectors</var></p></dd><dt><a class=permalink href=#p_3><code class=Fl id=p_3>-p</code></a><var class=Ar>pwd</var></dt><dd><p class=Pp>Set the HPA configuration password required for unlock calls.</p></dd><dt><a class=permalink href=#q_9><code class=Fl id=q_9>-q</code></a></dt><dd><p class=Pp>Be quiet, do not print any status messages. This option will not disable the questions. To disable questions, use the <code class=Fl>-y</code> argument, below.</p></dd><dt><a class=permalink href=#s_5><code class=Fl id=s_5>-s</code></a><var class=Ar>max_sectors</var></dt><dd><p class=Pp>Configures the maximum user accessible sectors of the device. This will change the number of sectors the device reports.</p><p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>Changing the max sectors of a device using this option will make the data on the device beyond the specified value inaccessible.</p><p class=Pp>Only one successful <code class=Fl>-s</code><var class=Ar>max_sectors</var> call can be made without a power-on reset or a hardware reset of the device.</p></dd><dt><a class=permalink href=#U_4><code class=Fl id=U_4>-U</code></a><var class=Ar>pwd</var></dt><dd><p class=Pp>Unlock the HPA configuration of the specified device using the given password. If the password specified does not match the password configured via <code class=Fl>-p</code><var class=Ar>pwd</var> the command will fail.</p><p class=Pp>After 5 failed unlock calls, due to password miss-match, the device will refuse additional unlock calls until after a power-on reset.</p></dd><dt><a class=permalink href=#y_4><code class=Fl id=y_4>-y</code></a></dt><dd><p class=Pp>Confirm yes to dangerous options such as <code class=Fl>-e</code> without prompting for confirmation</p></dd></dl><p class=Pp>The password for all HPA commands is limited to 32 characters, longer passwords will fail.</p></dd><dt><a class=permalink href=#ama><code class=Ic id=ama>ama</code></a></dt><dd>Update or report Accessible Max Address Configuration. By default <code class=Nm>camcontrol</code> will print out the Accessible Max Address Configuration support and associated settings of the device. The <code class=Ic>ama</code> command takes several optional arguments: <dl class=Bl-tag><dt><a class=permalink href=#f_5><code class=Fl id=f_5>-f</code></a></dt><dd><p class=Pp>Freeze the Accessible Max Address Configuration of the specified device.</p><p class=Pp>After command completion any other commands that update the configuration shall be command aborted. Frozen mode is disabled by power-off.</p></dd><dt><a class=permalink href=#q_10><code class=Fl id=q_10>-q</code></a></dt><dd><p class=Pp>Be quiet, do not print any status messages.</p></dd><dt><a class=permalink href=#s_6><code class=Fl id=s_6>-s</code></a><var class=Ar>max_sectors</var></dt><dd><p class=Pp>Configures the maximum user accessible sectors of the device. This will change the number of sectors the device reports.</p><p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>Changing the max sectors of a device using this option will make the data on the device beyond the specified value indeterminate.</p><p class=Pp>Only one successful <code class=Fl>-s</code><var class=Ar>max_sectors</var> call can be made without a power-on reset of the device.</p></dd></dl></dd><dt><a class=permalink href=#fwdownload><code class=Ic id=fwdownload>fwdownload</code></a></dt><dd>Program firmware of the named SCSI or ATA device using the image file provided. <p class=Pp>If the device is a SCSI device and it provides a recommended timeout for the WRITE BUFFER command (see the <code class=Nm>camcontrol</code> opcodes subcommand), that timeout will be used for the firmware download. The drive-recommended timeout value may be overridden on the command line with the <code class=Fl>-t</code> option.</p><p class=Pp>Current list of supported vendors for SCSI/SAS drives:</p><dl class=Bl-tag><dt>HGST</dt><dd>Tested with 4TB SAS drives, model number HUS724040ALS640.</dd><dt>HITACHI</dt><dd style="width: auto;"> </dd><dt>HP</dt><dd style="width: auto;"> </dd><dt>IBM</dt><dd>Tested with LTO-5 (ULTRIUM-HH5) and LTO-6 (ULTRIUM-HH6) tape drives. There is a separate table entry for hard drives, because the update method for hard drives is different than the method for tape drives.</dd><dt>PLEXTOR</dt><dd style="width: auto;"> </dd><dt>QUALSTAR</dt><dd style="width: auto;"> </dd><dt>QUANTUM</dt><dd style="width: auto;"> </dd><dt>SAMSUNG</dt><dd>Tested with SM1625 SSDs.</dd><dt>SEAGATE</dt><dd>Tested with Constellation ES (ST32000444SS), ES.2 (ST33000651SS) and ES.3 (ST1000NM0023) drives.</dd><dt>SmrtStor</dt><dd>Tested with 400GB Optimus SSDs (TXA2D20400GA6001).</dd></dl><p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>Little testing has been done to make sure that different device models from each vendor work correctly with the fwdownload command. A vendor name appearing in the supported list means only that firmware of at least one device type from that vendor has successfully been programmed with the fwdownload command. Extra caution should be taken when using this command since there is no guarantee it will not break a device from the listed vendors. Ensure that you have a recent backup of the data on the device before performing a firmware update.</p><p class=Pp>Note that unknown SCSI protocol devices will not be programmed, since there is little chance of the firmware download succeeding.</p><p class=Pp><code class=Nm>camcontrol</code> will currently attempt a firmware download to any ATA or SATA device, since the standard ATA DOWNLOAD MICROCODE command may work. Firmware downloads to ATA and SATA devices are supported for devices connected to standard ATA and SATA controllers, and devices connected to SAS controllers with SCSI to ATA translation capability. In the latter case, <code class=Nm>camcontrol</code> uses the SCSI ATA PASS-THROUGH command to send the ATA DOWNLOAD MICROCODE command to the drive. Some SCSI to ATA translation implementations don't work fully when translating SCSI WRITE BUFFER commands to ATA DOWNLOAD MICROCODE commands, but do support ATA passthrough well enough to do a firmware download.</p><dl class=Bl-tag><dt><a class=permalink href=#f_6><code class=Fl id=f_6>-f</code></a><var class=Ar>fw_image</var></dt><dd>Path to the firmware image file to be downloaded to the specified device.</dd><dt><a class=permalink href=#q_11><code class=Fl id=q_11>-q</code></a></dt><dd>Do not print informational messages, only print errors. This option should be used with the <code class=Fl>-y</code> option to suppress all output.</dd><dt><a class=permalink href=#s_7><code class=Fl id=s_7>-s</code></a></dt><dd>Run in simulation mode. Device checks are run and the confirmation dialog is shown, but no firmware download will occur.</dd><dt><a class=permalink href=#v_4><code class=Fl id=v_4>-v</code></a></dt><dd>Show SCSI or ATA errors in the event of a failure. <p class=Pp>In simulation mode, print out the SCSI CDB or ATA register values that would be used for the firmware download command.</p></dd><dt><a class=permalink href=#y_5><code class=Fl id=y_5>-y</code></a></dt><dd>Do not ask for confirmation.</dd></dl></dd><dt><a class=permalink href=#persist><code class=Ic id=persist>persist</code></a></dt><dd>Persistent reservation support. Persistent reservations are a way to reserve a particular SCSI LUN for use by one or more SCSI initiators. If the <code class=Fl>-i</code> option is specified, <code class=Nm>camcontrol</code> will issue the SCSI PERSISTENT RESERVE IN command using the requested service action. If the <code class=Fl>-o</code> option is specified, <code class=Nm>camcontrol</code> will issue the SCSI PERSISTENT RESERVE OUT command using the requested service action. One of those two options is required. <p class=Pp>Persistent reservations are complex, and fully explaining them is outside the scope of this manual. Please visit https://www.t10.org and download the latest SPC spec for a full explanation of persistent reservations.</p><dl class=Bl-tag><dt><a class=permalink href=#i_2><code class=Fl id=i_2>-i</code></a><var class=Ar>mode</var></dt><dd>Specify the service action for the PERSISTENT RESERVE IN command. Supported service actions: <dl class=Bl-tag><dt>read_keys</dt><dd>Report the current persistent reservation generation (PRgeneration) and any registered keys.</dd><dt>read_reservation</dt><dd>Report the persistent reservation, if any.</dd><dt>report_capabilities</dt><dd>Report the persistent reservation capabilities of the LUN.</dd><dt>read_full_status</dt><dd>Report the full status of persistent reservations on the LUN.</dd></dl></dd><dt><a class=permalink href=#o_3><code class=Fl id=o_3>-o</code></a><var class=Ar>mode</var></dt><dd>Specify the service action for the PERSISTENT RESERVE OUT command. For service actions like register that are components of other service action names, the entire name must be specified. Otherwise, enough of the service action name must be specified to distinguish it from other possible service actions. Supported service actions: <dl class=Bl-tag><dt>register</dt><dd>Register a reservation key with the LUN or unregister a reservation key. To register a key, specify the requested key as the Service Action Reservation Key. To unregister a key, specify the previously registered key as the Reservation Key. To change a key, specify the old key as the Reservation Key and the new key as the Service Action Reservation Key.</dd><dt>register_ignore</dt><dd>This is similar to the register subcommand, except that the Reservation Key is ignored. The Service Action Reservation Key will overwrite any previous key registered for the initiator.</dd><dt>reserve</dt><dd>Create a reservation. A key must be registered with the LUN before the LUN can be reserved, and it must be specified as the Reservation Key. The type of reservation must also be specified. The scope defaults to LUN scope (LU_SCOPE), but may be changed.</dd><dt>release</dt><dd>Release a reservation. The Reservation Key must be specified.</dd><dt>clear</dt><dd>Release a reservation and remove all keys from the device. The Reservation Key must be specified.</dd><dt>preempt</dt><dd>Remove a reservation belonging to another initiator. The Reservation Key must be specified. The Service Action Reservation Key may be specified, depending on the operation being performed.</dd><dt>preempt_abort</dt><dd>Remove a reservation belonging to another initiator and abort all outstanding commands from that initiator. The Reservation Key must be specified. The Service Action Reservation Key may be specified, depending on the operation being performed.</dd><dt>register_move</dt><dd>Register another initiator with the LUN, and establish a reservation on the LUN for that initiator. The Reservation Key and Service Action Reservation Key must be specified.</dd><dt>replace_lost</dt><dd>Replace Lost Reservation information.</dd></dl></dd><dt><a class=permalink href=#a_5><code class=Fl id=a_5>-a</code></a></dt><dd>Set the All Target Ports (ALL_TG_PT) bit. This requests that the key registration be applied to all target ports and not just the particular target port that receives the command. This only applies to the register and register_ignore actions.</dd><dt><a class=permalink href=#I_3><code class=Fl id=I_3>-I</code></a><var class=Ar>tid</var></dt><dd>Specify a Transport ID. This only applies to the Register and Register and Move service actions for Persistent Reserve Out. Multiple Transport IDs may be specified with multiple <code class=Fl>-I</code> arguments. With the Register service action, specifying one or more Transport IDs implicitly enables the <code class=Fl>-S</code> option which turns on the SPEC_I_PT bit. Transport IDs generally have the format protocol,id. <dl class=Bl-tag><dt>SAS</dt><dd>A SAS Transport ID consists of “sas,” followed by a 64-bit SAS address. For example: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>sas,0x1234567812345678</code></div></dd><dt>FC</dt><dd>A Fibre Channel Transport ID consists of “fcp,” followed by a 64-bit Fibre Channel World Wide Name. For example: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>fcp,0x1234567812345678</code></div></dd><dt>SPI</dt><dd>A Parallel SCSI address consists of “spi,” followed by a SCSI target ID and a relative target port identifier. For example: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>spi,4,1</code></div></dd><dt>1394</dt><dd>An IEEE 1394 (Firewire) Transport ID consists of “sbp,” followed by a 64-bit EUI-64 IEEE 1394 node unique identifier. For example: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>sbp,0x1234567812345678</code></div></dd><dt>RDMA</dt><dd>A SCSI over RDMA Transport ID consists of “srp,” followed by a 128-bit RDMA initiator port identifier. The port identifier must be exactly 32 or 34 (if the leading 0x is included) hexadecimal digits. Only hexadecimal (base 16) numbers are supported. For example: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>srp,0x12345678123456781234567812345678</code></div></dd><dt>iSCSI</dt><dd>An iSCSI Transport ID consists an iSCSI name and optionally a separator and iSCSI session ID. For example, if only the iSCSI name is specified: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>iqn.2012-06.com.example:target0</code></div><p class=Pp>If the iSCSI separator and initiator session ID are specified:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>iqn.2012-06.com.example:target0,i,0x123</code></div></dd><dt>PCIe</dt><dd>A SCSI over PCIe Transport ID consists of “sop,” followed by a PCIe Routing ID. The Routing ID consists of a bus, device and function or in the alternate form, a bus and function. The bus must be in the range of 0 to 255 inclusive and the device must be in the range of 0 to 31 inclusive. The function must be in the range of 0 to 7 inclusive if the standard form is used, and in the range of 0 to 255 inclusive if the alternate form is used. For example, if a bus, device and function are specified for the standard Routing ID form: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>sop,4,5,1</code></div><p class=Pp>If the alternate Routing ID form is used:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>sop,4,1</code></div></dd></dl></dd><dt><a class=permalink href=#k_2><code class=Fl id=k_2>-k</code></a><var class=Ar>key</var></dt><dd>Specify the Reservation Key. This may be in decimal, octal or hexadecimal format. The value is zero by default if not otherwise specified. The value must be between 0 and 2^64 - 1, inclusive.</dd><dt><a class=permalink href=#K><code class=Fl id=K>-K</code></a><var class=Ar>key</var></dt><dd>Specify the Service Action Reservation Key. This may be in decimal, octal or hexadecimal format. The value is zero by default if not otherwise specified. The value must be between 0 and 2^64 - 1, inclusive.</dd><dt><a class=permalink href=#p_4><code class=Fl id=p_4>-p</code></a></dt><dd>Enable the Activate Persist Through Power Loss bit. This is only used for the register and register_ignore actions. This requests that the reservation persist across power loss events.</dd><dt><a class=permalink href=#s_8><code class=Fl id=s_8>-s</code></a><var class=Ar>scope</var></dt><dd>Specify the scope of the reservation. The scope may be specified by name or by number. The scope is ignored for register, register_ignore and clear. If the desired scope isn't available by name, you may specify the number. <dl class=Bl-tag><dt>lun</dt><dd>LUN scope (0x00). This encompasses the entire LUN.</dd><dt>extent</dt><dd>Extent scope (0x01).</dd><dt>element</dt><dd>Element scope (0x02).</dd></dl></dd><dt><a class=permalink href=#R_4><code class=Fl id=R_4>-R</code></a><var class=Ar>rtp</var></dt><dd>Specify the Relative Target Port. This only applies to the Register and Move service action of the Persistent Reserve Out command.</dd><dt><a class=permalink href=#S_5><code class=Fl id=S_5>-S</code></a></dt><dd>Enable the SPEC_I_PT bit. This only applies to the Register service action of Persistent Reserve Out. You must also specify at least one Transport ID with <code class=Fl>-I</code> if this option is set. If you specify a Transport ID, this option is automatically set. It is an error to specify this option for any service action other than Register.</dd><dt><a class=permalink href=#T_5><code class=Fl id=T_5>-T</code></a><var class=Ar>type</var></dt><dd>Specify the reservation type. The reservation type may be specified by name or by number. If the desired reservation type isn't available by name, you may specify the number. Supported reservation type names: <dl class=Bl-tag><dt>read_shared</dt><dd>Read Shared mode.</dd><dt>wr_ex</dt><dd>Write Exclusive mode. May also be specified as “write_exclusive”.</dd><dt>rd_ex</dt><dd>Read Exclusive mode. May also be specified as “read_exclusive”.</dd><dt>ex_ac</dt><dd>Exclusive access mode. May also be specified as “exclusive_access”.</dd><dt>wr_ex_ro</dt><dd>Write Exclusive Registrants Only mode. May also be specified as “write_exclusive_reg_only”.</dd><dt>ex_ac_ro</dt><dd>Exclusive Access Registrants Only mode. May also be specified as “exclusive_access_reg_only”.</dd><dt>wr_ex_ar</dt><dd>Write Exclusive All Registrants mode. May also be specified as “write_exclusive_all_regs”.</dd><dt>ex_ac_ar</dt><dd>Exclusive Access All Registrants mode. May also be specified as “exclusive_access_all_regs”.</dd></dl></dd><dt><a class=permalink href=#U_5><code class=Fl id=U_5>-U</code></a></dt><dd>Specify that the target should unregister the initiator that sent the Register and Move request. By default, the target will not unregister the initiator that sends the Register and Move request. This option only applies to the Register and Move service action of the Persistent Reserve Out command.</dd></dl></dd><dt><a class=permalink href=#attrib><code class=Ic id=attrib>attrib</code></a></dt><dd>Issue the SCSI READ or WRITE ATTRIBUTE commands. These commands are used to read and write attributes in Medium Auxiliary Memory (MAM). The most common place Medium Auxiliary Memory is found is small flash chips included tape cartriges. For instance, LTO tapes have MAM. Either the <code class=Fl>-r</code> option or the <code class=Fl>-w</code> option must be specified. <dl class=Bl-tag><dt><a class=permalink href=#r_6><code class=Fl id=r_6>-r</code></a><var class=Ar>action</var></dt><dd>Specify the READ ATTRIBUTE service action. <dl class=Bl-tag><dt>attr_values</dt><dd>Issue the ATTRIBUTE VALUES service action. Read and decode the available attributes and their values.</dd><dt>attr_list</dt><dd>Issue the ATTRIBUTE LIST service action. List the attributes that are available to read and write.</dd><dt>lv_list</dt><dd>Issue the LOGICAL VOLUME LIST service action. List the available logical volumes in the MAM.</dd><dt>part_list</dt><dd>Issue the PARTITION LIST service action. List the available partitions in the MAM.</dd><dt>supp_attr</dt><dd>Issue the SUPPORTED ATTRIBUTES service action. List attributes that are supported for reading or writing. These attributes may or may not be currently present in the MAM.</dd></dl></dd><dt><a class=permalink href=#w_3><code class=Fl id=w_3>-w</code></a><var class=Ar>attr</var></dt><dd>Specify an attribute to write to the MAM. This option is not yet implemented.</dd><dt><a class=permalink href=#a_6><code class=Fl id=a_6>-a</code></a><var class=Ar>num</var></dt><dd>Specify the attribute number to display. This option only works with the attr_values, attr_list and supp_attr arguments to <code class=Fl>-r</code>.</dd><dt><a class=permalink href=#c_6><code class=Fl id=c_6>-c</code></a></dt><dd>Display cached attributes. If the device supports this flag, it allows displaying attributes for the last piece of media loaded in the drive.</dd><dt><a class=permalink href=#e_3><code class=Fl id=e_3>-e</code></a><var class=Ar>num</var></dt><dd>Specify the element address. This is used for specifying which element number in a medium changer to access when reading attributes. The element number could be for a picker, portal, slot or drive.</dd><dt><a class=permalink href=#F><code class=Fl id=F>-F</code></a><var class=Ar>form1,form2</var></dt><dd>Specify the output format for the attribute values (attr_val) display as a comma separated list of options. The default output is currently set to field_all,nonascii_trim,text_raw. Once this code is ported to FreeBSD 10, any text fields will be converted from their codeset to the user's native codeset with <a class=Xr href=iconv.3.html>iconv(3)</a>. <p class=Pp>The text options are mutually exclusive; if you specify more than one, you will get unpredictable results. The nonascii options are also mutually exclusive. Most of the field options may be logically ORed together.</p><dl class=Bl-tag><dt>text_esc</dt><dd>Print text fields with non-ASCII characters escaped.</dd><dt>text_raw</dt><dd>Print text fields natively, with no codeset conversion.</dd><dt>nonascii_esc</dt><dd>If any non-ASCII characters occur in fields that are supposed to be ASCII, escape the non-ASCII characters.</dd><dt>nonascii_trim</dt><dd>If any non-ASCII characters occur in fields that are supposed to be ASCII, omit the non-ASCII characters.</dd><dt>nonascii_raw</dt><dd>If any non-ASCII characters occur in fields that are supposed to be ASCII, print them as they are.</dd><dt>field_all</dt><dd>Print all of the prefix fields: description, attribute number, attribute size, and the attribute's readonly status. If field_all is specified, specifying any other field options will not have an effect.</dd><dt>field_none</dt><dd>Print none of the prefix fields, and only print out the attribute value. If field_none is specified, specifying any other field options will result in those fields being printed.</dd><dt>field_desc</dt><dd>Print out the attribute description.</dd><dt>field_num</dt><dd>Print out the attribute number.</dd><dt>field_size</dt><dd>Print out the attribute size.</dd><dt>field_rw</dt><dd>Print out the attribute's readonly status.</dd></dl></dd><dt><a class=permalink href=#p_5><code class=Fl id=p_5>-p</code></a><var class=Ar>part</var></dt><dd>Specify the partition. When the media has multiple partitions, specifying different partition numbers allows seeing the values for each individual partition.</dd><dt><a class=permalink href=#s_9><code class=Fl id=s_9>-s</code></a><var class=Ar>start_num</var></dt><dd>Specify the starting attribute number. This requests that the target device return attribute information starting at the given number.</dd><dt><a class=permalink href=#T_6><code class=Fl id=T_6>-T</code></a><var class=Ar>elem_type</var></dt><dd>Specify the element type. For medium changer devices, this allows specifying the type the element referenced in the element address ( <code class=Fl>-e</code>). Valid types are: “all”, “picker”, “slot”, “portal”, and “drive”.</dd><dt><a class=permalink href=#V><code class=Fl id=V>-V</code></a><var class=Ar>vol_num</var></dt><dd>Specify the number of the logical volume to operate on. If the media has multiple logical volumes, this will allow displaying or writing attributes on the given logical volume.</dd></dl></dd><dt><a class=permalink href=#opcodes><code class=Ic id=opcodes>opcodes</code></a></dt><dd>Issue the REPORT SUPPORTED OPCODES service action of the SCSI MAINTENANCE IN command. Without arguments, this command will return a list of all SCSI commands supported by the device, including service actions of commands that support service actions. It will also include the SCSI CDB (Command Data Block) length for each command, and the description of each command if it is known. <dl class=Bl-tag><dt><a class=permalink href=#o_4><code class=Fl id=o_4>-o</code></a><var class=Ar>opcode</var></dt><dd>Request information on a specific opcode instead of the list of supported commands. If supported, the target will return a CDB-like structure that indicates the opcode, service action (if any), and a mask of bits that are supported in that CDB.</dd><dt><a class=permalink href=#s_10><code class=Fl id=s_10>-s</code></a><var class=Ar>service_action</var></dt><dd>For commands that support a service action, specify the service action to query.</dd><dt><a class=permalink href=#N_3><code class=Fl id=N_3>-N</code></a></dt><dd>If a service action is specified for a given opcode, and the device does not support the given service action, the device should not return a SCSI error, but rather indicate in the returned parameter data that the command is not supported. By default, if a service action is specified for an opcode, and service actions are not supported for the opcode in question, the device will return an error.</dd><dt><a class=permalink href=#T_7><code class=Fl id=T_7>-T</code></a></dt><dd>Include timeout values. This option works with the default display, which includes all commands supported by the device, and with the <code class=Fl>-o</code> and <code class=Fl>-s</code> options, which request information on a specific command and service action. This requests that the device report Nominal and Recommended timeout values for the given command or commands. The timeout values are in seconds. The timeout descriptor also includes a command-specific</dd></dl></dd><dt><a class=permalink href=#zone><code class=Ic id=zone>zone</code></a></dt><dd>Manage SCSI and ATA Zoned Block devices. This allows managing devices that conform to the SCSI Zoned Block Commands (ZBC) and ATA Zoned ATA Command Set (ZAC) specifications. Devices using these command sets are usually hard drives using Shingled Magnetic Recording (SMR). There are three types of SMR drives: <dl class=Bl-tag><dt>Drive Managed</dt><dd>Drive Managed drives look and act just like a standard random access block device, but underneath, the drive reads and writes the bulk of its capacity using SMR zones. Sequential writes will yield better performance, but writing sequentially is not required.</dd><dt>Host Aware</dt><dd>Host Aware drives expose the underlying zone layout via SCSI or ATA commands and allow the host to manage the zone conditions. The host is not required to manage the zones on the drive, though. Sequential writes will yield better performance in Sequential Write Preferred zones, but the host can write randomly in those zones.</dd><dt>Host Managed</dt><dd>Host Managed drives expose the underlying zone layout via SCSI or ATA commands. The host is required to access the zones according to the rules described by the zone layout. Any commands that violate the rules will be returned with an error.</dd></dl><p class=Pp>SMR drives are divided into zones (typically in the range of 256MB each) that fall into three general categories:</p><dl class=Bl-tag><dt>Conventional</dt><dd>These are also known as Non Write Pointer zones. These zones can be randomly written without an unexpected performance penalty.</dd><dt>Sequential Preferred</dt><dd>These zones should be written sequentially starting at the write pointer for the zone. They may be written randomly. Writes that do not conform to the zone layout may be significantly slower than expected.</dd><dt>Sequential Required</dt><dd>These zones must be written sequentially. If they are not written sequentially, starting at the write pointer, the command will fail.</dd></dl><dl class=Bl-tag><dt><a class=permalink href=#c_7><code class=Fl id=c_7>-c</code></a><var class=Ar>cmd</var></dt><dd>Specify the zone subcommand: <dl class=Bl-tag><dt>rz</dt><dd>Issue the Report Zones command. All zones are returned by default. Specify report options with <code class=Fl>-o</code> and printing options with <code class=Fl>-P</code>. Specify the starting LBA with <code class=Fl>-l</code>. Note that “reportzones” is also accepted as a command argument.</dd><dt>open</dt><dd>Explicitly open the zone specified by the starting LBA.</dd><dt>close</dt><dd>Close the zone specified by starting LBA.</dd><dt>finish</dt><dd>Finish the zone specified by the starting LBA.</dd><dt>rwp</dt><dd>Reset the write pointer for the zone specified by the starting LBA.</dd></dl></dd><dt><a class=permalink href=#a_7><code class=Fl id=a_7>-a</code></a></dt><dd>For the Open, Close, Finish, and Reset Write Pointer operations, apply the operation to all zones on the drive.</dd><dt><a class=permalink href=#l_10><code class=Fl id=l_10>-l</code></a><var class=Ar>lba</var></dt><dd>Specify the starting LBA. For the Report Zones command, this tells the drive to report starting with the zone that starts at the given LBA. For the other commands, this allows the user to identify the zone requested by its starting LBA. The LBA may be specified in decimal, hexadecimal or octal notation.</dd><dt><a class=permalink href=#o_5><code class=Fl id=o_5>-o</code></a><var class=Ar>rep_opt</var></dt><dd>For the Report Zones command, specify a subset of zones to report. <dl class=Bl-tag><dt>all</dt><dd>Report all zones. This is the default.</dd><dt>emtpy</dt><dd>Report only empty zones.</dd><dt>imp_open</dt><dd>Report zones that are implicitly open. This means that the host has sent a write to the zone without explicitly opening the zone.</dd><dt>exp_open</dt><dd>Report zones that are explicitly open.</dd><dt>closed</dt><dd>Report zones that have been closed by the host.</dd><dt>full</dt><dd>Report zones that are full.</dd><dt>ro</dt><dd>Report zones that are in the read only state. Note that “readonly” is also accepted as an argument.</dd><dt>offline</dt><dd>Report zones that are in the offline state.</dd><dt>reset</dt><dd>Report zones where the device recommends resetting write pointers.</dd><dt>nonseq</dt><dd>Report zones that have the Non Sequential Resources Active flag set. These are zones that are Sequential Write Preferred, but have been written non-sequentially.</dd><dt>nonwp</dt><dd>Report Non Write Pointer zones, also known as Conventional zones.</dd></dl></dd><dt><a class=permalink href=#P_6><code class=Fl id=P_6>-P</code></a><var class=Ar>print_opt</var></dt><dd>Specify a printing option for Report Zones: <dl class=Bl-tag><dt>normal</dt><dd>Normal Report Zones output. This is the default. The summary and column headings are printed, fields are separated by spaces and the fields themselves may contain spaces.</dd><dt>summary</dt><dd>Just print the summary: the number of zones, the maximum LBA (LBA of the last logical block on the drive), and the value of the “same” field. The “same” field describes whether the zones on the drive are all identical, all different, or whether they are the same except for the last zone, etc.</dd><dt>script</dt><dd>Print the zones in a script friendly format. The summary and column headings are omitted, the fields are separated by commas, and the fields do not contain spaces. The fields contain underscores where spaces would normally be used.</dd></dl></dd></dl></dd><dt><a class=permalink href=#epc><code class=Ic id=epc>epc</code></a></dt><dd>Issue ATA Extended Power Conditions (EPC) feature set commands. This only works on ATA protocol drives, and will not work on SCSI protocol drives. It will work on SATA drives behind a SCSI to ATA translation layer (SAT). It may be helpful to read the ATA Command Set - 4 (ACS-4) description of the Extended Power Conditions feature set, available at t13.org, to understand the details of this particular <code class=Nm>camcontrol</code> subcommand. <dl class=Bl-tag><dt><a class=permalink href=#c_8><code class=Fl id=c_8>-c</code></a><var class=Ar>cmd</var></dt><dd>Specify the epc subcommand <dl class=Bl-tag><dt>restore</dt><dd>Restore drive power condition settings. <dl class=Bl-tag><dt><a class=permalink href=#r_7><code class=Fl id=r_7>-r</code></a><var class=Ar>src</var></dt><dd>Specify the source for the restored power settings, either “default” or “saved”. This argument is required.</dd><dt><a class=permalink href=#s_11><code class=Fl id=s_11>-s</code></a></dt><dd>Save the settings. This only makes sense to specify when restoring from defaults.</dd></dl></dd><dt>goto</dt><dd>Go to the specified power condition. <dl class=Bl-tag><dt><a class=permalink href=#p_6><code class=Fl id=p_6>-p</code></a><var class=Ar>cond</var></dt><dd>Specify the power condition: Idle_a, Idle_b, Idle_c, Standby_y, Standby_z. This argument is required.</dd><dt><a class=permalink href=#D_4><code class=Fl id=D_4>-D</code></a></dt><dd>Specify delayed entry to the power condition. The drive, if it supports this, can enter the power condition after the command completes.</dd><dt><a class=permalink href=#H_2><code class=Fl id=H_2>-H</code></a></dt><dd>Hold the power condition. If the drive supports this option, it will hold the power condition and reject all commands that would normally cause it to exit that power condition.</dd></dl></dd><dt>timer</dt><dd>Set the timer value for a power condition and enable or disable the condition. See the “list” display described below to see what the current timer settings are for each Idle and Standby mode supported by the drive. <dl class=Bl-tag><dt><a class=permalink href=#e_4><code class=Fl id=e_4>-e</code></a></dt><dd>Enable the power condition. One of <code class=Fl>-e</code> or <code class=Fl>-d</code> is required.</dd><dt><a class=permalink href=#d_5><code class=Fl id=d_5>-d</code></a></dt><dd>Disable the power condition. One of <code class=Fl>-d</code> or <code class=Fl>-e</code> is required.</dd><dt><a class=permalink href=#T_8><code class=Fl id=T_8>-T</code></a><var class=Ar>timer</var></dt><dd>Specify the timer in seconds. The user may specify a timer as a floating point number with a maximum supported resolution of tenths of a second. Drives may or may not support sub-second timer values.</dd><dt><a class=permalink href=#p_7><code class=Fl id=p_7>-p</code></a><var class=Ar>cond</var></dt><dd>Specify the power condition: Idle_a, Idle_b, Idle_c, Standby_y, Standby_z. This argument is required.</dd><dt><a class=permalink href=#s_12><code class=Fl id=s_12>-s</code></a></dt><dd>Save the timer and power condition enable/disable state. By default, if this option is not specified, only the current values for this power condition will be affected.</dd></dl></dd><dt>state</dt><dd>Enable or disable a particular power condition. <dl class=Bl-tag><dt><a class=permalink href=#e_5><code class=Fl id=e_5>-e</code></a></dt><dd>Enable the power condition. One of <code class=Fl>-e</code> or <code class=Fl>-d</code> is required.</dd><dt><a class=permalink href=#d_6><code class=Fl id=d_6>-d</code></a></dt><dd>Disable the power condition. One of <code class=Fl>-d</code> or <code class=Fl>-e</code> is required.</dd><dt><a class=permalink href=#p_8><code class=Fl id=p_8>-p</code></a><var class=Ar>cond</var></dt><dd>Specify the power condition: Idle_a, Idle_b, Idle_c, Standby_y, Standby_z. This argument is required.</dd><dt><a class=permalink href=#s_13><code class=Fl id=s_13>-s</code></a></dt><dd>Save the power condition enable/disable state. By default, if this option is not specified, only the current values for this power condition will be affected.</dd></dl></dd><dt>enable</dt><dd>Enable the Extended Power Condition (EPC) feature set.</dd><dt>disable</dt><dd>Disable the Extended Power Condition (EPC) feature set.</dd><dt>source</dt><dd>Specify the EPC power source. <dl class=Bl-tag><dt><a class=permalink href=#S_6><code class=Fl id=S_6>-S</code></a><var class=Ar>src</var></dt><dd>Specify the power source, either “battery” or “nonbattery”.</dd></dl></dd><dt>status</dt><dd>Get the current status of several parameters related to the Extended Power Condition (EPC) feature set, including whether APM and EPC are supported and enabled, whether Low Power Standby is supported, whether setting the EPC power source is supported, whether Low Power Standby is supported and the current power condition. <dl class=Bl-tag><dt><a class=permalink href=#P_7><code class=Fl id=P_7>-P</code></a></dt><dd>Only report the current power condition. Some drives will exit their current power condition if a command other than the ATA CHECK POWER MODE command is received. If this flag is specified, <code class=Nm>camcontrol</code> will only issue the ATA CHECK POWER MODE command to the drive.</dd></dl></dd><dt>list</dt><dd>Display the ATA Power Conditions log (Log Address 0x08). This shows the list of Idle and Standby power conditions the drive supports, and a number of parameters about each condition, including whether it is enabled and what the timer value is.</dd></dl></dd></dl></dd><dt><a class=permalink href=#timestamp><code class=Ic id=timestamp>timestamp</code></a></dt><dd>Issue REPORT TIMESTAMP or SET TIMESTAMP SCSI commands. Either the <code class=Fl>-r</code> option or the <code class=Fl>-s</code> option must be specified. <dl class=Bl-tag><dt><a class=permalink href=#r_8><code class=Fl id=r_8>-r</code></a></dt><dd>Report the device's timestamp. If no more arguments are specified, the timestamp will be reported using the national representation of the date and time, followed by the time zone. <dl class=Bl-tag><dt><a class=permalink href=#f_7><code class=Fl id=f_7>-f</code></a><var class=Ar>format</var></dt><dd>Specify the strftime format string, as documented in strftime(3), to be used to format the reported timestamp.</dd><dt><a class=permalink href=#m_3><code class=Fl id=m_3>-m</code></a></dt><dd>Report the timestamp as milliseconds since the epoch.</dd><dt><a class=permalink href=#U_6><code class=Fl id=U_6>-U</code></a></dt><dd>Report the timestamp using the national representation of the date and time, but override the system time zone and use UTC instead.</dd></dl></dd></dl><dl class=Bl-tag><dt><a class=permalink href=#s_14><code class=Fl id=s_14>-s</code></a></dt><dd>Set the device's timestamp. Either the <code class=Fl>-f</code> and <code class=Fl>-T</code> options or the <code class=Fl>-U</code> option must be specified. <dl class=Bl-tag><dt><a class=permalink href=#f_8><code class=Fl id=f_8>-f</code></a><var class=Ar>format</var></dt><dd>Specify the strptime format string, as documented in strptime(3). The time must also be specified with the <code class=Fl>-T</code> option.</dd><dt><a class=permalink href=#T_9><code class=Fl id=T_9>-T</code></a><var class=Ar>time</var></dt><dd>Provide the time in the format specified with the <code class=Fl>-f</code> option.</dd><dt><a class=permalink href=#U_7><code class=Fl id=U_7>-U</code></a></dt><dd>Set the timestamp to the host system's time in UTC.</dd></dl></dd></dl></dd><dt><a class=permalink href=#devtype><code class=Ic id=devtype>devtype</code></a></dt><dd>Print out the device type for specified device. <dl class=Bl-tag><dt>ata</dt><dd>An ATA device attached directly to an ATA controller</dd><dt>satl</dt><dd>An SATA device attached behind a SAS controller via SCSI-ATA Translation Layer (SATL)</dd><dt>scsi</dt><dd>A SCSI device</dd><dt>nvme</dt><dd>An directly attached NVMe device</dd><dt>mmcsd</dt><dd>An MMC or SD device attached via a mmcsd bus</dd><dt>none</dt><dd>No device type reported</dd><dt>unknown</dt><dd>Device type is unknown</dd><dt>illegal</dt><dd>A programming error occurred</dd></dl></dd><dt><a class=permalink href=#depop><code class=Ic id=depop>depop</code></a></dt><dd>Commands necessary to support the depopulation (depop) of defective elements of a device (typically heads for hard drives) or setting capacity point (typically used on flash drives). Issues either GET PHYSICAL ELEMENT STATUS, REMOVE ELEMENT AND TRUNCATE, or RESTORE ELEMENT AND REBUILD command to manage storage elements of a drive. Removal or restoration of elements may take up to a day to complete. One of the <code class=Fl>-d</code>, <code class=Fl>-l</code>, or <code class=Fl>-r</code> options must be specified. These options are mutually exclusive. Only SCSI drives are supported. Changing the storage elements of a storage drive may result in the loss of all data on that storage drive. The drive may need to reinitialize after <code class=Fl>-d</code> or <code class=Fl>-r</code> commands. The data on the drive is inaccessible until one of these commands complete. Once one of these commands start, the drive is format corrupt until the operation successfully completes. While format corrupt, no read or write I/O is possible to the drive. If the drive power cycles, it will remain format corrupt and the operation must be restarted. TEST UNIT READY or “camcontrol tur” can monitor an in-progress depop operation. <dl class=Bl-tag><dt><a class=permalink href=#c_9><code class=Fl id=c_9>-c</code></a><var class=Ar>capacity</var></dt><dd>Specify the desired capacity point for the drive. Valid only for the <code class=Fl>-d</code> flag.</dd><dt><a class=permalink href=#d_7><code class=Fl id=d_7>-d</code></a></dt><dd>Remove the physical element from service or set the capacity point specified by the <code class=Fl>-e</code> or <code class=Fl>-c</code> flags. The drive's capacity may be reduced by this operation.</dd><dt><a class=permalink href=#e_6><code class=Fl id=e_6>-e</code></a><var class=Ar>element</var></dt><dd>Specify the physical element to remove from service. Valid only for the <code class=Fl>-d</code> flag.</dd><dt><a class=permalink href=#l_11><code class=Fl id=l_11>-l</code></a></dt><dd>Report the current status of the physical elements of a drive.</dd><dt><a class=permalink href=#r_9><code class=Fl id=r_9>-r</code></a></dt><dd>Restore all the eligible physical elements to service.</dd></dl></dd><dt><a class=permalink href=#help><code class=Ic id=help>help</code></a></dt><dd>Print out verbose usage information.</dd></dl></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2> The <code class=Ev>SCSI_MODES</code> variable allows the user to specify an alternate mode page format file. <p class=Pp>The <code class=Ev>EDITOR</code> variable determines which text editor <code class=Nm>camcontrol</code> starts when editing mode pages.</p></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt><span class=Pa>/usr/share/misc/scsi_modes</span></dt><dd>is the SCSI mode format database.</dd><dt><span class=Pa>/dev/xpt0</span></dt><dd>is the transport layer device.</dd><dt><span class=Pa>/dev/pass*</span></dt><dd>are the CAM application passthrough devices.</dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2><div class="Bd Bd-indent"><code class=Li>camcontrol eject -n cd -u 1 -v</code></div><p class=Pp>Eject the CD from cd1, and print SCSI sense information if the command fails.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>camcontrol tur da0</code></div><p class=Pp>Send the SCSI test unit ready command to da0. The <code class=Nm>camcontrol</code> utility will report whether the disk is ready, but will not display sense information if the command fails since the <code class=Fl>-v</code> switch was not specified.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol tur da1 -E -C 4 -t 50 -Q head -v
</pre></div><p class=Pp>Send a test unit ready command to da1. Enable kernel error recovery. Specify a retry count of 4, and a timeout of 50 seconds. Enable sense printing (with the <code class=Fl>-v</code> flag) if the command fails. Since error recovery is turned on, the disk will be spun up if it is not currently spinning. The SCSI task attribute for the command will be set to Head of Queue. The <code class=Nm>camcontrol</code> utility will report whether the disk is ready.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol cmd -n cd -u 1 -v -c "3C 00 00 00 00 00 00 00 0e 00" \
	-i 0xe "s1 i3 i1 i1 i1 i1 i1 i1 i1 i1 i1 i1"
</pre></div><p class=Pp>Issue a READ BUFFER command (0x3C) to cd1. Display the buffer size of cd1, and display the first 10 bytes from the cache on cd1. Display SCSI sense information if the command fails.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol cmd -n cd -u 1 -v -c "3B 00 00 00 00 00 00 00 0e 00" \
	-o 14 "00 00 00 00 1 2 3 4 5 6 v v v v" 7 8 9 8
</pre></div><p class=Pp>Issue a WRITE BUFFER (0x3B) command to cd1. Write out 10 bytes of data, not including the (reserved) 4 byte header. Print out sense information if the command fails. Be very careful with this command, improper use may cause data corruption.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol modepage da3 -m 1 -e -P 3
</pre></div><p class=Pp>Edit mode page 1 (the Read-Write Error Recover page) for da3, and save the settings on the drive. Mode page 1 contains a disk drive's auto read and write reallocation settings, among other things.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>camcontrol rescan all</code></div><p class=Pp>Rescan all SCSI buses in the system for devices that have been added, removed or changed.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>camcontrol rescan 0</code></div><p class=Pp>Rescan SCSI bus 0 for devices that have been added, removed or changed.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>camcontrol rescan 0:1:0</code></div><p class=Pp>Rescan SCSI bus 0, target 1, lun 0 to see if it has been added, removed, or changed.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>camcontrol tags da5 -N 24</code></div><p class=Pp>Set the number of concurrent transactions for da5 to 24.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol negotiate -n da -u 4 -T disable
</pre></div><p class=Pp>Disable tagged queueing for da4.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol negotiate -n da -u 3 -R 20.000 -O 15 -a
</pre></div><p class=Pp>Negotiate a sync rate of 20MHz and an offset of 15 with da3. Then send a Test Unit Ready command to make the settings take effect.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol smpcmd ses0 -v -r 4 "40 0 00 0" -R 1020 "s9 i1"
</pre></div><p class=Pp>Send the SMP REPORT GENERAL command to ses0, and display the number of PHYs it contains. Display SMP errors if the command fails.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol security ada0
</pre></div><p class=Pp>Report security support and settings for ada0</p><div class="Bd Pp Bd-indent"><pre>
camcontrol security ada0 -U user -s MyPass
</pre></div><p class=Pp>Enable security on device ada0 with the password MyPass</p><div class="Bd Pp Bd-indent"><pre>
camcontrol security ada0 -U user -e MyPass
</pre></div><p class=Pp>Secure erase ada0 which has had security enabled with user password MyPass</p><p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>This will <i class=Em>ERASE ALL</i> data from the device, so backup your data before using!</p><p class=Pp>This command can be used against an SSD drive to restoring it to factory default write performance.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol hpa ada0
</pre></div><p class=Pp>Report HPA support and settings for ada0 (also reported via identify).</p><div class="Bd Pp Bd-indent"><pre>
camcontrol hpa ada0 -s 10240
</pre></div><p class=Pp>Enables HPA on ada0 setting the maximum reported sectors to 10240.</p><p class=Pp><i class=Em>WARNING! WARNING! WARNING!</i></p><p class=Pp>This will <i class=Em>PREVENT ACCESS</i> to all data on the device beyond this limit until HPA is disabled by setting HPA to native max sectors of the device, which can only be done after a power-on or hardware reset!</p><p class=Pp><i class=Em>DO NOT</i> use this on a device which has an active filesystem!</p><div class="Bd Pp Bd-indent"><pre>
camcontrol persist da0 -v -i read_keys
</pre></div><p class=Pp>This will read any persistent reservation keys registered with da0, and display any errors encountered when sending the PERSISTENT RESERVE IN SCSI command.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol persist da0 -v -o register -a -K 0x12345678
</pre></div><p class=Pp>This will register the persistent reservation key 0x12345678 with da0, apply that registration to all ports on da0, and display any errors that occur when sending the PERSISTENT RESERVE OUT command.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol persist da0 -v -o reserve -s lun -k 0x12345678 -T ex_ac
</pre></div><p class=Pp>This will reserve da0 for the exlusive use of the initiator issuing the command. The scope of the reservation is the entire LUN. Any errors sending the PERSISTENT RESERVE OUT command will be displayed.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol persist da0 -v -i read_full
</pre></div><p class=Pp>This will display the full status of all reservations on da0 and print out status if there are any errors.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol persist da0 -v -o release -k 0x12345678 -T ex_ac
</pre></div><p class=Pp>This will release a reservation on da0 of the type ex_ac (Exclusive Access). The Reservation Key for this registration is 0x12345678. Any errors that occur will be displayed.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol persist da0 -v -o register -K 0x12345678 -S \
	-I sas,0x1234567812345678 -I sas,0x8765432187654321
</pre></div><p class=Pp>This will register the key 0x12345678 with da0, specifying that it applies to the SAS initiators with SAS addresses 0x1234567812345678 and 0x8765432187654321.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol persist da0 -v -o register_move -k 0x87654321 \
	-K 0x12345678 -U -p -R 2 -I fcp,0x1234567812345678
</pre></div><p class=Pp>This will move the registration from the current initiator, whose Registration Key is 0x87654321, to the Fibre Channel initiator with the Fiber Channel World Wide Node Name 0x1234567812345678. A new registration key, 0x12345678, will be registered for the initiator with the Fibre Channel World Wide Node Name 0x1234567812345678, and the current initiator will be unregistered from the target. The reservation will be moved to relative target port 2 on the target device. The registration will persist across power losses.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol attrib sa0 -v -i attr_values -p 1
</pre></div><p class=Pp>This will read and decode the attribute values from partition 1 on the tape in tape drive sa0, and will display any SCSI errors that result.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol zone da0 -v -c rz -P summary
</pre></div><p class=Pp>This will request the SMR zone list from disk da0, and print out a summary of the zone parameters, and display any SCSI or ATA errors that result.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol zone da0 -v -c rz -o reset
</pre></div><p class=Pp>This will request the list of SMR zones that should have their write pointer reset from the disk da0, and display any SCSI or ATA errors that result.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol zone da0 -v -c rwp -l 0x2c80000
</pre></div><p class=Pp>This will issue the Reset Write Pointer command to disk da0 for the zone that starts at LBA 0x2c80000 and display any SCSI or ATA errors that result.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol epc ada0 -c timer -T 60.1 -p Idle_a -e -s
</pre></div><p class=Pp>Set the timer for the Idle_a power condition on drive <span class=Pa>ada0</span> to 60.1 seconds, enable that particular power condition, and save the timer value and the enabled state of the power condition.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol epc da4 -c goto -p Standby_z -H
</pre></div><p class=Pp>Tell drive <span class=Pa>da4</span> to go to the Standby_z power state (which is the drive's lowest power state) and hold in that state until it is explicitly released by another <code class=Cm>goto</code> command.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol epc da2 -c status -P
</pre></div><p class=Pp>Report only the power state of drive <span class=Pa>da2</span>. Some drives will power up in response to the commands sent by the <span class=Pa>status</span> subcommand, and the <code class=Fl>-P</code> option causes <code class=Nm>camcontrol</code> to only send the ATA CHECK POWER MODE command, which should not trigger a change in the drive's power state.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol epc ada0 -c list
</pre></div><p class=Pp>Display the ATA Power Conditions log (Log Address 0x08) for drive <span class=Pa>ada0</span>.</p><div class="Bd Pp Bd-indent"><pre>
camcontrol timestamp sa0 -s -f "%a, %d %b %Y %T %z" \
	-T "Wed, 26 Oct 2016 21:43:57 -0600"
</pre></div><p class=Pp>Set the timestamp of drive <span class=Pa>sa0</span> using a <a class=Xr href=strptime.3.html>strptime(3)</a> format string followed by a time string that was created using this format string.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=cam.3.html>cam(3)</a>, <a class=Xr href=cam_cdbparse.3.html>cam_cdbparse(3)</a>, <a class=Xr href=cam.4.html>cam(4)</a>, <a class=Xr href=pass.4.html>pass(4)</a>, <a class=Xr href=xpt.4.html>xpt(4)</a>, <a class=Xr href=trim.8.html>trim(8)</a>, <a class=Xr href=zonectl.8.html>zonectl(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>camcontrol</code> utility first appeared in <span class=Ux>FreeBSD 3.0</span>. <p class=Pp>The mode page editing code and arbitrary SCSI command code are based upon code in the old <a class=Xr href=scsi.8.html>scsi(8)</a> utility and <a class=Xr href=scsi.3.html>scsi(3)</a> library, written by Julian Elischer and Peter Dufault. The <a class=Xr href=scsi.8.html>scsi(8)</a> program first appeared in <span class=Ux>386BSD-0.1.2.4</span>, and first appeared in <span class=Ux>FreeBSD</span> in <span class=Ux>FreeBSD 2.0.5</span>.</p></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2><span class=An>Kenneth Merry</span> &lt;<a class=Mt href=mailto:ken@FreeBSD.org>ken@FreeBSD.org</a>&gt; </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> The code that parses the generic command line arguments does not know that some of the subcommands take multiple arguments. So if, for instance, you tried something like this: <div class="Bd Pp Bd-indent"><pre>
camcontrol cmd -n da -u 1 -c "00 00 00 00 00 v" 0x00 -v
</pre></div><p class=Pp>The sense information from the test unit ready command would not get printed out, since the first <a class=Xr href=getopt.3.html>getopt(3)</a> call in <code class=Nm>camcontrol</code> bails out when it sees the second argument to <code class=Fl>-c</code> (0x00), above. Fixing this behavior would take some gross code, or changes to the <a class=Xr href=getopt.3.html>getopt(3)</a> interface. The best way to circumvent this problem is to always make sure to specify generic <code class=Nm>camcontrol</code> arguments before any command-specific arguments.</p></section></div><table class=foot><tr><td class=foot-date>October 20, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>