<!DOCTYPE html>
<html><head><meta charset=utf-8><title>m4(1)</title><keywords content=man,m4></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>m4(1)</h1><table class=head><tr><td class=head-ltitle>M4(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>M4(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>m4</code> — <div class=Nd>macro language processor</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>m4</code></td><td>[<code class=Fl>-EgPs</code>] [<code class=Fl>-D</code><var class=Ar>name</var>[<span class=No>=</span><var class=Ar>value</var>]] [<code class=Fl>-d</code><var class=Ar>flags</var>] [<code class=Fl>-I</code><var class=Ar>dirname</var>] [<code class=Fl>-o</code><var class=Ar>filename</var>] [<code class=Fl>-t</code><var class=Ar>macro</var>] [<code class=Fl>-U</code><var class=Ar>name</var>] [<var class=Ar>file ...</var>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>m4</code> utility is a macro processor that can be used as a front end to any language (e.g., C, ratfor, fortran, lex, and yacc). If no input files are given, <code class=Nm>m4</code> reads from the standard input, otherwise files specified on the command line are processed in the given order. Input files can be regular files, files in the m4 include paths, or a single dash (‘-’), denoting standard input. <code class=Nm>m4</code> writes the processed text to the standard output, unless told otherwise. <p class=Pp>Macro calls have the form name(argument1[, argument2, ..., argumentN]).</p><p class=Pp>There cannot be any space following the macro name and the open parenthesis (‘(’). If the macro name is not followed by an open parenthesis it is processed with no arguments.</p><p class=Pp>Macro names consist of a leading alphabetic or underscore possibly followed by alphanumeric or underscore characters, e.g., valid macro names match the pattern “[a-zA-Z_][a-zA-Z0-9_]*”.</p><p class=Pp>In arguments to macros, leading unquoted space, tab, and newline (‘\n’) characters are ignored. To quote strings, use left and right single quotes (e.g., ‘ this is a string with a leading space’). You can change the quote characters with the <code class=Ic>changequote</code> built-in macro.</p><p class=Pp>Most built-ins do not make any sense without arguments, and hence are not recognized as special when not followed by an open parenthesis.</p><p class=Pp>The options are as follows:</p><dl class=Bl-tag><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a><var class=Ar>name</var>[=<var class=Ar>value</var>]</dt><dd>Define the symbol <var class=Ar>name</var> to have some value (or <code class=Dv>NULL</code>).</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a><var class=Ar>flags</var></dt><dd>Set trace flags. <var class=Ar>flags</var> may hold the following: <dl class=Bl-tag><dt><var class=Ar>a</var></dt><dd>print macro arguments.</dd><dt><var class=Ar>c</var></dt><dd>print macro expansion over several lines.</dd><dt><var class=Ar>e</var></dt><dd>print result of macro expansion.</dd><dt><var class=Ar>f</var></dt><dd>print filename location.</dd><dt><var class=Ar>l</var></dt><dd>print line number.</dd><dt><var class=Ar>q</var></dt><dd>quote arguments and expansion with the current quotes.</dd><dt><var class=Ar>t</var></dt><dd>start with all macros traced.</dd><dt><var class=Ar>x</var></dt><dd>number macro expansions.</dd><dt><var class=Ar>V</var></dt><dd>turn on all options.</dd></dl><p class=Pp>By default, trace is set to “eq”.</p></dd><dt><a class=permalink href=#E><code class=Fl id=E>-E</code></a></dt><dd>Set warnings to be fatal. When a single <code class=Fl>-E</code> flag is specified, if warnings are issued, execution continues but <code class=Nm>m4</code> will exit with a non-zero exit status. When multiple <code class=Fl>-E</code> flags are specified, execution will halt upon issuing the first warning and <code class=Nm>m4</code> will exit with a non-zero exit status. This behaviour matches GNU-m4 1.4.9 and later.</dd><dt><a class=permalink href=#g><code class=Fl id=g>-g</code></a></dt><dd>Activate GNU-m4 compatibility mode. In this mode, translit handles simple character ranges (e.g., a-z), regular expressions mimic emacs behavior, multiple m4wrap calls are handled as a stack, the number of diversions is unlimited, empty names for macro definitions are allowed, and eval understands ‘0rbase:value’ numbers.</dd><dt><a class=permalink href=#I><code class=Fl id=I>-I</code></a><var class=Ar>dirname</var></dt><dd>Add directory <var class=Ar>dirname</var> to the include path.</dd><dt><a class=permalink href=#o><code class=Fl id=o>-o</code></a><var class=Ar>filename</var></dt><dd>Send trace output to <var class=Ar>filename</var>.</dd><dt><a class=permalink href=#P><code class=Fl id=P>-P</code></a></dt><dd>Prefix all built-in macros with ‘m4_’. For example, instead of writing <code class=Ic>define</code>, use <code class=Ic>m4_define</code>.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a></dt><dd>Output line synchronization directives, suitable for <a class=Xr href=cpp.1.html>cpp(1)</a>.</dd><dt><a class=permalink href=#t><code class=Fl id=t>-t</code></a><var class=Ar>macro</var></dt><dd>Turn tracing on for <var class=Ar>macro</var>.</dd><dt><a class=permalink href=#U><code class=Fl id=U>-U</code></a><var class=Ar>name</var></dt><dd>Undefine the symbol <var class=Ar>name</var>.</dd></dl></section><section class=Sh><h2 class=Sh id=SYNTAX><a class=permalink href=#SYNTAX>SYNTAX</a></h2><code class=Nm>m4</code> provides the following built-in macros. They may be redefined, losing their original meaning. Return values are null unless otherwise stated. <dl class=Bl-tag><dt><code class=Fn>builtin</code>(<var class=Fa>name</var>)</dt><dd>Calls a built-in by its <var class=Fa>name</var>, overriding possible redefinitions.</dd><dt><code class=Fn>changecom</code>(<var class=Fa>startcomment</var>, <var class=Fa>endcomment</var>)</dt><dd>Changes the start comment and end comment sequences. Comment sequences may be up to five characters long. The default values are the hash sign and the newline character. <div class="Bd Pp Bd-indent"><pre>
# This is a comment
    </pre></div><p class=Pp>With no arguments, comments are turned off. With one single argument, the end comment sequence is set to the newline character.</p></dd><dt><code class=Fn>changequote</code>(<var class=Fa>beginquote</var>, <var class=Fa>endquote</var>)</dt><dd>Defines the open quote and close quote sequences. Quote sequences may be up to five characters long. The default values are the backquote character and the quote character. <div class="Bd Pp Bd-indent"><pre>
`Here is a quoted string'
    </pre></div><p class=Pp>With no arguments, the default quotes are restored. With one single argument, the close quote sequence is set to the newline character.</p></dd><dt><code class=Fn>decr</code>(<var class=Fa>arg</var>)</dt><dd>Decrements the argument <var class=Fa>arg</var> by 1. The argument <var class=Fa>arg</var> must be a valid numeric string.</dd><dt><code class=Fn>define</code>(<var class=Fa>name</var>, <var class=Fa>value</var>)</dt><dd>Define a new macro named by the first argument <var class=Fa>name</var> to have the value of the second argument <var class=Fa>value</var>. Each occurrence of ‘$n’ (where <var class=Ar>n</var> is 0 through 9) is replaced by the <var class=Ar>n</var>'th argument. ‘$0’ is the name of the calling macro. Undefined arguments are replaced by a null string. ‘$#’ is replaced by the number of arguments; ‘$*’ is replaced by all arguments comma separated; ‘$@’ is the same as ‘$*’ but all arguments are quoted against further expansion.</dd><dt><code class=Fn>defn</code>(<var class=Fa>name</var>, <var class=Fa>...</var>)</dt><dd>Returns the quoted definition for each argument. This can be used to rename macro definitions (even for built-in macros).</dd><dt><code class=Fn>divert</code>(<var class=Fa>num</var>)</dt><dd>There are 10 output queues (numbered 0-9). At the end of processing <code class=Nm>m4</code> concatenates all the queues in numerical order to produce the final output. Initially the output queue is 0. The divert macro allows you to select a new output queue (an invalid argument passed to divert causes output to be discarded).</dd><dt><a class=permalink href=#divnum><code class=Ic id=divnum>divnum</code></a></dt><dd>Returns the current output queue number.</dd><dt><a class=permalink href=#dnl><code class=Ic id=dnl>dnl</code></a></dt><dd>Discard input characters up to and including the next newline.</dd><dt><code class=Fn>dumpdef</code>(<var class=Fa>name</var>, <var class=Fa>...</var>)</dt><dd>Prints the names and definitions for the named items, or for everything if no arguments are passed.</dd><dt><code class=Fn>errprint</code>(<var class=Fa>msg</var>)</dt><dd>Prints the first argument on the standard error output stream.</dd><dt><code class=Fn>esyscmd</code>(<var class=Fa>cmd</var>)</dt><dd>Passes its first argument to a shell and returns the shell's standard output. Note that the shell shares its standard input and standard error with <code class=Nm>m4</code>.</dd><dt><code class=Fn>eval</code>(<var class=Fa>expr[,radix[,minimum]]</var>)</dt><dd>Computes the first argument as an arithmetic expression using 32-bit arithmetic. Operators are the standard C ternary, arithmetic, logical, shift, relational, bitwise, and parentheses operators. You can specify octal, decimal, and hexadecimal numbers as in C. The optional second argument <var class=Fa>radix</var> specifies the radix for the result and the optional third argument <var class=Fa>minimum</var> specifies the minimum number of digits in the result.</dd><dt><code class=Fn>expr</code>(<var class=Fa>expr</var>)</dt><dd>This is an alias for <code class=Ic>eval</code>.</dd><dt><code class=Fn>format</code>(<var class=Fa>formatstring</var>, <var class=Fa>arg1</var>, <var class=Fa>...</var>)</dt><dd>Returns <var class=Fa>formatstring</var> with escape sequences substituted with <var class=Fa>arg1</var> and following arguments, in a way similar to <a class=Xr href=printf.3.html>printf(3)</a>. This built-in is only available in GNU-m4 compatibility mode, and the only parameters implemented are there for autoconf compatibility: left-padding flag, an optional field width, a maximum field width, *-specified field widths, and the %s and %c data type.</dd><dt><code class=Fn>ifdef</code>(<var class=Fa>name</var>, <var class=Fa>yes</var>, <var class=Fa>no</var>)</dt><dd>If the macro named by the first argument is defined then return the second argument, otherwise the third. If there is no third argument, the value is <code class=Dv>NULL</code>. The word “unix” is predefined.</dd><dt><code class=Fn>ifelse</code>(<var class=Fa>a</var>, <var class=Fa>b</var>, <var class=Fa>yes</var>, <var class=Fa>...</var>)</dt><dd>If the first argument <var class=Fa>a</var> matches the second argument <var class=Fa>b</var> then <code class=Fn>ifelse</code>() returns the third argument <var class=Fa>yes</var>. If the match fails the three arguments are discarded and the next three arguments are used until there is zero or one arguments left, either this last argument or <code class=Dv>NULL</code> is returned if no other matches were found.</dd><dt><code class=Fn>include</code>(<var class=Fa>name</var>)</dt><dd>Returns the contents of the file specified in the first argument. If the file is not found as is, look through the include path: first the directories specified with <code class=Fl>-I</code> on the command line, then the environment variable <code class=Ev>M4PATH</code>, as a colon-separated list of directories. Include aborts with an error message if the file cannot be included.</dd><dt><code class=Fn>incr</code>(<var class=Fa>arg</var>)</dt><dd>Increments the argument by 1. The argument must be a valid numeric string.</dd><dt><code class=Fn>index</code>(<var class=Fa>string</var>, <var class=Fa>substring</var>)</dt><dd>Returns the index of the second argument in the first argument (e.g., <code class=Ic>index(the quick brown fox jumped, fox)</code> returns 16). If the second argument is not found index returns -1.</dd><dt><code class=Fn>indir</code>(<var class=Fa>macro</var>, <var class=Fa>arg1</var>, <var class=Fa>...</var>)</dt><dd>Indirectly calls the macro whose name is passed as the first argument, with the remaining arguments passed as first, ... arguments.</dd><dt><code class=Fn>len</code>(<var class=Fa>arg</var>)</dt><dd>Returns the number of characters in the first argument. Extra arguments are ignored.</dd><dt><code class=Fn>m4exit</code>(<var class=Fa>code</var>)</dt><dd>Immediately exits with the return value specified by the first argument, 0 if none.</dd><dt><code class=Fn>m4wrap</code>(<var class=Fa>todo</var>)</dt><dd>Allows you to define what happens at the final <code class=Dv>EOF</code>, usually for cleanup purposes (e.g., <code class=Ic>m4wrap("cleanup(tempfile)")</code> causes the macro cleanup to be invoked after all other processing is done). <p class=Pp>Multiple calls to <code class=Fn>m4wrap</code>() get inserted in sequence at the final <code class=Dv>EOF</code>.</p></dd><dt><code class=Fn>maketemp</code>(<var class=Fa>template</var>)</dt><dd>Like <code class=Ic>mkstemp</code>.</dd><dt><code class=Fn>mkstemp</code>(<var class=Fa>template</var>)</dt><dd>Invokes <a class=Xr href=mkstemp.3.html>mkstemp(3)</a> on the first argument, and returns the modified string. This can be used to create unique temporary file names.</dd><dt><code class=Fn>paste</code>(<var class=Fa>file</var>)</dt><dd>Includes the contents of the file specified by the first argument without any macro processing. Aborts with an error message if the file cannot be included.</dd><dt><code class=Fn>patsubst</code>(<var class=Fa>string</var>, <var class=Fa>regexp</var>, <var class=Fa>replacement</var>)</dt><dd>Substitutes a regular expression in a string with a replacement string. Usual substitution patterns apply: an ampersand (‘&amp;’) is replaced by the string matching the regular expression. The string ‘\#’, where ‘#’ is a digit, is replaced by the corresponding back-reference.</dd><dt><code class=Fn>popdef</code>(<var class=Fa>arg</var>, <var class=Fa>...</var>)</dt><dd>Restores the <code class=Ic>pushdef</code>ed definition for each argument.</dd><dt><code class=Fn>pushdef</code>(<var class=Fa>macro</var>, <var class=Fa>def</var>)</dt><dd>Takes the same arguments as <code class=Ic>define</code>, but it saves the definition on a stack for later retrieval by <code class=Fn>popdef</code>().</dd><dt><code class=Fn>regexp</code>(<var class=Fa>string</var>, <var class=Fa>regexp</var>, <var class=Fa>replacement</var>)</dt><dd>Finds a regular expression in a string. If no further arguments are given, it returns the first match position or -1 if no match. If a third argument is provided, it returns the replacement string, with sub-patterns replaced.</dd><dt><code class=Fn>shift</code>(<var class=Fa>arg1</var>, <var class=Fa>...</var>)</dt><dd>Returns all but the first argument, the remaining arguments are quoted and pushed back with commas in between. The quoting nullifies the effect of the extra scan that will subsequently be performed.</dd><dt><code class=Fn>sinclude</code>(<var class=Fa>file</var>)</dt><dd>Similar to <code class=Ic>include</code>, except it ignores any errors.</dd><dt><code class=Fn>spaste</code>(<var class=Fa>file</var>)</dt><dd>Similar to <code class=Fn>paste</code>(), except it ignores any errors.</dd><dt><code class=Fn>substr</code>(<var class=Fa>string</var>, <var class=Fa>offset</var>, <var class=Fa>length</var>)</dt><dd>Returns a substring of the first argument starting at the offset specified by the second argument and the length specified by the third argument. If no third argument is present it returns the rest of the string.</dd><dt><code class=Fn>syscmd</code>(<var class=Fa>cmd</var>)</dt><dd>Passes the first argument to the shell. Nothing is returned.</dd><dt><a class=permalink href=#sysval><code class=Ic id=sysval>sysval</code></a></dt><dd>Returns the return value from the last <code class=Ic>syscmd</code>.</dd><dt><code class=Fn>traceon</code>(<var class=Fa>arg</var>, <var class=Fa>...</var>)</dt><dd>Enables tracing of macro expansions for the given arguments, or for all macros if no argument is given.</dd><dt><code class=Fn>traceoff</code>(<var class=Fa>arg</var>, <var class=Fa>...</var>)</dt><dd>Disables tracing of macro expansions for the given arguments, or for all macros if no argument is given.</dd><dt><code class=Fn>translit</code>(<var class=Fa>string</var>, <var class=Fa>mapfrom</var>, <var class=Fa>mapto</var>)</dt><dd>Transliterate the characters in the first argument from the set given by the second argument to the set given by the third. You cannot use <a class=Xr href=tr.1.html>tr(1)</a> style abbreviations.</dd><dt><code class=Fn>undefine</code>(<var class=Fa>name1</var>, <var class=Fa>...</var>)</dt><dd>Removes the definition for the macros specified by its arguments.</dd><dt><code class=Fn>undivert</code>(<var class=Fa>arg</var>, <var class=Fa>...</var>)</dt><dd>Flushes the named output queues (or all queues if no arguments).</dd><dt><a class=permalink href=#unix><code class=Ic id=unix>unix</code></a></dt><dd>A pre-defined macro for testing the OS platform.</dd><dt><a class=permalink href=#__line__><code class=Ic id=__line__>__line__</code></a></dt><dd>Returns the current file's line number.</dd><dt><a class=permalink href=#__file__><code class=Ic id=__file__>__file__</code></a></dt><dd>Returns the current file's name.</dd></dl></section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2> The <code class=Nm>m4</code> utility exits 0 on success, and &gt;0 if an error occurs. <p class=Pp>But note that the <code class=Ic>m4exit</code> macro can modify the exit status, as can the <code class=Fl>-E</code> flag.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><p class=Pp><cite class=Rs><span class=RsA>B. W. Kernighan</span> and <span class=RsA>D. M. Ritchie</span>, <span class=RsT>The M4 Macro Processor</span>, <i class=RsI>AT&amp;T Bell Laboratories</i>, <span class=RsR>Computing Science Technical Report</span>, <span class=RsN>59</span>, <span class=RsD>July 1977</span>.</cite></p></section><section class=Sh><h2 class=Sh id=STANDARDS><a class=permalink href=#STANDARDS>STANDARDS</a></h2> The <code class=Nm>m4</code> utility is compliant with the <span class=St>IEEE Std 1003.1-2008 (“POSIX.1”)</span> specification. <p class=Pp>The flags [<code class=Fl>-dEgIPot</code>] and the macros <code class=Ic>builtin</code>, <code class=Ic>esyscmd</code>, <code class=Ic>expr</code>, <code class=Ic>format</code>, <code class=Ic>indir</code>, <code class=Ic>paste</code>, <code class=Ic>patsubst</code>, <code class=Ic>regexp</code>, <code class=Ic>spaste</code>, <code class=Ic>unix</code>, <code class=Ic>__line__</code>, and <code class=Ic>__file__</code> are extensions to that specification.</p><p class=Pp><code class=Ic>maketemp</code> is not supposed to be a synonym for <code class=Ic>mkstemp</code>, but instead to be an insecure temporary file name creation function. It is marked by <span class=St>IEEE Std 1003.1-2008 (“POSIX.1”)</span> as being obsolescent and should not be used if portability is a concern.</p><p class=Pp>The output format of <code class=Ic>traceon</code> and <code class=Ic>dumpdef</code> are not specified in any standard, are likely to change and should not be relied upon. The current format of tracing is closely modelled on <code class=Nm>gnu-m4</code>, to allow <code class=Nm>autoconf</code> to work.</p><p class=Pp>The built-ins <code class=Ic>pushdef</code> and <code class=Ic>popdef</code> handle macro definitions as a stack. However, <code class=Ic>define</code> interacts with the stack in an undefined way. In this implementation, <code class=Ic>define</code> replaces the top-most definition only. Other implementations may erase all definitions on the stack instead.</p><p class=Pp>All built-ins do expand without arguments in many other <code class=Nm>m4</code>.</p><p class=Pp>Many other <code class=Nm>m4</code> have dire size limitations with respect to buffer sizes.</p></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2><span class=An>Ozan Yigit</span> &lt;<a class=Mt href=mailto:oz@sis.yorku.ca>oz@sis.yorku.ca</a>&gt; and <span class=An>Richard A. O'Keefe</span> &lt;<a class=Mt href=mailto:ok@goanna.cs.rmit.OZ.AU>ok@goanna.cs.rmit.OZ.AU</a>&gt;. <p class=Pp>GNU-m4 compatibility extensions by <span class=An>Marc Espie</span> &lt;<a class=Mt href=mailto:espie@cvs.openbsd.org>espie@cvs.openbsd.org</a>&gt;.</p></section></div><table class=foot><tr><td class=foot-date>April 8, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>