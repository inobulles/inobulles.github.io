<!DOCTYPE html>
<html><head><meta charset=utf-8><title>bt_devinquiry(3)</title><keywords content=man,bt_devinquiry></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>bt_devinquiry(3)</h1><table class=head><tr><td class=head-ltitle>BLUETOOTH(3)</td><td class=head-vol>FreeBSD Library Functions Manual</td><td class=head-rtitle>BLUETOOTH(3)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>bt_gethostbyname</code>, <code class=Nm>bt_gethostbyaddr</code>, <code class=Nm>bt_gethostent</code>, <code class=Nm>bt_sethostent</code>, <code class=Nm>bt_endhostent</code>, <code class=Nm>bt_getprotobyname</code>, <code class=Nm>bt_getprotobynumber</code>, <code class=Nm>bt_getprotoent</code>, <code class=Nm>bt_setprotoent</code>, <code class=Nm>bt_endprotoent</code>, <code class=Nm>bt_aton</code>, <code class=Nm>bt_ntoa</code>, <code class=Nm>bt_devaddr</code>, <code class=Nm>bt_devname</code>, <code class=Nm>bt_devinfo</code>, <code class=Nm>bt_devenum</code>, <code class=Nm>bt_devopen</code>, <code class=Nm>bt_devclose</code>, <code class=Nm>bt_devsend</code>, <code class=Nm>bt_devrecv</code>, <code class=Nm>bt_devreq</code>, <code class=Nm>bt_devfilter</code>, <code class=Nm>bt_devfilter_pkt_set</code>, <code class=Nm>bt_devfilter_pkt_clr</code>, <code class=Nm>bt_devfilter_pkt_tst</code>, <code class=Nm>bt_devfilter_evt_set</code>, <code class=Nm>bt_devfilter_evt_clr</code>, <code class=Nm>bt_devfilter_evt_tst</code>, <code class=Nm>bt_devinquiry</code>, <code class=Nm>bt_devremote_name</code>, <code class=Nm>bt_devremote_name_gen</code>, <code class=Nm>bdaddr_same</code>, <code class=Nm>bdaddr_any</code>, <code class=Nm>bdaddr_copy</code> — <div class=Nd>Bluetooth routines</div></section><section class=Sh><h2 class=Sh id=LIBRARY><a class=permalink href=#LIBRARY>LIBRARY</a></h2><span class=Lb>Bluetooth Library (libbluetooth, -lbluetooth)</span></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/bluetooth.h.html>bluetooth.h</a>&gt;</code><p class=Pp><var class=Ft>struct hostent *</var><br><code class=Fn>bt_gethostbyname</code>(<var class=Fa style="white-space: nowrap;">const char *name</var>);</p><p class=Pp><var class=Ft>struct hostent *</var><br><code class=Fn>bt_gethostbyaddr</code>(<var class=Fa style="white-space: nowrap;">const char *addr</var>, <var class=Fa style="white-space: nowrap;">int len</var>, <var class=Fa style="white-space: nowrap;">int type</var>);</p><p class=Pp><var class=Ft>struct hostent *</var><br><code class=Fn>bt_gethostent</code>(<var class=Fa style="white-space: nowrap;">void</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_sethostent</code>(<var class=Fa style="white-space: nowrap;">int stayopen</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_endhostent</code>(<var class=Fa style="white-space: nowrap;">void</var>);</p><p class=Pp><var class=Ft>struct protoent *</var><br><code class=Fn>bt_getprotobyname</code>(<var class=Fa style="white-space: nowrap;">const char *name</var>);</p><p class=Pp><var class=Ft>struct protoent *</var><br><code class=Fn>bt_getprotobynumber</code>(<var class=Fa style="white-space: nowrap;">int proto</var>);</p><p class=Pp><var class=Ft>struct protoent *</var><br><code class=Fn>bt_getprotoent</code>(<var class=Fa style="white-space: nowrap;">void</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_setprotoent</code>(<var class=Fa style="white-space: nowrap;">int stayopen</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_endprotoent</code>(<var class=Fa style="white-space: nowrap;">void</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_aton</code>(<var class=Fa style="white-space: nowrap;">const char *str</var>, <var class=Fa style="white-space: nowrap;">bdaddr_t *ba</var>);</p><p class=Pp><var class=Ft>const char *</var><br><code class=Fn>bt_ntoa</code>(<var class=Fa style="white-space: nowrap;">const bdaddr_t *ba</var>, <var class=Fa style="white-space: nowrap;">char *str</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devaddr</code>(<var class=Fa style="white-space: nowrap;">const char *devname</var>, <var class=Fa style="white-space: nowrap;">bdaddr_t *addr</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devname</code>(<var class=Fa style="white-space: nowrap;">char *devname</var>, <var class=Fa style="white-space: nowrap;">const bdaddr_t *addr</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>(bt_devenum_cb_t)</code>(<var class=Fa style="white-space: nowrap;">int s</var>, <var class=Fa style="white-space: nowrap;">struct bt_devinfo const *di</var>, <var class=Fa style="white-space: nowrap;">void *arg</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devinfo</code>(<var class=Fa style="white-space: nowrap;">struct bt_devinfo *di</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devenum</code>(<var class=Fa style="white-space: nowrap;">bt_devenum_cb_t *cb</var>, <var class=Fa style="white-space: nowrap;">void *arg</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devopen</code>(<var class=Fa style="white-space: nowrap;">char const *devname</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devclose</code>(<var class=Fa style="white-space: nowrap;">int s</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devsend</code>(<var class=Fa style="white-space: nowrap;">int s</var>, <var class=Fa style="white-space: nowrap;">uint16_t opcode</var>, <var class=Fa style="white-space: nowrap;">void *param</var>, <var class=Fa style="white-space: nowrap;">size_t plen</var>);</p><p class=Pp><var class=Ft>ssize_t</var><br><code class=Fn>bt_devrecv</code>(<var class=Fa style="white-space: nowrap;">int s</var>, <var class=Fa style="white-space: nowrap;">void *buf</var>, <var class=Fa style="white-space: nowrap;">size_t size</var>, <var class=Fa style="white-space: nowrap;">time_t to</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devreq</code>(<var class=Fa style="white-space: nowrap;">int s</var>, <var class=Fa style="white-space: nowrap;">struct bt_devreq *r</var>, <var class=Fa style="white-space: nowrap;">time_t to</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devfilter</code>(<var class=Fa style="white-space: nowrap;">int s</var>, <var class=Fa style="white-space: nowrap;">struct bt_devfilter const *new</var>, <var class=Fa style="white-space: nowrap;">struct bt_devfilter *old</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_devfilter_pkt_set</code>(<var class=Fa style="white-space: nowrap;">struct bt_devfilter *filter</var>, <var class=Fa style="white-space: nowrap;">uint8_t type</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_devfilter_pkt_clt</code>(<var class=Fa style="white-space: nowrap;">struct bt_devfilter *filter</var>, <var class=Fa style="white-space: nowrap;">uint8_t type</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devfilter_pkt_tst</code>(<var class=Fa style="white-space: nowrap;">struct bt_devfilter const *filter</var>, <var class=Fa style="white-space: nowrap;">uint8_t type</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_devfilter_evt_set</code>(<var class=Fa style="white-space: nowrap;">struct bt_devfilter *filter</var>, <var class=Fa style="white-space: nowrap;">uint8_t event</var>);</p><p class=Pp><var class=Ft>void</var><br><code class=Fn>bt_devfilter_evt_clt</code>(<var class=Fa style="white-space: nowrap;">struct bt_devfilter *filter</var>, <var class=Fa style="white-space: nowrap;">uint8_t event</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devfilter_evt_tst</code>(<var class=Fa style="white-space: nowrap;">struct bt_devfilter const *filter</var>, <var class=Fa style="white-space: nowrap;">uint8_t event</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bt_devinquiry</code>(<var class=Fa style="white-space: nowrap;">char const *devname</var>, <var class=Fa style="white-space: nowrap;">time_t length</var>, <var class=Fa style="white-space: nowrap;">int num_rsp</var>, <var class=Fa style="white-space: nowrap;">struct bt_devinquiry **ii</var>);</p><p class=Pp><var class=Ft>char *</var><br><code class=Fn>bt_devremote_name</code>(<var class=Fa style="white-space: nowrap;">char const *devname</var>, <var class=Fa style="white-space: nowrap;">const bdaddr_t *remote</var>, <var class=Fa style="white-space: nowrap;">time_t to</var>, <var class=Fa style="white-space: nowrap;">uint16_t clk_off</var>, <var class=Fa style="white-space: nowrap;">uint8_t ps_rep_mode</var>, <var class=Fa style="white-space: nowrap;">uint8_t ps_mode</var>);</p><p class=Pp><var class=Ft>char *</var><br><code class=Fn>bt_devremote_name_gen</code>(<var class=Fa style="white-space: nowrap;">char const *btooth_devname</var>, <var class=Fa style="white-space: nowrap;">const bdaddr_t *remote</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bdaddr_same</code>(<var class=Fa style="white-space: nowrap;">const bdaddr_t *a</var>, <var class=Fa style="white-space: nowrap;">const bdaddr_t *b</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bdaddr_any</code>(<var class=Fa style="white-space: nowrap;">const bdaddr_t *a</var>);</p><p class=Pp><var class=Ft>int</var><br><code class=Fn>bdaddr_copy</code>(<var class=Fa style="white-space: nowrap;">const bdaddr_t *dst</var>, <var class=Fa style="white-space: nowrap;">const bdaddr_t *src</var>);</p></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Fn>bt_gethostent</code>(), <code class=Fn>bt_gethostbyname</code>() and <code class=Fn>bt_gethostbyaddr</code>() functions each return a pointer to an object with the <var class=Vt>hostent</var> structure describing a Bluetooth host referenced by name or by address, respectively. <p class=Pp>The <var class=Fa>name</var> argument passed to <code class=Fn>bt_gethostbyname</code>() should point to a <code class=Dv>NUL</code>-terminated hostname. The <var class=Fa>addr</var> argument passed to <code class=Fn>bt_gethostbyaddr</code>() should point to an address which is <var class=Fa>len</var> bytes long, in binary form (i.e., not a Bluetooth BD_ADDR in human readable ASCII form). The <var class=Fa>type</var> argument specifies the address family of this address and must be set to <code class=Dv>AF_BLUETOOTH</code>.</p><p class=Pp>The structure returned contains the information obtained from a line in <span class=Pa>/etc/bluetooth/hosts</span> file.</p><p class=Pp>The <code class=Fn>bt_sethostent</code>() function controls whether <span class=Pa>/etc/bluetooth/hosts</span> file should stay open after each call to <code class=Fn>bt_gethostbyname</code>() or <code class=Fn>bt_gethostbyaddr</code>(). If the <var class=Fa>stayopen</var> flag is non-zero, the file will not be closed.</p><p class=Pp>The <code class=Fn>bt_endhostent</code>() function closes the <span class=Pa>/etc/bluetooth/hosts</span> file.</p><p class=Pp>The <code class=Fn>bt_getprotoent</code>(), <code class=Fn>bt_getprotobyname</code>() and <code class=Fn>bt_getprotobynumber</code>() functions each return a pointer to an object with the <var class=Vt>protoent</var> structure describing a Bluetooth Protocol Service Multiplexor referenced by name or number, respectively.</p><p class=Pp>The <var class=Fa>name</var> argument passed to <code class=Fn>bt_getprotobyname</code>() should point to a <code class=Dv>NUL</code>-terminated Bluetooth Protocol Service Multiplexor name. The <var class=Fa>proto</var> argument passed to <code class=Fn>bt_getprotobynumber</code>() should have numeric value of the desired Bluetooth Protocol Service Multiplexor.</p><p class=Pp>The structure returned contains the information obtained from a line in <span class=Pa>/etc/bluetooth/protocols</span> file.</p><p class=Pp>The <code class=Fn>bt_setprotoent</code>() function controls whether <span class=Pa>/etc/bluetooth/protocols</span> file should stay open after each call to <code class=Fn>bt_getprotobyname</code>() or <code class=Fn>bt_getprotobynumber</code>(). If the <var class=Fa>stayopen</var> flag is non-zero, the file will not be closed.</p><p class=Pp>The <code class=Fn>bt_endprotoent</code>() function closes the <span class=Pa>/etc/bluetooth/protocols</span> file.</p><p class=Pp>The <code class=Fn>bt_aton</code>() routine interprets the specified character string as a Bluetooth address, placing the address into the structure provided. It returns 1 if the string was successfully interpreted, or 0 if the string is invalid.</p><p class=Pp>The routine <code class=Fn>bt_ntoa</code>() takes a Bluetooth address and places an ASCII string representing the address into the buffer provided. It is up to the caller to ensure that provided buffer has enough space. If no buffer was provided then internal static buffer will be used.</p><p class=Pp>The <code class=Fn>bt_devaddr</code>() function interprets the specified <var class=Fa>devname</var> string as the address or device name of a Bluetooth device on the local system, and places the device address in the provided <var class=Fa>bdaddr</var>, if any. The function returns 1 if the string was successfully interpreted, or 0 if the string did not match any local device. The <code class=Fn>bt_devname</code>() function takes a Bluetooth device address and copies the local device name associated with that address into the buffer provided, if any. Caller must ensure that provided buffer is at least <code class=Dv>HCI_DEVNAME_SIZE</code> characters in size. The function returns 1 when the device was found, otherwise 0.</p><p class=Pp>The <code class=Fn>bt_devinfo</code>() function populates provided <var class=Vt>bt_devinfo</var> structure with the information about given Bluetooth device. The caller is expected to pass Bluetooth device name in the <var class=Fa>devname</var> field of the passed <var class=Vt>bt_devinfo</var> structure. The function returns 0 when successful, otherwise -1. The <var class=Vt>bt_devinfo</var> structure is defined as follows</p><div class="Bd Pp Bd-indent"><pre>
struct bt_devinfo
{
        char            devname[HCI_DEVNAME_SIZE];

        uint32_t        state;

        bdaddr_t        bdaddr;
        uint16_t        _reserved0;

        uint8_t         features[HCI_DEVFEATURES_SIZE];

        /* buffer info */
        uint16_t        _reserved1;
        uint16_t        cmd_free;
        uint16_t        sco_size;
        uint16_t        sco_pkts;
        uint16_t        sco_free;
        uint16_t        acl_size;
        uint16_t        acl_pkts;
        uint16_t        acl_free;

        /* stats */
        uint32_t        cmd_sent;
        uint32_t        evnt_recv;
        uint32_t        acl_recv;
        uint32_t        acl_sent;
        uint32_t        sco_recv;
        uint32_t        sco_sent;
        uint32_t        bytes_recv;
        uint32_t        bytes_sent;

        /* misc/specific */
        uint16_t        link_policy_info;
        uint16_t        packet_type_info;
        uint16_t        role_switch_info;
        uint16_t        debug;

        uint8_t         _padding[20];
};
</pre></div><p class=Pp>The <code class=Fn>bt_devenum</code>() function enumerates Bluetooth devices present in the system. For every device found, the function will call provided <var class=Fa>cb</var> callback function which should be of <var class=Vt>bt_devenum_cb_t</var> type. The callback function is passed a <code class=Dv>HCI</code> socket <var class=Fa>s</var>, fully populated <var class=Vt>bt_devinfo</var> structure <var class=Fa>di</var> and <var class=Fa>arg</var> argument provided to the <code class=Fn>bt_devenum</code>(). The callback function can stop enumeration by returning a value that is greater than zero. The function returns number of successfully enumerated devices, or -1 if an error occurred.</p><p class=Pp>The <code class=Fn>bt_devopen</code>() function opens a Bluetooth device with the given <var class=Fa>devname</var> and returns a connected and bound <code class=Dv>HCI</code> socket handle. The function returns -1 if an error has occurred.</p><p class=Pp>The <code class=Fn>bt_devclose</code>() closes the passed <code class=Dv>HCI</code> socket handle <var class=Fa>s</var>, previously obtained with <a class=Xr href=bt_devopen.3.html>bt_devopen(3)</a>.</p><p class=Pp>The <code class=Fn>bt_devsend</code>() function sends a Bluetooth <code class=Dv>HCI</code> command with the given <var class=Fa>opcode</var> to the provided socket <var class=Fa>s</var>, previously obtained with <a class=Xr href=bt_devopen.3.html>bt_devopen(3)</a>. The <var class=Fa>opcode</var> parameter is expected to be in the host byte order. The <var class=Fa>param</var> and <var class=Fa>plen</var> parameters specify command parameters. The <code class=Fn>bt_devsend</code>() function does not modify the <code class=Dv>HCI</code> filter on the provided socket <var class=Fa>s</var>. The function returns 0 on success, or -1 if an error occurred.</p><p class=Pp>The <code class=Fn>bt_devrecv</code>() function receives one Bluetooth <code class=Dv>HCI</code> packet from the socket <var class=Fa>s</var>, previously obtained with <a class=Xr href=bt_devopen.3.html>bt_devopen(3)</a>. The packet is placed into the provided buffer <var class=Fa>buf</var> of size <var class=Fa>size</var>. The <var class=Fa>to</var> parameter specifies receive timeout in seconds. Infinite timeout can be specified by passing negative value in the <var class=Fa>to</var> parameter. The <code class=Fn>bt_devrecv</code>() function does not modify the <code class=Dv>HCI</code> filter on the provided socket <var class=Fa>s</var>. The function returns total number of bytes received, or -1 if an error occurred.</p><p class=Pp>The <code class=Fn>bt_devreq</code>() function makes a Bluetooth <code class=Dv>HCI</code> request to the socket <var class=Fa>s</var>, previously obtained with <a class=Xr href=bt_devopen.3.html>bt_devopen(3)</a>. The function will send the specified command and will wait for the specified event, or timeout <var class=Fa>to</var> seconds to occur. The <var class=Vt>bt_devreq</var> structure is defined as follows</p><div class="Bd Pp Bd-indent"><pre>
struct bt_devreq
{
        uint16_t        opcode;
        uint8_t         event;
        void            *cparam;
        size_t          clen;
        void            *rparam;
        size_t          rlen;
};
</pre></div><p class=Pp>The <var class=Fa>opcode</var> field specifies the command and is expected to be in the host byte order. The <var class=Fa>cparam</var> and <var class=Fa>clen</var> fields specify command parameters data and command parameters data size respectively. The <var class=Fa>event</var> field specifies which Bluetooth <code class=Dv>HCI</code> event ID the function should wait for, otherwise it should be set to zero. The <code class=Dv>HCI</code> Command Complete and Command Status events are enabled by default. The <var class=Fa>rparam</var> and <var class=Fa>rlen</var> parameters specify buffer and buffer size respectively where return parameters should be placed. The <code class=Fn>bt_devreq</code>() function temporarily modifies filter on the provided <code class=Dv>HCI</code> socket <var class=Fa>s</var>. The function returns 0 on success, or -1 if an error occurred.</p><p class=Pp>The <code class=Fn>bt_devfilter</code>() controls the local <code class=Dv>HCI</code> filter associated with the socket <var class=Fa>s</var>, previously obtained with <a class=Xr href=bt_devopen.3.html>bt_devopen(3)</a>. Filtering can be done on packet types, i.e. <code class=Dv>ACL</code>, <code class=Dv>SCO</code> or <code class=Dv>HCI</code>, command and event packets, and, in addition, on <code class=Dv>HCI</code> event IDs. Before applying the <var class=Fa>new</var> filter (if provided) the function will try to obtain the current filter from the socket <var class=Fa>s</var> and place it into the <var class=Fa>old</var> parameter (if provided). The function returns 0 on success, or -1 if an error occurred.</p><p class=Pp>The <code class=Fn>bt_devfilter_pkt_set</code>(), <code class=Fn>bt_devfilter_pkt_clr</code>() and <code class=Fn>bt_devfilter_pkt_tst</code>() functions can be used to modify and test the <code class=Dv>HCI</code> filter <var class=Fa>filter</var>. The <var class=Fa>type</var> parameter specifies <code class=Dv>HCI</code> packet type.</p><p class=Pp>The <code class=Fn>bt_devfilter_evt_set</code>(), <code class=Fn>bt_devfilter_evt_clr</code>() and <code class=Fn>bt_devfilter_evt_tst</code>() functions can be used to modify and test the <code class=Dv>HCI</code> event filter <var class=Fa>filter</var>. The <var class=Fa>event</var> parameter specifies <code class=Dv>HCI</code> event ID.</p><p class=Pp>The <code class=Fn>bt_devinquiry</code>() function performs Bluetooth inquiry. The <var class=Fa>devname</var> parameter specifies which local Bluetooth device should perform an inquiry. If not specified, i.e. <code class=Dv>NULL</code>, then first available device will be used. The <var class=Fa>length</var> parameters specifies the total length of an inquiry in seconds. If not specified, i.e. 0, default value will be used. The <var class=Fa>num_rsp</var> parameter specifies the number of responses that can be received before the inquiry is halted. If not specified, i.e. 0, default value will be used. The <var class=Fa>ii</var> parameter specifies where to place inquiry results. On success, the function will return total number of inquiry results, will allocate, using <a class=Xr href=calloc.3.html>calloc(3)</a>, buffer to store all the inquiry results and will return pointer to the allocated buffer in the <var class=Fa>ii</var> parameter. It is up to the caller of the function to dispose of the buffer using <a class=Xr href=free.3.html>free(3)</a> call. The function returns -1 if an error has occurred. The <var class=Vt>bt_devinquiry</var> structure is defined as follows</p><div class="Bd Pp Bd-indent"><pre>
struct bt_devinquiry {
        bdaddr_t        bdaddr;
        uint8_t         pscan_rep_mode;
        uint8_t         pscan_period_mode;
        uint8_t         dev_class[3];
        uint16_t        clock_offset;
        int8_t          rssi;
        uint8_t         data[240];
};
</pre></div><p class=Pp>The <code class=Fn>bt_devremote_name</code>() function performs Bluetooth Remote Name Request procedure to obtain the user-friendly name of another Bluetooth unit. The <var class=Fa>devname</var> parameter specifies which local Bluetooth device should perform the request. If not specified (<code class=Dv>NULL</code>), the first available device is used. The <var class=Fa>remote</var> parameter specifies the Bluetooth BD_ADDR of the remote device to query. The <var class=Fa>to</var> parameter specifies response timeout in seconds. If not specified (0), the default value is taken from the net.bluetooth.hci.command_timeout <a class=Xr href=sysctl.8.html>sysctl(8)</a> value. The <var class=Fa>clk_off</var>, <var class=Fa>ps_rep_mode</var>, and <var class=Fa>ps_mode</var> parameters specify Clock_Offset, Page_Scan_Repetition_Mode, and Page_Scan_Mode fields of HCI_Remote_Name_Request respectively. On success, the function returns a pointer to dynamically allocated NUL-terminated string or <code class=Dv>NULL</code> if an error occurred. It is up to the caller to release returned string using <a class=Xr href=free.3.html>free(3)</a>.</p><p class=Pp>The <code class=Fn>bt_devremote_name_gen</code>() function is a shortcut to <code class=Fn>bt_devremote_name</code>() that passes generic defaults for <var class=Fa>to</var>, <var class=Fa>clk_off</var>, <var class=Fa>ps_rep_mode</var>, and <var class=Fa>ps_mode</var> parameters.</p><p class=Pp>The <code class=Fn>bdaddr_same</code>(), <code class=Fn>bdaddr_any</code>(), and <code class=Fn>bdaddr_copy</code>() are handy shorthand Bluetooth address utility functions. The <code class=Fn>bdaddr_same</code>() function will test if two provided BD_ADDRs are the same. The <code class=Fn>bdaddr_any</code>() function will test if provided BD_ADDR is <code class=Dv>ANY</code> BD_ADDR. The <code class=Fn>bdaddr_copy</code>() function will copy provided <var class=Fa>src</var> BD_ADDR into provided <var class=Fa>dst</var> BD_ADDR.</p></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt><span class=Pa>/etc/bluetooth/hosts</span></dt><dd style="width: auto;"> </dd><dt><span class=Pa>/etc/bluetooth/protocols</span></dt><dd style="width: auto;"> </dd></dl></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> Print out the hostname associated with a specific BD_ADDR: <div class="Bd Pp Bd-indent"><pre>
const char *bdstr = "00:01:02:03:04:05";
bdaddr_t bd;
struct hostent *hp;

if (!bt_aton(bdstr, &amp;bd))
	errx(1, "can't parse BD_ADDR %s", bdstr);

if ((hp = bt_gethostbyaddr((const char *)&amp;bd,
    sizeof(bd), AF_BLUETOOTH)) == NULL)
	errx(1, "no name associated with %s", bdstr);

printf("name associated with %s is %s\n", bdstr, hp-&gt;h_name);
</pre></div></section><section class=Sh><h2 class=Sh id=DIAGNOSTICS><a class=permalink href=#DIAGNOSTICS>DIAGNOSTICS</a></h2> Error return status from <code class=Fn>bt_gethostent</code>(), <code class=Fn>bt_gethostbyname</code>() and <code class=Fn>bt_gethostbyaddr</code>() is indicated by return of a <code class=Dv>NULL</code> pointer. The external integer <var class=Va>h_errno</var> may then be checked to see whether this is a temporary failure or an invalid or unknown host. The routine <a class=Xr href=herror.3.html>herror(3)</a> can be used to print an error message describing the failure. If its argument <var class=Fa>string</var> is non-<code class=Dv>NULL</code>, it is printed, followed by a colon and a space. The error message is printed with a trailing newline. <p class=Pp>The variable <var class=Va>h_errno</var> can have the following values:</p><dl class=Bl-tag><dt><a class=permalink href=#HOST_NOT_FOUND><code class=Dv id=HOST_NOT_FOUND>HOST_NOT_FOUND</code></a></dt><dd>No such host is known.</dd><dt><a class=permalink href=#NO_RECOVERY><code class=Dv id=NO_RECOVERY>NO_RECOVERY</code></a></dt><dd>Some unexpected server failure was encountered. This is a non-recoverable error.</dd></dl><p class=Pp>The <code class=Fn>bt_getprotoent</code>(), <code class=Fn>bt_getprotobyname</code>() and <code class=Fn>bt_getprotobynumber</code>() return <code class=Dv>NULL</code> on EOF or error.</p></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=gethostbyaddr.3.html>gethostbyaddr(3)</a>, <a class=Xr href=gethostbyname.3.html>gethostbyname(3)</a>, <a class=Xr href=getprotobyname.3.html>getprotobyname(3)</a>, <a class=Xr href=getprotobynumber.3.html>getprotobynumber(3)</a>, <a class=Xr href=herror.3.html>herror(3)</a>, <a class=Xr href=inet_aton.3.html>inet_aton(3)</a>, <a class=Xr href=inet_ntoa.3.html>inet_ntoa(3)</a>, <a class=Xr href=ng_hci.4.html>ng_hci(4)</a></section><section class=Sh><h2 class=Sh id=CAVEAT><a class=permalink href=#CAVEAT>CAVEAT</a></h2> The <code class=Fn>bt_gethostent</code>() function reads the next line of <span class=Pa>/etc/bluetooth/hosts</span>, opening the file if necessary. <p class=Pp>The <code class=Fn>bt_sethostent</code>() function opens and/or rewinds the <span class=Pa>/etc/bluetooth/hosts</span> file.</p><p class=Pp>The <code class=Fn>bt_getprotoent</code>() function reads the next line of <span class=Pa>/etc/bluetooth/protocols</span>, opening the file if necessary.</p><p class=Pp>The <code class=Fn>bt_setprotoent</code>() function opens and/or rewinds the <span class=Pa>/etc/bluetooth/protocols</span> file.</p><p class=Pp>The <code class=Fn>bt_devenum</code>() function enumerates up to <code class=Dv>HCI_DEVMAX</code> Bluetooth devices. During enumeration the <code class=Fn>bt_devenum</code>() function uses the same <code class=Dv>HCI</code> socket. The function guarantees that the socket, passed to the callback function, will be bound and connected to the Bluetooth device being enumerated.</p></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2><span class=An>Maksim Yevmenkin</span> &lt;<a class=Mt href=mailto:m_evmenkin@yahoo.com>m_evmenkin@yahoo.com</a>&gt; </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> Some of those functions use static data storage; if the data is needed for future use, it should be copied before any subsequent calls overwrite it. </section></div><table class=foot><tr><td class=foot-date>May 1, 2018</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>