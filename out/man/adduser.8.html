<!DOCTYPE html>
<html><head><meta charset=utf-8><title>adduser(8)</title><keywords content=man,adduser></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>adduser(8)</h1><table class=head><tr><td class=head-ltitle>ADDUSER(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>ADDUSER(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>adduser</code> — <div class=Nd>command for adding new users</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>adduser</code></td><td>[<code class=Fl>-CDENShq</code>] [<code class=Fl>-G</code><var class=Ar>groups</var>] [<code class=Fl>-L</code><var class=Ar>login_class</var>] [<code class=Fl>-M</code><var class=Ar>mode</var>] [<code class=Fl>-d</code><var class=Ar>partition</var>] [<code class=Fl>-f</code><var class=Ar>file</var>] [<code class=Fl>-g</code><var class=Ar>login_group</var>] [<code class=Fl>-k</code><var class=Ar>dotdir</var>] [<code class=Fl>-m</code><var class=Ar>message_file</var>] [<code class=Fl>-s</code><var class=Ar>shell</var>] [<code class=Fl>-u</code><var class=Ar>uid_start</var>] [<code class=Fl>-w</code><var class=Ar>type</var>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>adduser</code> utility is a shell script, implemented around the <a class=Xr href=pw.8.html>pw(8)</a> command, for adding new users. It creates passwd/group entries, a home directory, copies dotfiles and sends the new user a welcome message. It supports two modes of operation. It may be used interactively at the command line to add one user at a time, or it may be directed to get the list of new users from a file and operate in batch mode without requiring any user interaction. </section><section class=Sh><h2 class=Sh id=RESTRICTIONS><a class=permalink href=#RESTRICTIONS>RESTRICTIONS</a></h2><dl class=Bl-tag><dt>username</dt><dd>Login name. The user name is restricted to whatever <a class=Xr href=pw.8.html>pw(8)</a> will accept. Generally this means it may contain only lowercase characters or digits but cannot begin with the ‘<code class=Li>-</code>’ character. Maximum length is 16 characters. The reasons for this limit are historical. Given that people have traditionally wanted to break this limit for aesthetic reasons, it has never been of great importance to break such a basic fundamental parameter in <span class=Ux>UNIX</span>. You can change <code class=Dv>UT_NAMESIZE</code> in <code class=In>&lt;<a class=In href=../src/utmp.h.html>utmp.h</a>&gt;</code> and recompile the world; people have done this and it works, but you will have problems with any precompiled programs, or source that assumes the 8-character name limit, such as NIS. The NIS protocol mandates an 8-character username. If you need a longer login name for e-mail addresses, you can define an alias in <span class=Pa>/etc/mail/aliases</span>.</dd><dt>full name</dt><dd>This is typically known as the gecos field and usually contains the user's full name. Additionally, it may contain a comma separated list of values such as office number and work and home phones. If the name contains an ampersand it will be replaced by the capitalized login name when displayed by other programs. The ‘<code class=Li>:</code>’ character is not allowed.</dd><dt>shell</dt><dd>Unless the <code class=Fl>-S</code> argument is supplied only valid shells from the shell database (<span class=Pa>/etc/shells</span>) are allowed. In addition, either the base name or the full path of the shell may be supplied.</dd><dt>UID</dt><dd>Automatically generated or your choice. It must be less than 32000.</dd><dt>GID/login group</dt><dd>Automatically generated or your choice. It must be less than 32000.</dd><dt>password</dt><dd>You may choose an empty password, disable the password, use a randomly generated password or specify your own plaintext password, which will be encrypted before being stored in the user database.</dd></dl></section><section class=Sh><h2 class=Sh id=UNIQUE_GROUPS><a class=permalink href=#UNIQUE_GROUPS>UNIQUE GROUPS</a></h2> Perhaps you are missing what <i class=Em>can</i> be done with this scheme that falls apart with most other schemes. With each user in their own group, they can safely run with a umask of 002 instead of the usual 022 and create files in their home directory without worrying about others being able to change them. <p class=Pp>For a shared area you create a separate UID/GID, you place each person that should be able to access this area into that new group.</p><p class=Pp>This model of UID/GID administration allows far greater flexibility than lumping users into groups and having to muck with the umask when working in a shared area.</p><p class=Pp>I have been using this model for almost 10 years and found that it works for most situations, and has never gotten in the way. (Rod Grimes)</p></section><section class=Sh><h2 class=Sh id=CONFIGURATION><a class=permalink href=#CONFIGURATION>CONFIGURATION</a></h2> The <code class=Nm>adduser</code> utility reads its configuration information from <span class=Pa>/etc/adduser.conf</span>. If this file does not exist, it will use predefined defaults. While this file may be edited by hand, the safer option is to use the <code class=Fl>-C</code> command line argument. With this argument, <code class=Nm>adduser</code> will start interactive input, save the answers to its prompts in <span class=Pa>/etc/adduser.conf</span>, and promptly exit without modifying the user database. Options specified on the command line will take precedence over any values saved in this file. </section><section class=Sh><h2 class=Sh id=OPTIONS><a class=permalink href=#OPTIONS>OPTIONS</a></h2><dl class=Bl-tag><dt><a class=permalink href=#C><code class=Fl id=C>-C</code></a></dt><dd>Create new configuration file and exit. This option is mutually exclusive with the <code class=Fl>-f</code> option.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a><var class=Ar>partition</var></dt><dd>Home partition. Default partition, under which all user directories will be located. The <span class=Pa>/nonexistent</span> partition is considered special. The <code class=Nm>adduser</code> script will not create and populate a home directory by that name. Otherwise, by default it attempts to create a home directory.</dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a></dt><dd>Do not attempt to create the home directory.</dd><dt><a class=permalink href=#E><code class=Fl id=E>-E</code></a></dt><dd>Disable the account. This option will lock the account by prepending the string “<code class=Li>*LOCKED*</code>” to the password field. The account may be unlocked by the super-user with the <a class=Xr href=pw.8.html>pw(8)</a> command: <p class=Pp></p><div class="Bd Bd-indent"><code class=Nm>pw</code><code class=Cm>unlock</code> [<var class=Ar>name</var> | <var class=Ar>uid</var>]</div></dd><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a><var class=Ar>file</var></dt><dd>Get the list of accounts to create from <var class=Ar>file</var>. If <var class=Ar>file</var> is “<code class=Fl>-</code>”, then get the list from standard input. If this option is specified, <code class=Nm>adduser</code> will operate in batch mode and will not seek any user input. If an error is encountered while processing an account, it will write a message to standard error and move to the next account. The format of the input file is described below.</dd><dt><a class=permalink href=#g><code class=Fl id=g>-g</code></a><var class=Ar>login_group</var></dt><dd>Normally, if no login group is specified, it is assumed to be the same as the username. This option makes <var class=Ar>login_group</var> the default.</dd><dt><a class=permalink href=#G><code class=Fl id=G>-G</code></a><var class=Ar>groups</var></dt><dd>Space-separated list of additional groups. This option allows the user to specify additional groups to add users to. The user is a member of these groups in addition to their login group.</dd><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a></dt><dd>Print a summary of options and exit.</dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a><var class=Ar>directory</var></dt><dd>Copy files from <var class=Ar>directory</var> into the home directory of new users; <span class=Pa>dot.foo</span> will be renamed to <span class=Pa>.foo</span>.</dd><dt><a class=permalink href=#L><code class=Fl id=L>-L</code></a><var class=Ar>login_class</var></dt><dd>Set default login class.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a><var class=Ar>file</var></dt><dd>Send new users a welcome message from <var class=Ar>file</var>. Specifying a value of <code class=Cm>no</code> for <var class=Ar>file</var> causes no message to be sent to new users. Please note that the message file can reference the internal variables of the <code class=Nm>adduser</code> script.</dd><dt><a class=permalink href=#M><code class=Fl id=M>-M</code></a><var class=Ar>mode</var></dt><dd>Create the home directory with permissions set to <var class=Ar>mode</var>.</dd><dt><a class=permalink href=#N><code class=Fl id=N>-N</code></a></dt><dd>Do not read the default configuration file.</dd><dt><a class=permalink href=#q><code class=Fl id=q>-q</code></a></dt><dd>Minimal user feedback. In particular, the random password will not be echoed to standard output.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a><var class=Ar>shell</var></dt><dd>Default shell for new users. The <var class=Ar>shell</var> argument may be the base name of the shell or the full path. Unless the <code class=Fl>-S</code> argument is supplied the shell must exist in <span class=Pa>/etc/shells</span> or be the special shell <i class=Em>nologin</i> to be considered a valid shell.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a></dt><dd>The existence or validity of the specified shell will not be checked.</dd><dt><a class=permalink href=#u><code class=Fl id=u>-u</code></a><var class=Ar>uid</var></dt><dd>Use UIDs from <var class=Ar>uid</var> on up.</dd><dt><a class=permalink href=#w><code class=Fl id=w>-w</code></a><var class=Ar>type</var></dt><dd>Password type. The <code class=Nm>adduser</code> utility allows the user to specify what type of password to create. The <var class=Ar>type</var> argument may have one of the following values: <dl class=Bl-tag><dt><a class=permalink href=#no><code class=Cm id=no>no</code></a></dt><dd>Disable the password. Instead of an encrypted string, the password field will contain a single ‘<code class=Li>*</code>’ character. The user may not log in until the super-user manually enables the password.</dd><dt><a class=permalink href=#none><code class=Cm id=none>none</code></a></dt><dd>Use an empty string as the password.</dd><dt><a class=permalink href=#yes><code class=Cm id=yes>yes</code></a></dt><dd>Use a user-supplied string as the password. In interactive mode, the user will be prompted for the password. In batch mode, the last (10th) field in the line is assumed to be the password.</dd><dt><a class=permalink href=#random><code class=Cm id=random>random</code></a></dt><dd>Generate a random string and use it as a password. The password will be echoed to standard output. In addition, it will be available for inclusion in the message file in the <var class=Va>randompass</var> variable.</dd></dl></dd></dl></section><section class=Sh><h2 class=Sh id=FORMAT><a class=permalink href=#FORMAT>FORMAT</a></h2> When the <code class=Fl>-f</code> option is used, the account information must be stored in a specific format. All empty lines or lines beginning with a ‘<code class=Li>#</code>’ will be ignored. All other lines must contain ten colon (‘<code class=Li>:</code>’) separated fields as described below. Command line options do not take precedence over values in the fields. Only the password field may contain a ‘<code class=Li>:</code>’ character as part of the string. <p class=Pp></p><div class="Bd Bd-indent"><var class=Ar>name</var>:<var class=Ar>uid</var>:<var class=Ar>gid</var>:<var class=Ar>class</var>:<var class=Ar>change</var>:<var class=Ar>expire</var>:<var class=Ar>gecos</var>:<var class=Ar>home_dir</var>:<var class=Ar>shell</var>:<var class=Ar>password</var></div><dl class=Bl-tag><dt><var class=Ar>name</var></dt><dd>Login name. This field may not be empty.</dd><dt><var class=Ar>uid</var></dt><dd>Numeric login user ID. If this field is left empty, it will be automatically generated.</dd><dt><var class=Ar>gid</var></dt><dd>Numeric primary group ID. If this field is left empty, a group with the same name as the user name will be created and its GID will be used instead.</dd><dt><var class=Ar>class</var></dt><dd>Login class. This field may be left empty.</dd><dt><var class=Ar>change</var></dt><dd>Password ageing. This field denotes the password change date for the account. The format of this field is the same as the format of the <code class=Fl>-p</code> argument to <a class=Xr href=pw.8.html>pw(8)</a>. It may be <var class=Ar>dd</var>-<var class=Ar>mmm</var>-<var class=Ar>yy</var>[<var class=Ar>yy</var>], where <var class=Ar>dd</var> is for the day, <var class=Ar>mmm</var> is for the month in numeric or alphabetical format: “<code class=Li>10</code>” or “<code class=Li>Oct</code>”, and <var class=Ar>yy</var>[<var class=Ar>yy</var>] is the four or two digit year. To denote a time relative to the current date the format is: <span class=No>+</span><var class=Ar>n</var>[<var class=Ar>mhdwoy</var>], where <var class=Ar>n</var> denotes a number, followed by the minutes, hours, days, weeks, months or years after which the password must be changed. This field may be left empty to turn it off.</dd><dt><var class=Ar>expire</var></dt><dd>Account expiration. This field denotes the expiry date of the account. The account may not be used after the specified date. The format of this field is the same as that for password ageing. This field may be left empty to turn it off.</dd><dt><var class=Ar>gecos</var></dt><dd>Full name and other extra information about the user.</dd><dt><var class=Ar>home_dir</var></dt><dd>Home directory. If this field is left empty, it will be automatically created by appending the username to the home partition. The <span class=Pa>/nonexistent</span> home directory is considered special and is understood to mean that no home directory is to be created for the user.</dd><dt><var class=Ar>shell</var></dt><dd>Login shell. This field should contain either the base name or the full path to a valid login shell.</dd><dt><var class=Ar>password</var></dt><dd>User password. This field should contain a plaintext string, which will be encrypted before being placed in the user database. If the password type is <code class=Cm>yes</code> and this field is empty, it is assumed the account will have an empty password. If the password type is <code class=Cm>random</code> and this field is <i class=Em>not</i> empty, its contents will be used as a password. This field will be ignored if the <code class=Fl>-w</code> option is used with a <code class=Cm>no</code> or <code class=Cm>none</code> argument. Be careful not to terminate this field with a closing ‘<code class=Li>:</code>’ because it will be treated as part of the password.</dd></dl></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt><span class=Pa>/etc/master.passwd</span></dt><dd>user database</dd><dt><span class=Pa>/etc/group</span></dt><dd>group database</dd><dt><span class=Pa>/etc/shells</span></dt><dd>shell database</dd><dt><span class=Pa>/etc/login.conf</span></dt><dd>login classes database</dd><dt><span class=Pa>/etc/adduser.conf</span></dt><dd>configuration file for <code class=Nm>adduser</code></dd><dt><span class=Pa>/etc/adduser.message</span></dt><dd>message file for <code class=Nm>adduser</code></dd><dt><span class=Pa>/usr/share/skel</span></dt><dd>skeletal login directory</dd><dt><span class=Pa>/var/log/adduser</span></dt><dd>logfile for <code class=Nm>adduser</code></dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=chpass.1.html>chpass(1)</a>, <a class=Xr href=passwd.1.html>passwd(1)</a>, <a class=Xr href=adduser.conf.5.html>adduser.conf(5)</a>, <a class=Xr href=aliases.5.html>aliases(5)</a>, <a class=Xr href=group.5.html>group(5)</a>, <a class=Xr href=login.conf.5.html>login.conf(5)</a>, <a class=Xr href=passwd.5.html>passwd(5)</a>, <a class=Xr href=shells.5.html>shells(5)</a>, <a class=Xr href=pw.8.html>pw(8)</a>, <a class=Xr href=pwd_mkdb.8.html>pwd_mkdb(8)</a>, <a class=Xr href=rmuser.8.html>rmuser(8)</a>, <a class=Xr href=vipw.8.html>vipw(8)</a>, <a class=Xr href=yp.8.html>yp(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>adduser</code> command appeared in <span class=Ux>FreeBSD 2.1</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> This manual page and the original script, in Perl, was written by <span class=An>Wolfram Schneider</span> &lt;<a class=Mt href=mailto:wosch@FreeBSD.org>wosch@FreeBSD.org</a>&gt;. The replacement script, written as a Bourne shell script with some enhancements, and the man page modification that came with it were done by <span class=An>Mike Makonnen</span> &lt;<a class=Mt href=mailto:mtm@identd.net>mtm@identd.net</a>&gt;. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> In order for <code class=Nm>adduser</code> to correctly expand variables such as <var class=Va>$username</var> and <var class=Va>$randompass</var> in the message sent to new users, it must let the shell evaluate each line of the message file. This means that shell commands can also be embedded in the message file. The <code class=Nm>adduser</code> utility attempts to mitigate the possibility of an attacker using this feature by refusing to evaluate the file if it is not owned and writable only by the root user. In addition, shell special characters and operators will have to be escaped when used in the message file. <p class=Pp>Also, password ageing and account expiry times are currently settable only in batch mode or when specified in <span class=Pa>/etc/adduser.conf</span>. The user should be able to set them in interactive mode as well.</p></section></div><table class=foot><tr><td class=foot-date>September 15, 2012</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>