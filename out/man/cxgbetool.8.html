<!DOCTYPE html>
<html><head><meta charset=utf-8><title>cxgbetool(8)</title><keywords content=man,cxgbetool></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>cxgbetool(8)</h1><table class=head><tr><td class=head-ltitle>CXGBETOOL(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>CXGBETOOL(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>cxgbetool</code> — <div class=Nd>Userspace companion to <a class=Xr href=cxgbe.4.html>cxgbe(4)</a></div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><ul class="Bl-item Bl-compact"><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus command</var> [<var class=Ar>parameter ...</var>]</code></td><td></td></tr></table><p class=Pp></p></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>clearstats</code><var class=Ar>port_id</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>clip</code> {<code class=Cm>hold</code> | <code class=Cm>release</code>} <var class=Ar>ipv6-address</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>clip</code><code class=Cm>list</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>context</code> {<code class=Cm>ingress</code> | <code class=Cm>egress</code> | <code class=Cm>fl</code> | <code class=Cm>cong</code>} <var class=Ar>cntxt_id</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>hashfilter mode</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>hashfilter</code><var class=Ar>filter-specification</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>hashfilter</code><var class=Ar>idx</var><code class=Cm>delete</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>hashfilter list</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>filter mode</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>filter</code><var class=Ar>idx</var><var class=Ar>filter-specification</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>filter</code><var class=Ar>idx</var><code class=Cm>delete</code> [<code class=Cm>prio</code> {<code class=Cm>0</code> | <code class=Cm>1</code>}]</code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>filter list</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>i2c</code><var class=Ar>port_id devaddr addr</var> [<var class=Ar>len</var>]</code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>loadcfg</code><var class=Ar>fw-config.txt</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>loadcfg clear</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>loadfw</code><var class=Ar>fw-image.bin</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>memdump</code><var class=Ar>addr len</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>policy</code><var class=Ar>cop.txt</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>policy clear</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var> {<code class=Cm>reg</code> | <code class=Cm>reg64</code>} <var class=Ar>addr</var>[<var class=Ar>=val</var>]</code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>regdump</code> [<var class=Ar>register-block ...</var>]</code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>sched-class</code><var class=Ar>sub-command</var> [<var class=Ar>param</var><var class=Ar>value</var>]</code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>sched-queue</code><var class=Ar>port</var><var class=Ar>queue</var><var class=Ar>class</var></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>stdio</code></code></td><td></td></tr></table></li><li><table class=Nm><tr><td><code class=Nm>cxgbetool <var class=Ar>nexus</var><code class=Cm>tcb</code><var class=Ar>tid</var></code></td><td></td></tr></table></li></ul></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2><code class=Nm>cxgbetool</code> provides command-line access to features and debug facilities exported by <a class=Xr href=cxgbe.4.html>cxgbe(4)</a> via private ioctls. The target nexus device, <var class=Va>t4nex%d</var> , is always the first argument. (The parent nexus for an Ethernet port <var class=Va>cxgbe%d</var> is listed in <var class=Va>dev.cxgbe.%d.%parent</var> in the <a class=Xr href=sysctl.8.html>sysctl(8)</a> MIB). The rest consists of a command and any parameters required by that command. <section class=Ss><h2 class=Ss id=Commands><a class=permalink href=#Commands>Commands</a></h2><dl class=Bl-ohang><dt><a class=permalink href=#clearstats><code class=Cm id=clearstats>clearstats</code></a><var class=Ar>port_id</var></dt><dd>Clear all transmit, receive, and error statistics of all queues associated with a port. The total number of ports attached to a nexus is listed in <var class=Va>dev.t4nex.%d.nports</var> and the 0 based <var class=Ar>port_id</var> identifies a port within this range. <p class=Pp></p><ul class="Bl-item Bl-compact"><li><a class=permalink href=#clip_hold><code class=Cm id=clip_hold>clip hold</code></a><var class=Ar>ipv6-address</var></li></ul> Install a reference on the given <var class=Ar>ipv6-address</var> in the CLIP (Compressed Local IPv6) table. The address is added to the CLIP table if it is not present there already. <p class=Pp></p><ul class="Bl-item Bl-compact"><li><a class=permalink href=#clip_list><code class=Cm id=clip_list>clip list</code></a></li></ul> List the contents of the CLIP table. <p class=Pp></p><ul class="Bl-item Bl-compact"><li><a class=permalink href=#clip_release><code class=Cm id=clip_release>clip release</code></a><var class=Ar>ipv6-address</var></li></ul> Release a reference on the given <var class=Ar>ipv6-address</var> in the CLIP table. A reference on the address must have been acquired previously. <p class=Pp></p><ul class="Bl-item Bl-compact"><li><a class=permalink href=#context_ingress><code class=Cm id=context_ingress>context ingress</code></a><var class=Ar>ingress_cntxt_id</var></li><li><a class=permalink href=#context_cong><code class=Cm id=context_cong>context cong</code></a><var class=Ar>ingress_cntxt_id</var></li><li><a class=permalink href=#context_egress><code class=Cm id=context_egress>context egress</code></a><var class=Ar>egress_cntxt_id</var></li><li><a class=permalink href=#context_fl><code class=Cm id=context_fl>context fl</code></a><var class=Ar>flm_cntxt_id</var></li></ul> Display hardware context for an ingress queue, congestion manager, egress queue, or freelist manager. <dl class="Bl-tag Bl-compact"><dt><var class=Ar>ingress_cntxt_id</var></dt><dd>context id of an ingress queue -- the value listed in one of <var class=Va>dev.t4nex.%d.fwq.cntxt_id</var>, <var class=Va>dev.cxgbe.%d.rxq.%d.cntxt_id</var>, or <var class=Va>dev.cxgbe.%d.ofld_rxq.%d.cntxt_id</var>.</dd><dt><var class=Ar>egress_cntxt_id</var></dt><dd>context id of an egress queue -- the value listed in one of <var class=Va>dev.t4nex.%d.mgmtq.cntxt_id</var>, <var class=Va>dev.cxgbe.%d.txq.%d.cntxt_id</var>, <var class=Va>dev.cxgbe.%d.ctrlq.%d.cntxt_id</var>, <var class=Va>dev.cxgbe.%d.ofld_txq.%d.cntxt_id</var>, <var class=Va>dev.cxgbe.%d.rxq.%d.fl.cntxt_id</var>, or <var class=Va>dev.cxgbe.%d.ofld_rxq.%d.fl.cntxt_id</var>. Note that freelists are egress queues too.</dd><dt><var class=Ar>flm_cntxt_id</var></dt><dd>context id of a freelist manager. The FLM context id is displayed in the egress context dump of a freelist as FLMcontextID.</dd></dl><p class=Pp></p><ul class="Bl-item Bl-compact"><li><a class=permalink href=#hashfilter_mode><code class=Cm id=hashfilter_mode>hashfilter mode</code></a></li><li><a class=permalink href=#filter_mode><code class=Cm id=filter_mode>filter mode</code></a></li></ul> Display a list of match-criteria available for use in filter rules. A full list of match-criteria known to the chip is in the table below but not all can be used together and the firmware sets up the available parameters based on "filterMode" in the configuration file. Every filter must conform to the filter mode -- multiple match criteria per filter are allowed but only from among those in the current setting of the filter mode. The filter mode for hash filters is a subset of that for normal TCAM filters and depends on the "filterMask" setting in the firmware configuration file. Hash filters do not support masked matches and an exact value for every parameter in the output of "hashfilter mode" (except ipv4/ipv6) must be provided when creating a hash filter. <p class=Pp>(Note that <var class=Ar>mask</var> defaults to all 1s when not provided explicitly. Hash filters do not support masked matches. Also note that many of the items being matched are discrete numeric values rather than bit fields and should be masked with caution.)</p><table class=tbl><tr style="border-bottom-style: solid;"><td style="text-align: center;">Criteria</td><td style="text-align: center;">Usage</td><td style="text-align: center;">Matches if ...</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">ipv4</td><td>type ipv4</td><td>incoming packet is an IPv4 datagram.</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">ipv6</td><td>type ipv6</td><td>incoming packet is an IPv6 datagram.</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">sip</td><td>sip Ar addr Ns Op / Ns Ar mask</td><td>bitwise and of the source address in an incoming IP datagram with mask equals addr Ns . addr can be an IPv4 or IPv6 address.</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">dip</td><td>dip Ar addr Ns Op / Ns Ar mask</td><td>bitwise and of the destination address in an incoming IP datagram with mask equals addr Ns . addr can be an IPv4 or IPv6 address.</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">sport</td><td>sport Ar port Ns Op : Ns Ar mask</td><td>bitwise and of the source port in an incoming TCP or UDP datagram with mask equals port Ns .</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">dport</td><td>dport Ar port Ns Op : Ns Ar mask</td><td>bitwise and of the destination port in an incoming TCP or UDP datagram with mask equals port Ns .</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">fcoe</td><td>fcoe Brq 0 | 1</td><td>incoming frame is Fibre Channel over Ethernet(1) or not(0).</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">iport</td><td>iport Ar val Ns Op : Ns Ar mask</td><td>bitwise and of the ingress port with mask equals val Ns . The ingress port is a 3 bit number that identifies the port on which a frame arrived. Physical ports are numbered 0-3 and 4-7 are internal loopback paths within the chip. Note that ingress port is not a bit field so it is not always possible to match an arbitrary subset of ingress ports with a single filter rule.</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">ovlan</td><td>ovlan Ar tag Ns Op : Ns Ar mask</td><td>bitwise and of the 16-bit outer VLAN tag of an incoming frame with mask equals tag Ns .</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">vlan</td><td>vlan Ar tag Ns Op : Ns Ar mask</td><td>bitwise and of the 16-bit VLAN tag of an incoming QinQ frame with mask equals tag Ns . The inner VLAN tag is used if the incoming frame is QinQ.</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">tos</td><td>tos Ar val Ns Op : Ns Ar mask</td><td>bitwise and of the 8-bit IP Type of Service/IPv6 Traffic Class in an incoming packet with mask equals val Ns .</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">proto</td><td>proto Ar ipproto Ns Op : Ns Ar mask</td><td>bitwise and of the 8-bit IP protocol in an incoming packet with mask equals ipproto Ns .</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">ethtype</td><td>ethtype Ar type Ns Op : Ns Ar mask</td><td>bitwise and of the 16-bit Ethernet type field of an incoming frame with mask equals type Ns .</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">macidx</td><td>macidx Ar idx Ns Op : Ns Ar mask</td><td>bitwise and of the MAC Address Match Index of an incoming frame with mask equals idx Ns . The MAC Address Match Index refers to an entry in the MPS TCAM or in the MPS hash. See matchtype for more information.</td></tr><tr style="border-bottom-style: solid;"><td style="text-align: center;">matchtype</td><td>matchtype Ar type Ns Op : Ns Ar mask</td><td>bitwise and of the Match Type of an incoming frame with mask equals idx Ns . Match Type is one of the following: -tag -width "n" -compact 0 destination MAC in incoming frame is a unicast L2 address that is programmed in the MPS TCAM. macidx can be used to match the index (and thus the MAC address) of the match in the TCAM. 1 destination MAC in incoming frame is a unicast L2 address that "hit" a hash entry in the MPS hash table. macidx can be used to match the index of the entry in the MPS hash table. 2 destination MAC in incoming frame is a multicast L2 address that is programmed in the MPS TCAM. macidx can be used to match the index (and thus the MAC address) of the match in the TCAM. 3 destination MAC in incoming frame is a multicast L2 address that "hit" an entry in the MPS hash table. 4 interface on which incoming frame was received is in promiscuous mode and the destination MAC in the frame is not a broadcast address, and does not match in the MPS TCAM or the MPS hash either. (The frame would have been discarded if the interface wasn't in promiscuous mode.) 5 interface on which incoming frame was received is in promiscuous mode and the destination MAC in the frame is not a broadcast address; it wasn't looked up in the MPS TCAM or the MPS hash because the chip is configured to give precedence to promiscuous mode classification. 6 destination MAC in incoming frame is a broadcast address. 7 Not documented. Do not use. </td></tr><tr><td style="text-align: center;">frag</td><td>frag Brq 0 | 1</td><td>incoming frame is part of a fragmented IP datagram(1) or not(0).</td></tr></table><p class=Pp></p><ul class="Bl-item Bl-compact"><li><a class=permalink href=#hashfilter><code class=Cm id=hashfilter>hashfilter</code></a><var class=Ar>filter-specification</var></li><li><a class=permalink href=#filter><code class=Cm id=filter>filter</code></a><var class=Ar>idx</var><var class=Ar>filter-specification</var></li></ul> Program a filter. <p class=Pp>TCAM filters: The number of available filters is in dev.&lt;nexus&gt;.&lt;instance&gt;.nfilters. <var class=Ar>idx</var> must be an unused index between 0 and nfilters - 1. IPv6 filters consume 4 consecutive entries on T4/T5 and 2 on T6 and <var class=Ar>idx</var> must be aligned to 4 or 2 in this case.</p><p class=Pp>Hash filters: These reside in the card's memory instead of its TCAM and are enabled with a special configuration file that is selected with <code class=Cm>hw.cxgbe.config_file="hashfilter"</code> in loader.conf. There are at least half a million filters available with the sample config shipped with the driver. Note that the hardware selects the index for a hashfilter and this index is displayed when the filter is created. Hash and TCAM filters can be used together.</p><p class=Pp><var class=Ar>filter-specification</var> consists of one or more matches (see Usage in the table above) to try against an incoming frame, an action to perform when all matches succeed, and some additional operational parameters. Hashfilters require an exact value for the 5-tuple (sip, dip, sport, dport, proto) and for any other match-criteria listed in "hashfilter mode". Possible filter actions are <code class=Cm>drop</code>, <code class=Cm>pass</code>, or <code class=Cm>switch</code>.</p><p class=Pp>Operational parameters that can be used with all filters:</p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#hitcnts><code class=Cm id=hitcnts>hitcnts</code></a></dt><dd>Count filter hits: 0 or 1 (default).</dd><dt><a class=permalink href=#prio><code class=Cm id=prio>prio</code></a></dt><dd>Filter has priority over active and server regions of TCAM: 0 (default) or 1.</dd></dl></div><p class=Pp>Operational parameters that can be used with filters with <code class=Cm>action pass</code>:</p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#queue><code class=Cm id=queue>queue</code></a></dt><dd>Context id of an ingress queue to which to deliver the packet. The context id is available in <var class=Va>dev.cxgbe.%d.rxq.%d.cntxt_id</var>. By default, packets that hit a filter with action pass are delivered based on their RSS hash as usual. Use this to steer them to a particular queue.</dd><dt><a class=permalink href=#rpttid><code class=Cm id=rpttid>rpttid</code></a></dt><dd>Report the filter tid instead of the RSS hash in the rx descriptor. 0 (default) or 1.</dd><dt><a class=permalink href=#tcbhash><code class=Cm id=tcbhash>tcbhash</code></a></dt><dd>Select TCB hash information in rx descriptor. 0 (default) or 1</dd></dl></div><p class=Pp>Operational parameters that can be used with filters with <code class=Cm>action switch</code>:</p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#eport><code class=Cm id=eport>eport</code></a></dt><dd>Egress port number on which to send the packet matching the filter. 0 to dev.&lt;nexus&gt;.&lt;instance&gt;.nports - 1.</dd><dt><a class=permalink href=#dmac><code class=Cm id=dmac>dmac</code></a></dt><dd>Replace packet destination MAC address with the one provided before switching it out of eport.</dd><dt><a class=permalink href=#smac><code class=Cm id=smac>smac</code></a></dt><dd>Replace packet source MAC address with the one provided before switching it out of eport.</dd><dt><a class=permalink href=#swapmac><code class=Cm id=swapmac>swapmac</code></a></dt><dd>Swap packet source and destination MAC addresses before switching it out of eport.</dd><dt><a class=permalink href=#vlan><code class=Cm id=vlan>vlan</code></a></dt><dd>Insert, remove, or rewrite the VLAN tag before switching the packet out of eport. <code class=Cm>none</code> removes the tag, <code class=Cm>=</code><var class=Ar>tag</var> replaces the existing tag with the one provided, and <code class=Cm>+</code><var class=Ar>tag</var> inserts the given tag into the frame.</dd><dt><a class=permalink href=#nat><code class=Cm id=nat>nat</code></a></dt><dd>Specify the desired NAT mode. Valid NAT modes values are: <dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#dip><code class=Cm id=dip>dip</code></a></dt><dd>Perform NAT on destination IP.</dd><dt><a class=permalink href=#dip-dp><code class=Cm id=dip-dp>dip-dp</code></a></dt><dd>Perform NAT on destination IP, destination port.</dd><dt><a class=permalink href=#dip-dp-sip><code class=Cm id=dip-dp-sip>dip-dp-sip</code></a></dt><dd>Perform NAT on destination IP, destination port, source IP.</dd><dt><a class=permalink href=#dip-dp-sp><code class=Cm id=dip-dp-sp>dip-dp-sp</code></a></dt><dd>Perform NAT on destination IP, destination port, source port.</dd><dt><a class=permalink href=#sip-sp><code class=Cm id=sip-sp>sip-sp</code></a></dt><dd>Perform NAT on source IP, source port.</dd><dt><a class=permalink href=#dip-sip-sp><code class=Cm id=dip-sip-sp>dip-sip-sp</code></a></dt><dd>Perform NAT on destination IP, source IP, source port.</dd><dt><a class=permalink href=#all><code class=Cm id=all>all</code></a></dt><dd>Perform NAT on all 4-tuple fields.</dd></dl></dd><dt><a class=permalink href=#natflag><code class=Cm id=natflag>natflag</code></a></dt><dd>Perform NAT only on segments which do not have TCP FIN or RST set.</dd><dt><a class=permalink href=#natseq><code class=Cm id=natseq>natseq</code></a></dt><dd>Perform NAT only if incoming segment's sequence number + payload length is less than this supplied value.</dd><dt><a class=permalink href=#nat_dip><code class=Cm id=nat_dip>nat_dip</code></a></dt><dd>Perform NAT using this destination IP.</dd><dt><a class=permalink href=#nat_sip><code class=Cm id=nat_sip>nat_sip</code></a></dt><dd>Perform NAT using this source IP.</dd><dt><a class=permalink href=#nat_dport><code class=Cm id=nat_dport>nat_dport</code></a></dt><dd>Perform NAT using this destination port.</dd><dt><a class=permalink href=#nat_sport><code class=Cm id=nat_sport>nat_sport</code></a></dt><dd>Perform NAT using this source port. Perform NAT only if incoming segment's sequence number + payload length is less than this supplied value.</dd></dl></div><p class=Pp></p><ul class="Bl-item Bl-compact"><li><a class=permalink href=#hashfilter_2><code class=Cm id=hashfilter_2>hashfilter</code></a><var class=Ar>idx</var><code class=Cm>delete</code></li><li><a class=permalink href=#filter_2><code class=Cm id=filter_2>filter</code></a><var class=Ar>idx</var><code class=Cm>delete</code></li></ul> Delete filter that is at the given index.</dd><dt><a class=permalink href=#filter_3><code class=Cm id=filter_3>filter</code></a><code class=Cm>list</code></dt><dd>List all filters programmed into the hardware.</dd><dt><a class=permalink href=#i2c><code class=Cm id=i2c>i2c</code></a><var class=Ar>port_id devaddr addr</var> [<var class=Ar>len</var>]</dt><dd></dd><dt><a class=permalink href=#loadcfg><code class=Cm id=loadcfg>loadcfg</code></a><var class=Ar>fw-config.txt</var></dt><dd>Install the firmware configuration file contained in <var class=Ar>fw-config.txt</var> to the card. Set hw.cxgbe.config_file="flash" in loader.conf to get <a class=Xr href=cxgbe.4.html>cxgbe(4)</a> to use the on-flash configuration.</dd><dt><a class=permalink href=#loadcfg_2><code class=Cm id=loadcfg_2>loadcfg</code></a><code class=Cm>clear</code></dt><dd>Erase configuration file from the card.</dd><dt><a class=permalink href=#loadfw><code class=Cm id=loadfw>loadfw</code></a><var class=Ar>fw-image.bin</var></dt><dd>Install the firmware contained in <var class=Ar>fw-image.bin</var> to the card.</dd><dt><a class=permalink href=#memdump><code class=Cm id=memdump>memdump</code></a><var class=Ar>addr len</var></dt><dd>Display <var class=Ar>len</var> bytes of data of the card's memory starting at <var class=Ar>addr</var>. The card's memory map is available in <var class=Va>dev.t4nex.%d.misc.meminfo</var>.</dd><dt><a class=permalink href=#policy><code class=Cm id=policy>policy</code></a><var class=Ar>cop.txt</var></dt><dd>Install the Connection Offload Policy (COP) in <var class=Ar>cop.txt</var>. A COP offers fine-grained control over which connections get offloaded and with what parameters. Set <code class=Cm>hw.cxgbe.cop_managed_offloading="1"</code> in loader.conf to ensure that t4_tom will not offload any connection before a COP is installed. Note that t4_tom must be loaded and operational (IFCAP_TOE enabled) as always for any kind of offload based on the hardware TOE. <table class="Bl-column Bd-indent"><tr><td><b class=Sy>COP installed</b></td><td><b class=Sy>cop_managed_offloading</b></td><td><b class=Sy>Behavior</b></td></tr><tr><td>NO</td><td>0</td><td>offload all [Default]</td></tr><tr><td>NO</td><td>1</td><td>no offload</td></tr><tr><td>YES</td><td>Don't Care</td><td>Rule based offload</td></tr></table><p class=Pp>The policy file consists of empty lines, comments (lines beginning with #) and any number of rules. Rules are applied in the order they appear in the file and processing stops at the first match. There is an implicit rule that disables offload for connections that do not match anything in the policy.</p><p class=Pp>Each rule consists of a filter part, which determines what connections the rule applies to, and a settings part, which determines whether matching connections will be offloaded and, if so, with what settings. The general form of a rule is</p><dl class="Bl-ohang Bd-indent"><dt><a class=permalink href=#_><code class=Cm id=_>[</code></a><var class=Ar>socket-type</var><code class=Cm>]</code><var class=Ar>pcap-filter</var><code class=Cm>=&gt;</code><var class=Ar>settings</var></dt><dd><p class=Pp><var class=Ar>socket-type</var> is one of the following.</p><dl class="Bl-tag Bl-compact"><dt><b class=Sy>A</b></dt><dd>Active open. Connection is being opened by this host.</dd><dt><b class=Sy>P</b></dt><dd>Passive open. Connection was requested by a peer.</dd><dt><b class=Sy>L</b></dt><dd>Listen called on a socket. Disabling offload in such a rule will prevent a hardware listener from being started.</dd><dt><b class=Sy>D</b></dt><dd>Don't care. Matches all of the above.</dd></dl><p class=Pp><var class=Ar>pcap-filter</var> is an expression that follows the <a class=Xr href=pcap-filter.7.html>pcap-filter(7)</a> syntax, or it is the keyword <code class=Cm>all</code> that matches everything.</p><p class=Pp><var class=Ar>settings</var> determine whether connections matching <var class=Ar>socket-type</var> and <var class=Ar>pcap-filter</var> are offloaded and optionally sets some per-connection properties if they are. A combination of the following is allowed.</p><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#offload><code class=Cm id=offload>offload</code></a></dt><dd>Connection should be offloaded. Use <code class=Cm>!offload</code> or <code class=Cm>not offload</code> to disable offload instead.</dd><dt><a class=permalink href=#coalesce><code class=Cm id=coalesce>coalesce</code></a></dt><dd>Enable rx payload coalescing. Negate to disable.</dd><dt><a class=permalink href=#timestamp><code class=Cm id=timestamp>timestamp</code></a></dt><dd>Enable TCP timestamp option. Negate to disable.</dd><dt><a class=permalink href=#sack><code class=Cm id=sack>sack</code></a></dt><dd>Enable TCP Selective Acknowledgements (SACK). Negate to disable.</dd><dt><a class=permalink href=#nagle><code class=Cm id=nagle>nagle</code></a></dt><dd>Enable Nagle's algorithm. Negate to disable.</dd><dt><a class=permalink href=#ecn><code class=Cm id=ecn>ecn</code></a></dt><dd>Enable Explicit Congestion Notification (ECN). Negate to disable.</dd><dt><a class=permalink href=#ddp><code class=Cm id=ddp>ddp</code></a></dt><dd>Use Direct Data Placement (zero copy receive) and zero copy transmit on the connection to service AIO requests on the socket. Negate to disable.</dd><dt><a class=permalink href=#tls><code class=Cm id=tls>tls</code></a></dt><dd>Set ULP mode to ULP_MODE_TLS.</dd><dt><a class=permalink href=#cong><code class=Cm id=cong>cong</code></a><var class=Ar>algo</var></dt><dd>Use the specified congestion control algorithm. <var class=Ar>algo</var> must be one of <code class=Cm>reno</code>, <code class=Cm>tahoe</code>, <code class=Cm>newreno</code>, or <code class=Cm>highspeed</code>.</dd><dt><a class=permalink href=#class><code class=Cm id=class>class</code></a><var class=Ar>sc</var></dt><dd>Bind the connection to the specified tx scheduling class. Valid range is 0 to 14 (for T4) and 0 to 15 (T5 onwards).</dd><dt><a class=permalink href=#rxq><code class=Cm id=rxq>rxq</code></a><var class=Ar>qnum</var></dt><dd>Use the specified offload rx queue. <var class=Ar>qnum</var> should be <code class=Cm>random</code>, <code class=Cm>roundrobin</code>, or a number between 0 and nofldrxq for the ifnet.</dd><dt><a class=permalink href=#txq><code class=Cm id=txq>txq</code></a><var class=Ar>qnum</var></dt><dd>Use the specified offload tx queue. <var class=Ar>qnum</var> should be <code class=Cm>random</code>, <code class=Cm>roundrobin</code>, or a number between 0 and nofldtxq for the ifnet.</dd><dt><a class=permalink href=#bind><code class=Cm id=bind>bind</code></a><var class=Ar>qnum</var></dt><dd>Shorthand for <code class=Cm>rxq</code><var class=Ar>qnum</var><code class=Cm>txq</code><var class=Ar>qnum</var>. Use when nofldrxq is the same as nofldtxq.</dd><dt><a class=permalink href=#mss><code class=Cm id=mss>mss</code></a><var class=Ar>val</var></dt><dd>Set the advertised TCP MSS in the SYN for this connection to <var class=Ar>val</var> (in bytes). The hardware MTU table must already have an entry that is suitable for the MSS.</dd></dl></dd><dt>Example of a COP.</dt><dd>Note that hardware listener for port 22 will be IPv4 only because the rule before it will prevent any IPv6 servers other than the first two. Also note that outgoing connections to 192.168/16 are the only outgoing connections that will get offloaded. <div class="Bd Pp"><pre>
[L] port 80 =&gt; offload
[L] port 443 =&gt; offload
[L] ip6 =&gt; !offload
[L] port 22 =&gt; offload
[P] dst port 80 =&gt; offload cong highspeed !sack !ecn
[P] dst port 443 =&gt; offload tls
[A] dst net 192.168/16 =&gt; offload
[A] all =&gt; !offload
[D] port 22 =&gt; offload !nagle
        </pre></div></dd></dl></dd><dt><a class=permalink href=#policy_clear><code class=Cm id=policy_clear>policy clear</code></a></dt><dd>Remove the Connection Offload Policy (COP) if one is in use.</dd><dt>{<code class=Cm>reg</code> | <code class=Cm>reg64</code>} <var class=Ar>addr</var>[<var class=Ar>=val</var>]</dt><dd></dd><dt><a class=permalink href=#regdump><code class=Cm id=regdump>regdump</code></a> [<var class=Ar>register-block ...</var>]</dt><dd>Display contents of device registers. One or more <var class=Ar>register-block</var> can be specified to limit the registers displayed. The default is to display registers for all blocks. Registers with read side effects are not read during a <code class=Cm>regdump</code> operation. <var class=Ar>register-block</var> can be <code class=Cm>sge pci dbg mc ma edc0 edc1 cim tp ulp_rx ulp_tx pmrx pmtx mps cplsw</code><code class=Cm>smb i2c mi uart pmu sf pl le ncsi xgmac</code>.</dd><dt><a class=permalink href=#sched-class_config><code class=Cm id=sched-class_config>sched-class config</code></a> [<var class=Ar>param</var><var class=Ar>value</var>]</dt><dd>Configure optional feature capabilities for the TX scheduler. <dl class="Bl-ohang Bd-indent"><dt><b class=Sy>type</b><var class=Ar>scheduler-type</var></dt><dd>Use packet for the packet scheduler.</dd><dt><b class=Sy>minmax</b><var class=Ar>value</var></dt><dd>A non-zero value will enable "minmax" mode; a zero value will disable "minmax" mode. <p class=Pp>NOTE: Many (most) of the parameters and constraints are adapter-specific - for instance the number of channels and classes which are available whether various modes are implemented, etc. Consult the adapter documentation for specific information on any limitations.</p></dd></dl></dd><dt><a class=permalink href=#sched-class_params><code class=Cm id=sched-class_params>sched-class params</code></a> [<var class=Ar>param</var><var class=Ar>value</var>]</dt><dd>Configure parameters for a scheduling class. <dl class="Bl-ohang Bd-indent"><dt><b class=Sy>type</b><var class=Ar>scheduler-type</var></dt><dd>Use packet for packet scheduler.</dd><dt><b class=Sy>level</b><var class=Ar>scheduler-hierarchy-level</var></dt><dd>The "level" within the scheduling hierarchy which is being programed: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><b class=Sy>cl-rl</b></dt><dd>Class Rate Limiting. <p class=Pp></p></dd><dt><b class=Sy>cl-wrr</b></dt><dd>Class Weighted Round Robin. <p class=Pp></p></dd><dt><b class=Sy>ch-rl</b></dt><dd>Channel Rate Limiting.</dd></dl></div></dd><dt><b class=Sy>mode</b><var class=Ar>scheduler-mode</var></dt><dd>The mode in which the scheduling class is going to operate: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><b class=Sy>class</b></dt><dd>All of the "flows" bound to the scheduling class will be held to aggregate scheduling constraints. <p class=Pp></p></dd><dt><b class=Sy>flow</b></dt><dd>Each of the "flows" bound to the scheduling class will be held to the scheduling constraints.</dd></dl></div><p class=Pp>E.g. if the scheduling class has a TX bandwidth of 10Mb/s, in <code class=Cm>class</code> mode, all of the "flows" bound to the class would be limited to an aggregate bandwidth of 10Mb/s; but in <code class=Cm>flow</code> mode, each of the "flows" bound to the scheduling class would be limited to 10Mb/s.</p></dd><dt><b class=Sy>rate-unit</b><var class=Ar>scheduler-rate-unit</var></dt><dd>The units of the scheduler rate constraints: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><b class=Sy>bits</b></dt><dd>bit rate in Kb/s. <p class=Pp></p></dd><dt><b class=Sy>pkts</b></dt><dd>packets/s.</dd></dl></div></dd><dt><b class=Sy>rate-mode</b><var class=Ar>scheduler-rate-mode</var></dt><dd>The mode of the scheduler rate constraints: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><b class=Sy>relative</b></dt><dd>percent of port rate. <p class=Pp></p></dd><dt><b class=Sy>absolute</b></dt><dd>Kb/s.</dd></dl></div></dd><dt><b class=Sy>channel</b><var class=Ar>scheduler-channel-index</var></dt><dd>The scheduling channel to which the scheduling class will be bound.</dd><dt><b class=Sy>class</b><var class=Ar>scheduler-class-index</var></dt><dd>The scheduling class being programmed.</dd><dt><b class=Sy>min-rate</b><var class=Ar>minimum-rate</var></dt><dd>The minimum guaranteed rate to which a rate-limiting scheduling class hierarchy will have access.</dd><dt><b class=Sy>max-rate</b><var class=Ar>maximum-rate</var></dt><dd>The maximum rate for a rate-limiting scheduling class hierarchy.</dd><dt><b class=Sy>weight</b><var class=Ar>round-robin-weight</var></dt><dd>The weight to be used for a weighted-round-robin scheduling hierarchy.</dd><dt><b class=Sy>pkt-size</b><var class=Ar>average-packet-size</var></dt><dd>The average packet size will be used to compute scheduler constraints for a rate-limited scheduler class hierarchy. <p class=Pp>NOTE: Many (most) of the parameters and constraints are adapter-specific - for instance the number of channels and classes which are available, whether various modes are implemented, etc. Consult the adapter documentation for specific information on any limitations.</p></dd></dl></dd><dt><a class=permalink href=#sched-queue><code class=Cm id=sched-queue>sched-queue</code></a><var class=Ar>port queue class</var></dt><dd>Bind the indicated port's NIC TX <var class=Ar>queue</var> to the specified TX Scheduler <var class=Ar>class.</var> If the TX <var class=Ar>queue</var> is <code class=Cm>all, *</code> or any negative value, the binding will apply to all of the TX queues associated with the <var class=Ar>interface.</var> If the class is <code class=Cm>unbind, clear</code> or any negative value, the TX queue(s) will be unbound from any current TX Scheduler Class binding.</dd><dt><a class=permalink href=#stdio><code class=Cm id=stdio>stdio</code></a></dt><dd>Switch to interactive mode.</dd><dt><a class=permalink href=#tcb><code class=Cm id=tcb>tcb</code></a><var class=Ar>tid</var></dt><dd>Display contents of the hardware TCB (TCP Control Block) for the connection identfied by <var class=Ar>tid</var>.</dd></dl></section></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2> /sys/dev/cxgbe/t4_ioctl.h </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> This manual page was written by <span class=An>Navdeep Parhar</span> ⟨np@FreeBSD.org⟩. </section></div><table class=foot><tr><td class=foot-date>April 14, 2022</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>