<!DOCTYPE html>
<html><head><meta charset=utf-8><title>tty(4)</title><keywords content=man,tty></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>tty(4)</h1><table class=head><tr><td class=head-ltitle>TTY(4)</td><td class=head-vol>FreeBSD Kernel Interfaces Manual</td><td class=head-rtitle>TTY(4)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>tty</code> — <div class=Nd>general terminal interface</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><code class=In>#include &lt;<a class=In href=../src/sys/ioctl.h.html>sys/ioctl.h</a>&gt;</code></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> This section describes the interface to the terminal drivers in the system. <section class=Ss><h2 class=Ss id=Terminal_Special_Files><a class=permalink href=#Terminal_Special_Files>Terminal Special Files</a></h2> Each hardware terminal port on the system usually has a terminal special device file associated with it in the directory ``/dev/'' (for example, ``/dev/tty03''). When a user logs into the system on one of these hardware terminal ports, the system has already opened the associated device and prepared the line for normal interactive use (see <a class=Xr href=getty.8.html>getty(8)</a>.) There is also a special case of a terminal file that connects not to a hardware terminal port, but to another program on the other side. These special terminal devices are called <i class=Em>ptys</i> and provide the mechanism necessary to give users the same interface to the system when logging in over a network (using <a class=Xr href=telnet.1.html>telnet(1)</a> for example). Even in these cases the details of how the terminal file was opened and set up is already handled by special software in the system. Thus, users do not normally need to worry about the details of how these lines are opened or used. Also, these lines are often used for dialing out of a system (through an out-calling modem), but again the system provides programs that hide the details of accessing these terminal special files (see <a class=Xr href=tip.1.html>tip(1)</a>). <p class=Pp>When an interactive user logs in, the system prepares the line to behave in a certain way (called a <i class=Em>line discipline</i>), the particular details of which is described in <a class=Xr href=stty.1.html>stty(1)</a> at the command level, and in <a class=Xr href=termios.4.html>termios(4)</a> at the programming level. A user may be concerned with changing settings associated with his particular login terminal and should refer to the preceding man pages for the common cases. The remainder of this man page is concerned with describing details of using and controlling terminal devices at a low level, such as that possibly required by a program wishing to provide features similar to those provided by the system.</p></section><section class=Ss><h2 class=Ss id=Terminal_File_Operations><a class=permalink href=#Terminal_File_Operations>Terminal File Operations</a></h2> All of the following operations are invoked using the <a class=Xr href=ioctl.2.html>ioctl(2)</a> system call. Refer to that man page for a description of the <i class=Em>request</i> and <i class=Em>argp</i> parameters. In addition to the ioctl <i class=Em>requests</i> defined here, the specific line discipline in effect will define other <i class=Em>requests</i> specific to it (actually <a class=Xr href=termios.4.html>termios(4)</a> defines them as function calls, not ioctl <i class=Em>requests</i>.) The following section lists the available ioctl requests. The name of the request, a description of its purpose, and the typed <i class=Em>argp</i> parameter (if any) are listed. For example, the first entry says <p class=Pp></p><div class="Bd Bd-indent"><i class=Em>TIOCSPGRP int *tpgrp</i></div><p class=Pp>and would be called on the terminal associated with file descriptor zero by the following code fragment:</p><div class="Bd Pp"><pre>
	int pgrp;

	pgrp = getpgrp();
	ioctl(0, TIOCSPGRP, &amp;pgrp);
</pre></div></section><section class=Ss><h2 class=Ss id=Terminal_File_Request_Descriptions><a class=permalink href=#Terminal_File_Request_Descriptions>Terminal File Request Descriptions</a></h2><dl class=Bl-tag><dt><a class=permalink href=#TIOCSETD><code class=Dv id=TIOCSETD>TIOCSETD</code></a><var class=Fa>int *ldisc</var></dt><dd>This call is obsolete but left for compatibility. Before <span class=Ux>FreeBSD 8.0</span>, it would change to the new line discipline pointed to by <var class=Fa>ldisc</var>.</dd><dt><a class=permalink href=#TIOCGETD><code class=Dv id=TIOCGETD>TIOCGETD</code></a><var class=Fa>int *ldisc</var></dt><dd>Return the current line discipline in the integer pointed to by <var class=Fa>ldisc</var>.</dd><dt><a class=permalink href=#TIOCSBRK><code class=Dv id=TIOCSBRK>TIOCSBRK</code></a><var class=Fa>void</var></dt><dd>Set the terminal hardware into BREAK condition.</dd><dt><a class=permalink href=#TIOCCBRK><code class=Dv id=TIOCCBRK>TIOCCBRK</code></a><var class=Fa>void</var></dt><dd>Clear the terminal hardware BREAK condition.</dd><dt><a class=permalink href=#TIOCSDTR><code class=Dv id=TIOCSDTR>TIOCSDTR</code></a><var class=Fa>void</var></dt><dd>Assert data terminal ready (DTR).</dd><dt><a class=permalink href=#TIOCCDTR><code class=Dv id=TIOCCDTR>TIOCCDTR</code></a><var class=Fa>void</var></dt><dd>Clear data terminal ready (DTR).</dd><dt><a class=permalink href=#TIOCGPGRP><code class=Dv id=TIOCGPGRP>TIOCGPGRP</code></a><var class=Fa>int *tpgrp</var></dt><dd>Return the current process group with which the terminal is associated in the integer pointed to by <var class=Fa>tpgrp</var>. This is the underlying call that implements the <a class=Xr href=termios.4.html>termios(4)</a><code class=Fn>tcgetattr</code>() call.</dd><dt><a class=permalink href=#TIOCSPGRP><code class=Dv id=TIOCSPGRP>TIOCSPGRP</code></a><var class=Fa>int *tpgrp</var></dt><dd>Associate the terminal with the process group (as an integer) pointed to by <var class=Fa>tpgrp</var>. This is the underlying call that implements the <a class=Xr href=termios.4.html>termios(4)</a><code class=Fn>tcsetattr</code>() call.</dd><dt><a class=permalink href=#TIOCGETA><code class=Dv id=TIOCGETA>TIOCGETA</code></a><var class=Fa>struct termios *term</var></dt><dd>Place the current value of the termios state associated with the device in the termios structure pointed to by <var class=Fa>term</var>. This is the underlying call that implements the <a class=Xr href=termios.4.html>termios(4)</a><code class=Fn>tcgetattr</code>() call.</dd><dt><a class=permalink href=#TIOCSETA><code class=Dv id=TIOCSETA>TIOCSETA</code></a><var class=Fa>struct termios *term</var></dt><dd>Set the termios state associated with the device immediately. This is the underlying call that implements the <a class=Xr href=termios.4.html>termios(4)</a><code class=Fn>tcsetattr</code>() call with the <code class=Dv>TCSANOW</code> option.</dd><dt><a class=permalink href=#TIOCSETAW><code class=Dv id=TIOCSETAW>TIOCSETAW</code></a><var class=Fa>struct termios *term</var></dt><dd>First wait for any output to complete, then set the termios state associated with the device. This is the underlying call that implements the <a class=Xr href=termios.4.html>termios(4)</a><code class=Fn>tcsetattr</code>() call with the <code class=Dv>TCSADRAIN</code> option.</dd><dt><a class=permalink href=#TIOCSETAF><code class=Dv id=TIOCSETAF>TIOCSETAF</code></a><var class=Fa>struct termios *term</var></dt><dd>First wait for any output to complete, clear any pending input, then set the termios state associated with the device. This is the underlying call that implements the <a class=Xr href=termios.4.html>termios(4)</a><code class=Fn>tcsetattr</code>() call with the <code class=Dv>TCSAFLUSH</code> option.</dd><dt><a class=permalink href=#TIOCOUTQ><code class=Dv id=TIOCOUTQ>TIOCOUTQ</code></a><var class=Fa>int *num</var></dt><dd>Place the current number of characters in the output queue in the integer pointed to by <var class=Fa>num</var>.</dd><dt><a class=permalink href=#TIOCSTI><code class=Dv id=TIOCSTI>TIOCSTI</code></a><var class=Fa>char *cp</var></dt><dd>Simulate typed input. Pretend as if the terminal received the character pointed to by <var class=Fa>cp</var>.</dd><dt><a class=permalink href=#TIOCNOTTY><code class=Dv id=TIOCNOTTY>TIOCNOTTY</code></a><var class=Fa>void</var></dt><dd>In the past, when a process that did not have a controlling terminal (see <i class=Em>The Controlling Terminal</i> in <a class=Xr href=termios.4.html>termios(4)</a>) first opened a terminal device, it acquired that terminal as its controlling terminal. For some programs this was a hazard as they did not want a controlling terminal in the first place, and this provides a mechanism to disassociate the controlling terminal from the calling process. It <i class=Em>must</i> be called by opening the file <span class=Pa>/dev/tty</span> and calling <code class=Dv>TIOCNOTTY</code> on that file descriptor. <p class=Pp>The current system does not allocate a controlling terminal to a process on an <code class=Fn>open</code>() call: there is a specific ioctl called <code class=Dv>TIOCSCTTY</code> to make a terminal the controlling terminal. In addition, a program can <code class=Fn>fork</code>() and call the <code class=Fn>setsid</code>() system call which will place the process into its own session - which has the effect of disassociating it from the controlling terminal. This is the new and preferred method for programs to lose their controlling terminal.</p><p class=Pp>However, environmental restrictions may prohibit the process from being able to <code class=Fn>fork</code>() and call the <code class=Fn>setsid</code>() system call to disassociate it from the controlling terminal. In this case, it must use <code class=Dv>TIOCNOTTY</code>.</p></dd><dt><a class=permalink href=#TIOCSTOP><code class=Dv id=TIOCSTOP>TIOCSTOP</code></a><var class=Fa>void</var></dt><dd>Stop output on the terminal (like typing ^S at the keyboard).</dd><dt><a class=permalink href=#TIOCSTART><code class=Dv id=TIOCSTART>TIOCSTART</code></a><var class=Fa>void</var></dt><dd>Start output on the terminal (like typing ^Q at the keyboard).</dd><dt><a class=permalink href=#TIOCSCTTY><code class=Dv id=TIOCSCTTY>TIOCSCTTY</code></a><var class=Fa>void</var></dt><dd>Make the terminal the controlling terminal for the process (the process must not currently have a controlling terminal).</dd><dt><a class=permalink href=#TIOCDRAIN><code class=Dv id=TIOCDRAIN>TIOCDRAIN</code></a><var class=Fa>void</var></dt><dd>Wait until all output is drained, or until the drain wait timeout expires.</dd><dt><a class=permalink href=#TIOCGDRAINWAIT><code class=Dv id=TIOCGDRAINWAIT>TIOCGDRAINWAIT</code></a><var class=Fa>int *timeout</var></dt><dd>Return the current drain wait timeout in seconds.</dd><dt><a class=permalink href=#TIOCSDRAINWAIT><code class=Dv id=TIOCSDRAINWAIT>TIOCSDRAINWAIT</code></a><var class=Fa>int *timeout</var></dt><dd>Set the drain wait timeout in seconds. A value of zero disables timeouts. The default drain wait timeout is controlled by the tunable <a class=Xr href=sysctl.8.html>sysctl(8)</a> OID <var class=Va>kern.tty_drainwait</var>.</dd><dt><a class=permalink href=#TIOCEXCL><code class=Dv id=TIOCEXCL>TIOCEXCL</code></a><var class=Fa>void</var></dt><dd>Set exclusive use on the terminal. No further opens are permitted except by root. Of course, this means that programs that are run by root (or setuid) will not obey the exclusive setting - which limits the usefulness of this feature.</dd><dt><a class=permalink href=#TIOCNXCL><code class=Dv id=TIOCNXCL>TIOCNXCL</code></a><var class=Fa>void</var></dt><dd>Clear exclusive use of the terminal. Further opens are permitted.</dd><dt><a class=permalink href=#TIOCFLUSH><code class=Dv id=TIOCFLUSH>TIOCFLUSH</code></a><var class=Fa>int *what</var></dt><dd>If the value of the int pointed to by <var class=Fa>what</var> contains the <code class=Dv>FREAD</code> bit as defined in <code class=In>&lt;<a class=In href=../src/sys/file.h.html>sys/file.h</a>&gt;</code>, then all characters in the input queue are cleared. If it contains the <code class=Dv>FWRITE</code> bit, then all characters in the output queue are cleared. If the value of the integer is zero, then it behaves as if both the <code class=Dv>FREAD</code> and <code class=Dv>FWRITE</code> bits were set (i.e., clears both queues).</dd><dt><a class=permalink href=#TIOCGWINSZ><code class=Dv id=TIOCGWINSZ>TIOCGWINSZ</code></a><var class=Fa>struct winsize *ws</var></dt><dd>Put the window size information associated with the terminal in the <var class=Va>winsize</var> structure pointed to by <var class=Fa>ws</var>. The window size structure contains the number of rows and columns (and pixels if appropriate) of the devices attached to the terminal. It is set by user software and is the means by which most full-screen oriented programs determine the screen size. The <var class=Va>winsize</var> structure is defined in <code class=In>&lt;<a class=In href=../src/sys/ioctl.h.html>sys/ioctl.h</a>&gt;</code>.</dd><dt><a class=permalink href=#TIOCSWINSZ><code class=Dv id=TIOCSWINSZ>TIOCSWINSZ</code></a><var class=Fa>struct winsize *ws</var></dt><dd>Set the window size associated with the terminal to be the value in the <var class=Va>winsize</var> structure pointed to by <var class=Fa>ws</var> (see above).</dd><dt><a class=permalink href=#TIOCCONS><code class=Dv id=TIOCCONS>TIOCCONS</code></a><var class=Fa>int *on</var></dt><dd>If <var class=Fa>on</var> points to a non-zero integer, redirect kernel console output (kernel printf's) to this terminal. If <var class=Fa>on</var> points to a zero integer, redirect kernel console output back to the normal console. This is usually used on workstations to redirect kernel messages to a particular window.</dd><dt><a class=permalink href=#TIOCMSET><code class=Dv id=TIOCMSET>TIOCMSET</code></a><var class=Fa>int *state</var></dt><dd>The integer pointed to by <var class=Fa>state</var> contains bits that correspond to modem state. Following is a list of defined variables and the modem state they represent: <p class=Pp></p><dl class="Bl-tag Bl-compact"><dt>TIOCM_LE</dt><dd>Line Enable.</dd><dt>TIOCM_DTR</dt><dd>Data Terminal Ready.</dd><dt>TIOCM_RTS</dt><dd>Request To Send.</dd><dt>TIOCM_ST</dt><dd>Secondary Transmit.</dd><dt>TIOCM_SR</dt><dd>Secondary Receive.</dd><dt>TIOCM_CTS</dt><dd>Clear To Send.</dd><dt>TIOCM_CAR</dt><dd>Carrier Detect.</dd><dt>TIOCM_CD</dt><dd>Carrier Detect (synonym).</dd><dt>TIOCM_RNG</dt><dd>Ring Indication.</dd><dt>TIOCM_RI</dt><dd>Ring Indication (synonym).</dd><dt>TIOCM_DSR</dt><dd>Data Set Ready.</dd></dl><p class=Pp>This call sets the terminal modem state to that represented by <var class=Fa>state</var>. Not all terminals may support this.</p></dd><dt><a class=permalink href=#TIOCMGET><code class=Dv id=TIOCMGET>TIOCMGET</code></a><var class=Fa>int *state</var></dt><dd>Return the current state of the terminal modem lines as represented above in the integer pointed to by <var class=Fa>state</var>.</dd><dt><a class=permalink href=#TIOCMBIS><code class=Dv id=TIOCMBIS>TIOCMBIS</code></a><var class=Fa>int *state</var></dt><dd>The bits in the integer pointed to by <var class=Fa>state</var> represent modem state as described above, however the state is OR-ed in with the current state.</dd><dt><a class=permalink href=#TIOCMBIC><code class=Dv id=TIOCMBIC>TIOCMBIC</code></a><var class=Fa>int *state</var></dt><dd>The bits in the integer pointed to by <var class=Fa>state</var> represent modem state as described above, however each bit which is on in <var class=Fa>state</var> is cleared in the terminal.</dd></dl></section></section><section class=Sh><h2 class=Sh id=IMPLEMENTATION_NOTES><a class=permalink href=#IMPLEMENTATION_NOTES>IMPLEMENTATION NOTES</a></h2> The total number of input and output bytes through all terminal devices are available via the <var class=Va>kern.tty_nin</var> and <var class=Va>kern.tty_nout</var> read-only <a class=Xr href=sysctl.8.html>sysctl(8)</a> variables. </section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=stty.1.html>stty(1)</a>, <a class=Xr href=ioctl.2.html>ioctl(2)</a>, <a class=Xr href=ng_tty.4.html>ng_tty(4)</a>, <a class=Xr href=pty.4.html>pty(4)</a>, <a class=Xr href=termios.4.html>termios(4)</a>, <a class=Xr href=getty.8.html>getty(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> A console typewriter device <span class=Pa>/dev/tty</span> and asynchronous communication interfaces <span class=Pa>/dev/tty[0-5]</span> first appeared in <span class=Ux>Version 1 AT&amp;T UNIX</span>. </section></div><table class=foot><tr><td class=foot-date>April 3, 2022</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>