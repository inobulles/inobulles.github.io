<!DOCTYPE html>
<html><head><meta charset=utf-8><title>rtld(1)</title><keywords content=man,rtld></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>rtld(1)</h1><table class=head><tr><td class=head-ltitle>RTLD(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>RTLD(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>ld-elf.so.1</code>, <code class=Nm>ld.so</code>, <code class=Nm>rtld</code> — <div class=Nd>run-time link-editor</div></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>ld-elf.so.1</code> utility is a self-contained shared object providing run-time support for loading and link-editing shared objects into a process' address space. It is also commonly known as the dynamic linker. It uses the data structures contained within dynamically linked programs to determine which shared libraries are needed and loads them using the <a class=Xr href=mmap.2.html>mmap(2)</a> system call. <p class=Pp>After all shared libraries have been successfully loaded, <code class=Nm>ld-elf.so.1</code> proceeds to resolve external references from both the main program and all objects loaded. A mechanism is provided for initialization routines to be called on a per-object basis, giving a shared object an opportunity to perform any extra set-up before execution of the program proper begins. This is useful for C++ libraries that contain static constructors.</p><p class=Pp>When resolving dependencies for the loaded objects, <code class=Nm>ld-elf.so.1</code> translates dynamic token strings in rpath and soname. If the <code class=Fl>-z origin</code> option of the static linker was set when linking the binary, the token expansion is performed at the object load time, see <a class=Xr href=ld.1.html>ld(1)</a>. The following strings are recognized now:</p><dl class=Bl-tag><dt><span class=Pa>$ORIGIN</span></dt><dd>Translated to the full path of the loaded object.</dd><dt><span class=Pa>$OSNAME</span></dt><dd>Translated to the name of the operating system implementation.</dd><dt><span class=Pa>$OSREL</span></dt><dd>Translated to the release level of the operating system.</dd><dt><span class=Pa>$PLATFORM</span></dt><dd>Translated to the machine hardware platform.</dd></dl><p class=Pp>The <code class=Nm>ld-elf.so.1</code> utility itself is loaded by the kernel together with any dynamically-linked program that is to be executed. The kernel transfers control to the dynamic linker. After the dynamic linker has finished loading, relocating, and initializing the program and its required shared objects, it transfers control to the entry point of the program. The following search order is used to locate required shared objects:</p><p class=Pp></p><ol class="Bl-enum Bd-indent Bl-compact"><li><a class=permalink href=#DT_RPATH><code class=Dv id=DT_RPATH>DT_RPATH</code></a> of the referencing object unless that object also contains a <code class=Dv>DT_RUNPATH</code> tag</li><li><a class=permalink href=#DT_RPATH_2><code class=Dv id=DT_RPATH_2>DT_RPATH</code></a> of the program unless the referencing object contains a <code class=Dv>DT_RUNPATH</code> tag</li><li>Path indicated by <code class=Ev>LD_LIBRARY_PATH</code> environment variable</li><li><a class=permalink href=#DT_RUNPATH><code class=Dv id=DT_RUNPATH>DT_RUNPATH</code></a> of the referencing object</li><li>Hints file produced by the <a class=Xr href=ldconfig.8.html>ldconfig(8)</a> utility</li><li>The <span class=Pa>/lib</span> and <span class=Pa>/usr/lib</span> directories, unless the referencing object was linked using the “<code class=Fl>-z</code><var class=Ar>nodefaultlib</var>” option</li></ol><p class=Pp>The <code class=Nm>ld-elf.so.1</code> utility recognizes a number of environment variables that can be used to modify its behaviour. On 64-bit architectures, the linker for 32-bit objects recognizes all the environment variables listed below, but is being prefixed with <code class=Ev>LD_32_</code>, for example: <code class=Ev>LD_32_TRACE_LOADED_OBJECTS</code>. If the activated image is setuid or setgid, the variables are ignored.</p><dl class=Bl-tag><dt><a class=permalink href=#LD_DUMP_REL_POST><code class=Ev id=LD_DUMP_REL_POST>LD_DUMP_REL_POST</code></a></dt><dd>If set, <code class=Nm>ld-elf.so.1</code> will print a table containing all relocations after symbol binding and relocation.</dd><dt><a class=permalink href=#LD_DUMP_REL_PRE><code class=Ev id=LD_DUMP_REL_PRE>LD_DUMP_REL_PRE</code></a></dt><dd>If set, <code class=Nm>ld-elf.so.1</code> will print a table containing all relocations before symbol binding and relocation.</dd><dt><a class=permalink href=#LD_DYNAMIC_WEAK><code class=Ev id=LD_DYNAMIC_WEAK>LD_DYNAMIC_WEAK</code></a></dt><dd>If set, use the ELF standard-compliant symbol lookup behavior: resolve to the first found symbol definition. <p class=Pp>By default, <span class=Ux>FreeBSD</span> provides the non-standard symbol lookup behavior: when a weak symbol definition is found, remember the definition and keep searching in the remaining shared objects for a non-weak definition. If found, the non-weak definition is preferred, otherwise the remembered weak definition is returned.</p><p class=Pp>Symbols exported by dynamic linker itself (see <a class=Xr href=dlfcn.3.html>dlfcn(3)</a>) are always resolved using <span class=Ux>FreeBSD</span> rules regardless of the presence of the variable. This variable is unset for set-user-ID and set-group-ID programs.</p></dd><dt><a class=permalink href=#LD_LIBMAP><code class=Ev id=LD_LIBMAP>LD_LIBMAP</code></a></dt><dd>A library replacement list in the same format as <a class=Xr href=libmap.conf.5.html>libmap.conf(5)</a>. For convenience, the characters ‘<code class=Li>=</code>’ and ‘<code class=Li>,</code>’ can be used instead of a space and a newline. This variable is parsed after <a class=Xr href=libmap.conf.5.html>libmap.conf(5)</a>, and will override its entries. This variable is unset for set-user-ID and set-group-ID programs.</dd><dt><a class=permalink href=#LD_LIBMAP_DISABLE><code class=Ev id=LD_LIBMAP_DISABLE>LD_LIBMAP_DISABLE</code></a></dt><dd>If set, disables the use of <a class=Xr href=libmap.conf.5.html>libmap.conf(5)</a> and <code class=Ev>LD_LIBMAP</code>. This variable is unset for set-user-ID and set-group-ID programs.</dd><dt><a class=permalink href=#LD_ELF_HINTS_PATH><code class=Ev id=LD_ELF_HINTS_PATH>LD_ELF_HINTS_PATH</code></a></dt><dd>This variable will override the default location of “hints” file. This variable is unset for set-user-ID and set-group-ID programs.</dd><dt><a class=permalink href=#LD_LIBRARY_PATH><code class=Ev id=LD_LIBRARY_PATH>LD_LIBRARY_PATH</code></a></dt><dd>A colon separated list of directories, overriding the default search path for shared libraries. This variable is unset for set-user-ID and set-group-ID programs.</dd><dt><a class=permalink href=#LD_LIBRARY_PATH_RPATH><code class=Ev id=LD_LIBRARY_PATH_RPATH>LD_LIBRARY_PATH_RPATH</code></a></dt><dd>If the variable is specified and has a value starting with any of ´y´, ´Y´ or ´1´ symbols, the path specified by <code class=Ev>LD_LIBRARY_PATH</code> variable is allowed to override the path from <code class=Dv>DT_RPATH</code> for binaries which does not contain <code class=Dv>DT_RUNPATH</code> tag. For such binaries, when the variable <code class=Ev>LD_LIBRARY_PATH_RPATH</code> is set, “<code class=Fl>-z</code><var class=Ar>nodefaultlib</var>” link-time option is ignored as well.</dd><dt><a class=permalink href=#LD_PRELOAD><code class=Ev id=LD_PRELOAD>LD_PRELOAD</code></a></dt><dd>A list of shared libraries, separated by colons and/or white space, to be linked in before any other shared libraries. If the directory is not specified then the directories specified by <code class=Ev>LD_LIBRARY_PATH</code> will be searched first followed by the set of built-in standard directories. This variable is unset for set-user-ID and set-group-ID programs.</dd><dt><a class=permalink href=#LD_PRELOAD_FDS><code class=Ev id=LD_PRELOAD_FDS>LD_PRELOAD_FDS</code></a></dt><dd>A colon separated list of file descriptor numbers for libraries. This is intended for preloading libraries in which we already have a file descriptor. This may optimize the process of loading libraries because we do not have to look for them in directories. It may also be useful in a capability base system where we do not have access to global namespaces such as the filesystem.</dd><dt><a class=permalink href=#LD_LIBRARY_PATH_FDS><code class=Ev id=LD_LIBRARY_PATH_FDS>LD_LIBRARY_PATH_FDS</code></a></dt><dd>A colon separated list of file descriptor numbers for library directories. This is intended for use within <a class=Xr href=capsicum.4.html>capsicum(4)</a> sandboxes, when global namespaces such as the filesystem are unavailable. It is consulted just after LD_LIBRARY_PATH. This variable is unset for set-user-ID and set-group-ID programs.</dd><dt><a class=permalink href=#LD_BIND_NOT><code class=Ev id=LD_BIND_NOT>LD_BIND_NOT</code></a></dt><dd>When set to a nonempty string, prevents modifications of the PLT slots when doing bindings. As result, each call of the PLT-resolved function is resolved. In combination with debug output, this provides complete account of all bind actions at runtime. This variable is unset for set-user-ID and set-group-ID programs.</dd><dt><a class=permalink href=#LD_BIND_NOW><code class=Ev id=LD_BIND_NOW>LD_BIND_NOW</code></a></dt><dd>When set to a nonempty string, causes <code class=Nm>ld-elf.so.1</code> to relocate all external function calls before starting execution of the program. Normally, function calls are bound lazily, at the first call of each function. <code class=Ev>LD_BIND_NOW</code> increases the start-up time of a program, but it avoids run-time surprises caused by unexpectedly undefined functions.</dd><dt><a class=permalink href=#LD_TRACE_LOADED_OBJECTS><code class=Ev id=LD_TRACE_LOADED_OBJECTS>LD_TRACE_LOADED_OBJECTS</code></a></dt><dd>When set to a nonempty string, causes <code class=Nm>ld-elf.so.1</code> to exit after loading the shared objects and printing a summary which includes the absolute pathnames of all objects, to standard output.</dd><dt><a class=permalink href=#LD_TRACE_LOADED_OBJECTS_ALL><code class=Ev id=LD_TRACE_LOADED_OBJECTS_ALL>LD_TRACE_LOADED_OBJECTS_ALL</code></a></dt><dd>When set to a nonempty string, causes <code class=Nm>ld-elf.so.1</code> to expand the summary to indicate which objects caused each object to be loaded.</dd><dt><a class=permalink href=#LD_TRACE_LOADED_OBJECTS_FMT1><code class=Ev id=LD_TRACE_LOADED_OBJECTS_FMT1>LD_TRACE_LOADED_OBJECTS_FMT1</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#LD_TRACE_LOADED_OBJECTS_FMT2><code class=Ev id=LD_TRACE_LOADED_OBJECTS_FMT2>LD_TRACE_LOADED_OBJECTS_FMT2</code></a></dt><dd>When set, these variables are interpreted as format strings a la <a class=Xr href=printf.3.html>printf(3)</a> to customize the trace output and are used by <a class=Xr href=ldd.1.html>ldd(1)</a>'s <code class=Fl>-f</code> option and allows <a class=Xr href=ldd.1.html>ldd(1)</a> to be operated as a filter more conveniently. If the dependency name starts with string <span class=Pa>lib</span>, <code class=Ev>LD_TRACE_LOADED_OBJECTS_FMT1</code> is used, otherwise <code class=Ev>LD_TRACE_LOADED_OBJECTS_FMT2</code> is used. The following conversions can be used: <dl class=Bl-tag><dt><a class=permalink href=#_a><code class=Li id=_a>%a</code></a></dt><dd>The main program's name (also known as “__progname”).</dd><dt><a class=permalink href=#_A><code class=Li id=_A>%A</code></a></dt><dd>The value of the environment variable <code class=Ev>LD_TRACE_LOADED_OBJECTS_PROGNAME</code>. Typically used to print both the names of programs and shared libraries being inspected using <a class=Xr href=ldd.1.html>ldd(1)</a>.</dd><dt><a class=permalink href=#_o><code class=Li id=_o>%o</code></a></dt><dd>The library name.</dd><dt><a class=permalink href=#_p><code class=Li id=_p>%p</code></a></dt><dd>The full pathname as determined by <code class=Nm>rtld</code>'s library search rules.</dd><dt><a class=permalink href=#_x><code class=Li id=_x>%x</code></a></dt><dd>The library's load address.</dd></dl><p class=Pp>Additionally, ‘<code class=Li>\n</code>’ and ‘<code class=Li>\t</code>’ are recognized and have their usual meaning.</p></dd><dt><a class=permalink href=#LD_UTRACE><code class=Ev id=LD_UTRACE>LD_UTRACE</code></a></dt><dd>If set, <code class=Nm>ld-elf.so.1</code> will log events such as the loading and unloading of shared objects via <a class=Xr href=utrace.2.html>utrace(2)</a>.</dd><dt><a class=permalink href=#LD_LOADFLTR><code class=Ev id=LD_LOADFLTR>LD_LOADFLTR</code></a></dt><dd>If set, <code class=Nm>ld-elf.so.1</code> will process the filtee dependencies of the loaded objects immediately, instead of postponing it until required. Normally, the filtees are opened at the time of the first symbol resolution from the filter object.</dd><dt><a class=permalink href=#LD_SHOW_AUXV><code class=Ev id=LD_SHOW_AUXV>LD_SHOW_AUXV</code></a></dt><dd>If set, causes <code class=Nm>ld-elf.so.1</code> to dump content of the aux vector to standard output, before passing control to any user code.</dd></dl></section><section class=Sh><h2 class=Sh id=DIRECT_EXECUTION_MODE><a class=permalink href=#DIRECT_EXECUTION_MODE>DIRECT EXECUTION MODE</a></h2><code class=Nm>ld-elf.so.1</code> is typically used implicitly, loaded by the kernel as requested by the <code class=Dv>PT_INTERP</code> program header of the executed binary. <span class=Ux>FreeBSD</span> also supports a direct execution mode for the dynamic linker. In this mode, the user explicitly executes <code class=Nm>ld-elf.so.1</code> and provides the path of the program to be linked and executed as an argument. This mode allows use of a non-standard dynamic linker for a program activation without changing the binary or without changing the installed dynamic linker. Execution options may be specified. <p class=Pp>The syntax of the direct invocation is</p><div class="Bd Pp Bd-indent"><span class=Pa>/libexec/ld-elf.so.1</span> [<code class=Fl>-b</code><var class=Ar>exe</var>] [<code class=Fl>-d</code>] [<code class=Fl>-f</code><var class=Ar>fd</var>] [<code class=Fl>-p</code>] [<code class=Fl>-u</code>] [<code class=Fl>-v</code>] [<code class=Fl>--</code>] <span class=Pa>image_path</span> [<var class=Ar>image arguments</var>]</div><p class=Pp>The options are:</p><dl class=Bl-tag><dt><a class=permalink href=#b><code class=Fl id=b>-b</code></a><var class=Ar>exe</var></dt><dd>Use the executable <var class=Fa>exe</var> instead of <var class=Fa>image_path</var> for activation. If this option is specified, <var class=Ar>image_path</var> is only used to provide the <var class=Va>argv[0]</var> value to the program.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a></dt><dd>Turn off the emulation of the binary execute permission.</dd><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a><var class=Ar>fd</var></dt><dd>File descriptor <var class=Ar>fd</var> references the binary to be activated by <code class=Nm>ld-elf.so.1</code>. It must already be opened in the process when executing <code class=Nm>ld-elf.so.1</code>. If this option is specified, <var class=Ar>image_path</var> is only used to provide the <var class=Va>argv[0]</var> value to the program.</dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a></dt><dd>If the <span class=Pa>image_path</span> argument specifies a name which does not contain a slash “<code class=Li>/</code>” character, <code class=Nm>ld-elf.so.1</code> uses the search path provided by the environment variable <code class=Dv>PATH</code> to find the binary to execute.</dd><dt><a class=permalink href=#u><code class=Fl id=u>-u</code></a></dt><dd>Ignore all <code class=Ev>LD_</code> environment variables that otherwise affect the dynamic linker behavior.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a></dt><dd>Display information about this run-time linker binary, then exit.</dd><dt><a class=permalink href=#-><code class=Fl id=->--</code></a></dt><dd>Ends the <code class=Nm>ld-elf.so.1</code> options. The argument following <code class=Fl>--</code> is interpreted as the path of the binary to execute.</dd></dl><p class=Pp>In the direct execution mode, <code class=Nm>ld-elf.so.1</code> emulates verification of the binary execute permission for the current user. This is done to avoid breaking user expectations in naively restricted execution environments. The verification only uses Unix <code class=Dv>DACs</code>, ignores <code class=Dv>ACLs</code>, and is naturally prone to race conditions. Environments which rely on such restrictions are weak and breakable on their own. It can be turned off with the <code class=Fl>-d</code> option.</p></section><section class=Sh><h2 class=Sh id=VERSIONING><a class=permalink href=#VERSIONING>VERSIONING</a></h2> Newer <code class=Nm>ld-elf.so.1</code> might provide some features or changes in runtime behavior that cannot be easily detected at runtime by checking of the normal exported symbols. Note that it is almost always wrong to verify <code class=Dv>__FreeBSD_version</code> in userspace to detect features, either at compile or at run time, because either kernel, or libc, or environment variables could not match the running <code class=Nm>ld-elf.so.1</code>. <p class=Pp>To solve the problem, <code class=Nm>ld-elf.so.1</code> exports some feature indicators in the <span class=Ux>FreeBSD</span> private symbols namespace <code class=Dv>FBSDprivate_1.0</code>. Symbols start with the <code class=Dv>_rtld_version</code> prefix. Current list of defined symbols and corresponding features is:</p><dl class=Bl-tag><dt><a class=permalink href=#_rtld_version__FreeBSD_version><code class=Dv id=_rtld_version__FreeBSD_version>_rtld_version__FreeBSD_version</code></a></dt><dd>Symbol exports the value of the <code class=Dv>__FreeBSD_version</code> definition as it was provided during the <code class=Nm>ld-elf.so.1</code> build. The symbol is always present since the <code class=Dv>_rtld_version</code> facility was introduced.</dd><dt><a class=permalink href=#_rtld_version_laddr_offset><code class=Dv id=_rtld_version_laddr_offset>_rtld_version_laddr_offset</code></a></dt><dd>The <var class=Va>l_addr</var> member of the <var class=Vt>link_map</var> structure contains the load offset of the shared object. Before that, <var class=Va>l_addr</var> contained the base address of the library. See <a class=Xr href=dlinfo.3.html>dlinfo(3)</a>. <p class=Pp>Also it indicates the presence of <var class=Va>l_refname</var> member of the structure.</p></dd><dt><a class=permalink href=#_rtld_version_dlpi_tls_data><code class=Dv id=_rtld_version_dlpi_tls_data>_rtld_version_dlpi_tls_data</code></a></dt><dd>The <var class=Va>dlpi_tls_data</var> member of the structure <var class=Vt>dl_phdr_info</var> contains the address of the module TLS segment for the calling thread, and not the address of the initialization segment.</dd></dl></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt><span class=Pa>/var/run/ld-elf.so.hints</span></dt><dd>Hints file.</dd><dt><span class=Pa>/var/run/ld-elf32.so.hints</span></dt><dd>Hints file for 32-bit binaries on 64-bit system.</dd><dt><span class=Pa>/etc/libmap.conf</span></dt><dd>The libmap configuration file.</dd><dt><span class=Pa>/etc/libmap32.conf</span></dt><dd>The libmap configuration file for 32-bit binaries on 64-bit system.</dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=ld.1.html>ld(1)</a>, <a class=Xr href=ldd.1.html>ldd(1)</a>, <a class=Xr href=dlinfo.3.html>dlinfo(3)</a>, <a class=Xr href=capsicum.4.html>capsicum(4)</a>, <a class=Xr href=elf.5.html>elf(5)</a>, <a class=Xr href=libmap.conf.5.html>libmap.conf(5)</a>, <a class=Xr href=ldconfig.8.html>ldconfig(8)</a></section></div><table class=foot><tr><td class=foot-date>November 13, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>