<!DOCTYPE html>
<html><head><meta charset=utf-8><title>ddb(4)</title><keywords content=man,ddb></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>ddb(4)</h1><table class=head><tr><td class=head-ltitle>DDB(4)</td><td class=head-vol>FreeBSD Kernel Interfaces Manual</td><td class=head-rtitle>DDB(4)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>ddb</code> — <div class=Nd>interactive kernel debugger</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2> In order to enable kernel debugging facilities include: <div class="Bd Pp Bd-indent"><code class=Cd>options KDB</code><br><code class=Cd>options DDB</code></div><p class=Pp>To prevent activation of the debugger on kernel <a class=Xr href=panic.9.html>panic(9)</a>:</p><div class="Bd Pp Bd-indent"><code class=Cd>options KDB_UNATTENDED</code></div><p class=Pp>In order to print a stack trace of the current thread on the console for a panic:</p><div class="Bd Pp Bd-indent"><code class=Cd>options KDB_TRACE</code></div><p class=Pp>To print the numerical value of symbols in addition to the symbolic representation, define:</p><div class="Bd Pp Bd-indent"><code class=Cd>options DDB_NUMSYM</code></div><p class=Pp>To enable the <a class=Xr href=gdb.1.html>gdb(1)</a> (<span class=Pa>ports/devel/gdb</span>) backend, so that remote debugging with <a class=Xr href=kgdb.1.html>kgdb(1)</a> (<span class=Pa>ports/devel/gdb</span>) is possible, include:</p><div class="Bd Pp Bd-indent"><code class=Cd>options GDB</code></div></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>ddb</code> kernel debugger is an interactive debugger with a syntax inspired by <a class=Xr href=gdb.1.html>gdb(1)</a> (<span class=Pa>ports/devel/gdb</span>). If linked into the running kernel, it can be invoked locally with the ‘<code class=Li>debug</code>’ <a class=Xr href=keymap.5.html>keymap(5)</a> action, usually mapped to Ctrl+Alt+Esc, or by setting the <var class=Va>debug.kdb.enter</var> sysctl to 1. The debugger is also invoked on kernel <a class=Xr href=panic.9.html>panic(9)</a> if the <var class=Va>debug.debugger_on_panic</var><a class=Xr href=sysctl.8.html>sysctl(8)</a> MIB variable is set non-zero, which is the default unless the <code class=Dv>KDB_UNATTENDED</code> option is specified. Similarly, if the <var class=Va>debug.debugger_on_recursive_panic</var> variable is set to <code class=Dv>1</code>, then the debugger will be invoked on a recursive kernel panic. This variable has a default value of <code class=Dv>0</code>, and has no effect if <var class=Va>debug.debugger_on_panic</var> is already set non-zero. <p class=Pp>The current location is called <var class=Va>dot</var>. The <var class=Va>dot</var> is displayed with a hexadecimal format at a prompt. The commands <code class=Ic>examine</code> and <code class=Ic>write</code> update <var class=Va>dot</var> to the address of the last line examined or the last location modified, and set <var class=Va>next</var> to the address of the next location to be examined or changed. Other commands do not change <var class=Va>dot</var>, and set <var class=Va>next</var> to be the same as <var class=Va>dot</var>.</p><p class=Pp>The general command syntax is: <var class=Ar>command</var>[<code class=Li>/</code><var class=Ar>modifier</var>] [<var class=Ar>addr</var>][,<var class=Ar>count</var>]</p><p class=Pp>A blank line repeats the previous command from the address <var class=Va>next</var> with count 1 and no modifiers. Specifying <var class=Ar>addr</var> sets <var class=Va>dot</var> to the address. Omitting <var class=Ar>addr</var> uses <var class=Va>dot</var>. A missing <var class=Ar>count</var> is taken to be 1 for printing commands or infinity for stack traces. A <var class=Ar>count</var> of -1 is equivalent to a missing <var class=Ar>count</var>. Options that are supplied but not supported by the given <var class=Ar>command</var> are usually ignored.</p><p class=Pp>The <code class=Nm>ddb</code> debugger has a pager feature (like the <a class=Xr href=more.1.html>more(1)</a> command) for the output. If an output line exceeds the number set in the <var class=Va>lines</var> variable, it displays “<code class=Li>--More--</code>” and waits for a response. The valid responses for it are:</p><p class=Pp></p><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#SPC><code class=Li id=SPC>SPC</code></a></dt><dd>one more page</dd><dt><a class=permalink href=#RET><code class=Li id=RET>RET</code></a></dt><dd>one more line</dd><dt><a class=permalink href=#q><code class=Li id=q>q</code></a></dt><dd>abort the current command, and return to the command input mode</dd></dl><p class=Pp>Finally, <code class=Nm>ddb</code> provides a small (currently 10 items) command history, and offers simple <code class=Nm>emacs</code>-style command line editing capabilities. In addition to the <code class=Nm>emacs</code> control keys, the usual ANSI arrow keys may be used to browse through the history buffer, and move the cursor within the current line.</p></section><section class=Sh><h2 class=Sh id=COMMANDS><a class=permalink href=#COMMANDS>COMMANDS</a></h2><section class=Ss><h2 class=Ss id=COMMON_DEBUGGER_COMMANDS><a class=permalink href=#COMMON_DEBUGGER_COMMANDS>COMMON DEBUGGER COMMANDS</a></h2><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#help><code class=Ic id=help>help</code></a></dt><dd>Print a short summary of the available commands and command abbreviations. <p class=Pp></p></dd><dt><a class=permalink href=#examine><code class=Ic id=examine>examine</code></a>[<code class=Li>/</code><code class=Cm>AISabcdghilmorsuxz ...</code>] [<var class=Ar>addr</var>][,<var class=Ar>count</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#x><code class=Ic id=x>x</code></a>[<code class=Li>/</code><code class=Cm>AISabcdghilmorsuxz ...</code>] [<var class=Ar>addr</var>][,<var class=Ar>count</var>]</dt><dd>Display the addressed locations according to the formats in the modifier. Multiple modifier formats display multiple locations. If no format is specified, the last format specified for this command is used. <p class=Pp>The format characters are:</p><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#b><code class=Cm id=b>b</code></a></dt><dd>look at by bytes (8 bits)</dd><dt><a class=permalink href=#h><code class=Cm id=h>h</code></a></dt><dd>look at by half words (16 bits)</dd><dt><a class=permalink href=#l><code class=Cm id=l>l</code></a></dt><dd>look at by long words (32 bits)</dd><dt><a class=permalink href=#g><code class=Cm id=g>g</code></a></dt><dd>look at by quad words (64 bits)</dd><dt><a class=permalink href=#a><code class=Cm id=a>a</code></a></dt><dd>print the location being displayed</dd><dt><a class=permalink href=#A><code class=Cm id=A>A</code></a></dt><dd>print the location with a line number if possible</dd><dt><a class=permalink href=#x_2><code class=Cm id=x_2>x</code></a></dt><dd>display in unsigned hex</dd><dt><a class=permalink href=#z><code class=Cm id=z>z</code></a></dt><dd>display in signed hex</dd><dt><a class=permalink href=#o><code class=Cm id=o>o</code></a></dt><dd>display in unsigned octal</dd><dt><a class=permalink href=#d><code class=Cm id=d>d</code></a></dt><dd>display in signed decimal</dd><dt><a class=permalink href=#u><code class=Cm id=u>u</code></a></dt><dd>display in unsigned decimal</dd><dt><a class=permalink href=#r><code class=Cm id=r>r</code></a></dt><dd>display in current radix, signed</dd><dt><a class=permalink href=#c><code class=Cm id=c>c</code></a></dt><dd>display low 8 bits as a character. Non-printing characters are displayed as an octal escape code (e.g., ‘<code class=Li>\000</code>’).</dd><dt><a class=permalink href=#s><code class=Cm id=s>s</code></a></dt><dd>display the null-terminated string at the location. Non-printing characters are displayed as octal escapes.</dd><dt><a class=permalink href=#m><code class=Cm id=m>m</code></a></dt><dd>display in unsigned hex with character dump at the end of each line. The location is also displayed in hex at the beginning of each line.</dd><dt><a class=permalink href=#i><code class=Cm id=i>i</code></a></dt><dd>display as a disassembled instruction</dd><dt><a class=permalink href=#I><code class=Cm id=I>I</code></a></dt><dd>display as an disassembled instruction with possible alternate formats depending on the machine. On i386, this selects the alternate format for the instruction decoding (16 bits in a 32-bit code segment and vice versa).</dd><dt><a class=permalink href=#S><code class=Cm id=S>S</code></a></dt><dd>display a symbol name for the pointer stored at the address</dd></dl><p class=Pp></p></dd><dt><a class=permalink href=#xf><code class=Ic id=xf>xf</code></a></dt><dd>Examine forward: execute an <code class=Ic>examine</code> command with the last specified parameters to it except that the next address displayed by it is used as the start address. <p class=Pp></p></dd><dt><a class=permalink href=#xb><code class=Ic id=xb>xb</code></a></dt><dd>Examine backward: execute an <code class=Ic>examine</code> command with the last specified parameters to it except that the last start address subtracted by the size displayed by it is used as the start address. <p class=Pp></p></dd><dt><a class=permalink href=#print><code class=Ic id=print>print</code></a>[<code class=Li>/</code><code class=Cm>acdoruxz</code>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#p><code class=Ic id=p>p</code></a>[<code class=Li>/</code><code class=Cm>acdoruxz</code>]</dt><dd>Print <var class=Ar>addr</var>s according to the modifier character (as described above for <code class=Cm>examine</code>). Valid formats are: <code class=Cm>a</code>, <code class=Cm>x</code>, <code class=Cm>z</code>, <code class=Cm>o</code>, <code class=Cm>d</code>, <code class=Cm>u</code>, <code class=Cm>r</code>, and <code class=Cm>c</code>. If no modifier is specified, the last one specified to it is used. The argument <var class=Ar>addr</var> can be a string, in which case it is printed as it is. For example: <div class="Bd Pp Bd-indent"><pre>
print/x "eax = " $eax "\necx = " $ecx "\n"
    </pre></div><p class=Pp>will print like:</p><div class="Bd Pp Bd-indent"><pre>
eax = xxxxxx
ecx = yyyyyy
    </pre></div><p class=Pp></p></dd><dt><a class=permalink href=#write><code class=Ic id=write>write</code></a>[<code class=Li>/</code><code class=Cm>bhl</code>] <var class=Ar>addr expr1</var> [<var class=Ar>expr2 ...</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#w><code class=Ic id=w>w</code></a>[<code class=Li>/</code><code class=Cm>bhl</code>] <var class=Ar>addr expr1</var> [<var class=Ar>expr2 ...</var>]</dt><dd>Write the expressions specified after <var class=Ar>addr</var> on the command line at succeeding locations starting with <var class=Ar>addr</var>. The write unit size can be specified in the modifier with a letter <code class=Cm>b</code> (byte), <code class=Cm>h</code> (half word) or <code class=Cm>l</code> (long word) respectively. If omitted, long word is assumed. <p class=Pp><b class=Sy>Warning</b>: since there is no delimiter between expressions, strange things may happen. It is best to enclose each expression in parentheses.</p><p class=Pp></p></dd><dt><a class=permalink href=#set><code class=Ic id=set>set</code></a><code class=Li>$</code><var class=Ar>variable</var> [<code class=Li>=</code>] <var class=Ar>expr</var></dt><dd>Set the named variable or register with the value of <var class=Ar>expr</var>. Valid variable names are described below. <p class=Pp></p></dd><dt><a class=permalink href=#break><code class=Ic id=break>break</code></a>[<code class=Li>/</code><code class=Cm>u</code>] [<var class=Ar>addr</var>][,<var class=Ar>count</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#b_2><code class=Ic id=b_2>b</code></a>[<code class=Li>/</code><code class=Cm>u</code>] [<var class=Ar>addr</var>][,<var class=Ar>count</var>]</dt><dd>Set a break point at <var class=Ar>addr</var>. If <var class=Ar>count</var> is supplied, the <code class=Ic>continue</code> command will not stop at this break point on the first <var class=Ar>count</var> - 1 times that it is hit. If the break point is set, a break point number is printed with ‘<code class=Li>#</code>’. This number can be used in deleting the break point or adding conditions to it. <p class=Pp>If the <code class=Cm>u</code> modifier is specified, this command sets a break point in user address space. Without the <code class=Cm>u</code> option, the address is considered to be in the kernel space, and a wrong space address is rejected with an error message. This modifier can be used only if it is supported by machine dependent routines.</p><p class=Pp><b class=Sy>Warning</b>: If a user text is shadowed by a normal user space debugger, user space break points may not work correctly. Setting a break point at the low-level code paths may also cause strange behavior.</p><p class=Pp></p></dd><dt><a class=permalink href=#delete><code class=Ic id=delete>delete</code></a> [<var class=Ar>addr</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#d_2><code class=Ic id=d_2>d</code></a> [<var class=Ar>addr</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#delete_2><code class=Ic id=delete_2>delete</code></a><code class=Li>#</code><var class=Ar>number</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#d_3><code class=Ic id=d_3>d</code></a><code class=Li>#</code><var class=Ar>number</var></dt><dd>Delete the specified break point. The break point can be specified by a break point number with ‘<code class=Li>#</code>’, or by using the same <var class=Ar>addr</var> specified in the original <code class=Ic>break</code> command, or by omitting <var class=Ar>addr</var> to get the default address of <var class=Va>dot</var>. <p class=Pp></p></dd><dt><a class=permalink href=#halt><code class=Ic id=halt>halt</code></a></dt><dd>Halt the system. <p class=Pp></p></dd><dt><a class=permalink href=#watch><code class=Ic id=watch>watch</code></a> [<var class=Ar>addr</var>][,<var class=Ar>size</var>]</dt><dd>Set a watchpoint for a region. Execution stops when an attempt to modify the region occurs. The <var class=Ar>size</var> argument defaults to 4. If you specify a wrong space address, the request is rejected with an error message. <p class=Pp><b class=Sy>Warning</b>: Attempts to watch wired kernel memory may cause unrecoverable error in some systems such as i386. Watchpoints on user addresses work best.</p><p class=Pp></p></dd><dt><a class=permalink href=#hwatch><code class=Ic id=hwatch>hwatch</code></a> [<var class=Ar>addr</var>][,<var class=Ar>size</var>]</dt><dd>Set a hardware watchpoint for a region if supported by the architecture. Execution stops when an attempt to modify the region occurs. The <var class=Ar>size</var> argument defaults to 4. <p class=Pp><b class=Sy>Warning</b>: The hardware debug facilities do not have a concept of separate address spaces like the watch command does. Use <code class=Ic>hwatch</code> for setting watchpoints on kernel address locations only, and avoid its use on user mode address spaces.</p><p class=Pp></p></dd><dt><a class=permalink href=#dhwatch><code class=Ic id=dhwatch>dhwatch</code></a> [<var class=Ar>addr</var>][,<var class=Ar>size</var>]</dt><dd>Delete specified hardware watchpoint. <p class=Pp></p></dd><dt><a class=permalink href=#kill><code class=Ic id=kill>kill</code></a><var class=Ar>sig pid</var></dt><dd>Send signal <var class=Ar>sig</var> to process <var class=Ar>pid</var>. The signal is acted on upon returning from the debugger. This command can be used to kill a process causing resource contention in the case of a hung system. See <a class=Xr href=signal.3.html>signal(3)</a> for a list of signals. Note that the arguments are reversed relative to <a class=Xr href=kill.2.html>kill(2)</a>. <p class=Pp></p></dd><dt><a class=permalink href=#step><code class=Ic id=step>step</code></a>[<code class=Li>/</code><code class=Cm>p</code>][,<var class=Ar>count</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#s_2><code class=Ic id=s_2>s</code></a>[<code class=Li>/</code><code class=Cm>p</code>][,<var class=Ar>count</var>]</dt><dd>Single step <var class=Ar>count</var> times. If the <code class=Cm>p</code> modifier is specified, print each instruction at each step. Otherwise, only print the last instruction. <p class=Pp><b class=Sy>Warning</b>: depending on machine type, it may not be possible to single-step through some low-level code paths or user space code. On machines with software-emulated single-stepping (e.g., pmax), stepping through code executed by interrupt handlers will probably do the wrong thing.</p><p class=Pp></p></dd><dt><a class=permalink href=#continue><code class=Ic id=continue>continue</code></a>[<code class=Li>/</code><code class=Cm>c</code>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#c_2><code class=Ic id=c_2>c</code></a>[<code class=Li>/</code><code class=Cm>c</code>]</dt><dd>Continue execution until a breakpoint or watchpoint. If the <code class=Cm>c</code> modifier is specified, count instructions while executing. Some machines (e.g., pmax) also count loads and stores. <p class=Pp><b class=Sy>Warning</b>: when counting, the debugger is really silently single-stepping. This means that single-stepping on low-level code may cause strange behavior.</p><p class=Pp></p></dd><dt><a class=permalink href=#until><code class=Ic id=until>until</code></a>[<code class=Li>/</code><code class=Cm>p</code>]</dt><dd>Stop at the next call or return instruction. If the <code class=Cm>p</code> modifier is specified, print the call nesting depth and the cumulative instruction count at each call or return. Otherwise, only print when the matching return is hit. <p class=Pp></p></dd><dt><a class=permalink href=#next><code class=Ic id=next>next</code></a>[<code class=Li>/</code><code class=Cm>p</code>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#match><code class=Ic id=match>match</code></a>[<code class=Li>/</code><code class=Cm>p</code>]</dt><dd>Stop at the matching return instruction. If the <code class=Cm>p</code> modifier is specified, print the call nesting depth and the cumulative instruction count at each call or return. Otherwise, only print when the matching return is hit. <p class=Pp></p></dd><dt><a class=permalink href=#trace><code class=Ic id=trace>trace</code></a>[<code class=Li>/</code><code class=Cm>u</code>] [<var class=Ar>pid</var> | <var class=Ar>tid</var>][,<var class=Ar>count</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#t><code class=Ic id=t>t</code></a>[<code class=Li>/</code><code class=Cm>u</code>] [<var class=Ar>pid</var> | <var class=Ar>tid</var>][,<var class=Ar>count</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#where><code class=Ic id=where>where</code></a>[<code class=Li>/</code><code class=Cm>u</code>] [<var class=Ar>pid</var> | <var class=Ar>tid</var>][,<var class=Ar>count</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#bt><code class=Ic id=bt>bt</code></a>[<code class=Li>/</code><code class=Cm>u</code>] [<var class=Ar>pid</var> | <var class=Ar>tid</var>][,<var class=Ar>count</var>]</dt><dd>Stack trace. The <code class=Cm>u</code> option traces user space; if omitted, <code class=Ic>trace</code> only traces kernel space. The optional argument <var class=Ar>count</var> is the number of frames to be traced. If <var class=Ar>count</var> is omitted, all frames are printed. <p class=Pp><b class=Sy>Warning</b>: User space stack trace is valid only if the machine dependent code supports it.</p><p class=Pp></p></dd><dt><a class=permalink href=#search><code class=Ic id=search>search</code></a>[<code class=Li>/</code><code class=Cm>bhl</code>] <var class=Ar>addr</var><var class=Ar>value</var> [<var class=Ar>mask</var>][,<var class=Ar>count</var>]</dt><dd>Search memory for <var class=Ar>value</var>. The optional <var class=Ar>count</var> argument limits the search. <p class=Pp></p></dd><dt><a class=permalink href=#reboot><code class=Ic id=reboot>reboot</code></a> [<var class=Ar>seconds</var>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#reset><code class=Ic id=reset>reset</code></a> [<var class=Ar>seconds</var>]</dt><dd>Hard reset the system. If the optional argument <var class=Ar>seconds</var> is given, the debugger will wait for this long, at most a week, before rebooting. <p class=Pp></p></dd><dt><a class=permalink href=#thread><code class=Ic id=thread>thread</code></a><var class=Ar>addr</var> | <var class=Ar>tid</var></dt><dd>Switch the debugger to the thread with ID <var class=Ar>tid</var>, if the argument is a decimal number, or address <var class=Ar>addr</var>, otherwise.</dd></dl></section><section class=Ss><h2 class=Ss id=SPECIALIZED_HELPER_COMMANDS><a class=permalink href=#SPECIALIZED_HELPER_COMMANDS>SPECIALIZED HELPER COMMANDS</a></h2><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#findstack><code class=Ic id=findstack>findstack</code></a><var class=Ar>addr</var></dt><dd>Prints the thread address for a thread kernel-mode stack of which contains the specified address. If the thread is not found, search the thread stack cache and prints the cached stack address. Otherwise, prints nothing. <p class=Pp></p></dd><dt><a class=permalink href=#show><code class=Ic id=show>show</code></a><code class=Cm>all procs</code>[<code class=Li>/</code><code class=Cm>a</code>]</dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#ps><code class=Ic id=ps>ps</code></a>[<code class=Li>/</code><code class=Cm>a</code>]</dt><dd>Display all process information. The process information may not be shown if it is not supported in the machine, or the bottom of the stack of the target process is not in the main memory at that time. The <code class=Cm>a</code> modifier will print command line arguments for each process. <p class=Pp></p></dd><dt><a class=permalink href=#show_2><code class=Ic id=show_2>show</code></a><code class=Cm>all trace</code></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#alltrace><code class=Ic id=alltrace>alltrace</code></a></dt><dd>Show a stack trace for every thread in the system. <p class=Pp></p></dd><dt><a class=permalink href=#show_3><code class=Ic id=show_3>show</code></a><code class=Cm>all ttys</code></dt><dd>Show all TTY's within the system. Output is similar to <a class=Xr href=pstat.8.html>pstat(8)</a>, but also includes the address of the TTY structure. <p class=Pp></p></dd><dt><a class=permalink href=#show_4><code class=Ic id=show_4>show</code></a><code class=Cm>all vnets</code></dt><dd>Show the same output as "show vnet" does, but lists all virtualized network stacks within the system. <p class=Pp></p></dd><dt><a class=permalink href=#show_5><code class=Ic id=show_5>show</code></a><code class=Cm>allchains</code></dt><dd>Show the same information like "show lockchain" does, but for every thread in the system. <p class=Pp></p></dd><dt><a class=permalink href=#show_6><code class=Ic id=show_6>show</code></a><code class=Cm>alllocks</code></dt><dd>Show all locks that are currently held. This command is only available if <a class=Xr href=witness.4.html>witness(4)</a> is included in the kernel. <p class=Pp></p></dd><dt><a class=permalink href=#show_7><code class=Ic id=show_7>show</code></a><code class=Cm>allpcpu</code></dt><dd>The same as "show pcpu", but for every CPU present in the system. <p class=Pp></p></dd><dt><a class=permalink href=#show_8><code class=Ic id=show_8>show</code></a><code class=Cm>allrman</code></dt><dd>Show information related with resource management, including interrupt request lines, DMA request lines, I/O ports, I/O memory addresses, and Resource IDs. <p class=Pp></p></dd><dt><a class=permalink href=#show_9><code class=Ic id=show_9>show</code></a><code class=Cm>apic</code></dt><dd>Dump data about APIC IDT vector mappings. <p class=Pp></p></dd><dt><a class=permalink href=#show_10><code class=Ic id=show_10>show</code></a><code class=Cm>breaks</code></dt><dd>Show breakpoints set with the "break" command. <p class=Pp></p></dd><dt><a class=permalink href=#show_11><code class=Ic id=show_11>show</code></a><code class=Cm>bio</code><var class=Ar>addr</var></dt><dd>Show information about the bio structure <var class=Vt>struct bio</var> present at <var class=Ar>addr</var>. See the <span class=Pa>sys/bio.h</span> header file and <a class=Xr href=g_bio.9.html>g_bio(9)</a> for more details on the exact meaning of the structure fields. <p class=Pp></p></dd><dt><a class=permalink href=#show_12><code class=Ic id=show_12>show</code></a><code class=Cm>buffer</code><var class=Ar>addr</var></dt><dd>Show information about the buf structure <var class=Vt>struct buf</var> present at <var class=Ar>addr</var>. See the <span class=Pa>sys/buf.h</span> header file for more details on the exact meaning of the structure fields. <p class=Pp></p></dd><dt><a class=permalink href=#show_13><code class=Ic id=show_13>show</code></a><code class=Cm>callout</code><var class=Ar>addr</var></dt><dd>Show information about the callout structure <var class=Vt>struct callout</var> present at <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_14><code class=Ic id=show_14>show</code></a><code class=Cm>cbstat</code></dt><dd>Show brief information about the TTY subsystem. <p class=Pp></p></dd><dt><a class=permalink href=#show_15><code class=Ic id=show_15>show</code></a><code class=Cm>cdev</code></dt><dd>Without argument, show the list of all created cdev's, consisting of devfs node name and struct cdev address. When address of cdev is supplied, show some internal devfs state of the cdev. <p class=Pp></p></dd><dt><a class=permalink href=#show_16><code class=Ic id=show_16>show</code></a><code class=Cm>conifhk</code></dt><dd>Lists hooks currently waiting for completion in run_interrupt_driven_config_hooks(). <p class=Pp></p></dd><dt><a class=permalink href=#show_17><code class=Ic id=show_17>show</code></a><code class=Cm>cpusets</code></dt><dd>Print numbered root and assigned CPU affinity sets. See <a class=Xr href=cpuset.2.html>cpuset(2)</a> for more details. <p class=Pp></p></dd><dt><a class=permalink href=#show_18><code class=Ic id=show_18>show</code></a><code class=Cm>cyrixreg</code></dt><dd>Show registers specific to the Cyrix processor. <p class=Pp></p></dd><dt><a class=permalink href=#show_19><code class=Ic id=show_19>show</code></a><code class=Cm>devmap</code></dt><dd>Prints the contents of the static device mapping table. Currently only available on the ARM architecture. <p class=Pp></p></dd><dt><a class=permalink href=#show_20><code class=Ic id=show_20>show</code></a><code class=Cm>domain</code><var class=Ar>addr</var></dt><dd>Print protocol domain structure <var class=Vt>struct domain</var> at address <var class=Ar>addr</var>. See the <span class=Pa>sys/domain.h</span> header file for more details on the exact meaning of the structure fields. <p class=Pp></p></dd><dt><a class=permalink href=#show_21><code class=Ic id=show_21>show</code></a><code class=Cm>ffs</code> [<var class=Ar>addr</var>]</dt><dd>Show brief information about ffs mount at the address <var class=Ar>addr</var>, if argument is given. Otherwise, provides the summary about each ffs mount. <p class=Pp></p></dd><dt><a class=permalink href=#show_22><code class=Ic id=show_22>show</code></a><code class=Cm>file</code><var class=Ar>addr</var></dt><dd>Show information about the file structure <var class=Vt>struct file</var> present at address <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_23><code class=Ic id=show_23>show</code></a><code class=Cm>files</code></dt><dd>Show information about every file structure in the system. <p class=Pp></p></dd><dt><a class=permalink href=#show_24><code class=Ic id=show_24>show</code></a><code class=Cm>freepages</code></dt><dd>Show the number of physical pages in each of the free lists. <p class=Pp></p></dd><dt><a class=permalink href=#show_25><code class=Ic id=show_25>show</code></a><code class=Cm>geom</code> [<var class=Ar>addr</var>]</dt><dd>If the <var class=Ar>addr</var> argument is not given, displays the entire GEOM topology. If <var class=Ar>addr</var> is given, displays details about the given GEOM object (class, geom, provider or consumer). <p class=Pp></p></dd><dt><a class=permalink href=#show_26><code class=Ic id=show_26>show</code></a><code class=Cm>idt</code></dt><dd>Show IDT layout. The first column specifies the IDT vector. The second one is the name of the interrupt/trap handler. Those functions are machine dependent. <p class=Pp></p></dd><dt><a class=permalink href=#show_27><code class=Ic id=show_27>show</code></a><code class=Cm>igi_list</code><var class=Ar>addr</var></dt><dd>Show information about the IGMP structure <var class=Vt>struct igmp_ifsoftc</var> present at <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_28><code class=Ic id=show_28>show</code></a><code class=Cm>inodedeps</code> [<var class=Ar>addr</var>]</dt><dd>Show brief information about each inodedep structure. If <var class=Ar>addr</var> is given, only inodedeps belonging to the fs located at the supplied address are shown. <p class=Pp></p></dd><dt><a class=permalink href=#show_29><code class=Ic id=show_29>show</code></a><code class=Cm>inpcb</code><var class=Ar>addr</var></dt><dd>Show information on IP Control Block <var class=Vt>struct in_pcb</var> present at <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_30><code class=Ic id=show_30>show</code></a><code class=Cm>intr</code></dt><dd>Dump information about interrupt handlers. <p class=Pp></p></dd><dt><a class=permalink href=#show_31><code class=Ic id=show_31>show</code></a><code class=Cm>intrcnt</code></dt><dd>Dump the interrupt statistics. <p class=Pp></p></dd><dt><a class=permalink href=#show_32><code class=Ic id=show_32>show</code></a><code class=Cm>irqs</code></dt><dd>Show interrupt lines and their respective kernel threads. <p class=Pp></p></dd><dt><a class=permalink href=#show_33><code class=Ic id=show_33>show</code></a><code class=Cm>jails</code></dt><dd>Show the list of <a class=Xr href=jail.8.html>jail(8)</a> instances. In addition to what <a class=Xr href=jls.8.html>jls(8)</a> shows, also list kernel internal details. <p class=Pp></p></dd><dt><a class=permalink href=#show_34><code class=Ic id=show_34>show</code></a><code class=Cm>lapic</code></dt><dd>Show information from the local APIC registers for this CPU. <p class=Pp></p></dd><dt><a class=permalink href=#show_35><code class=Ic id=show_35>show</code></a><code class=Cm>lock</code><var class=Ar>addr</var></dt><dd>Show lock structure. The output format is as follows: <dl class=Bl-tag><dt><a class=permalink href=#class:><code class=Ic id=class:>class:</code></a></dt><dd>Class of the lock. Possible types include <a class=Xr href=mutex.9.html>mutex(9)</a>, <a class=Xr href=rmlock.9.html>rmlock(9)</a>, <a class=Xr href=rwlock.9.html>rwlock(9)</a>, <a class=Xr href=sx.9.html>sx(9)</a>.</dd><dt><a class=permalink href=#name:><code class=Ic id=name:>name:</code></a></dt><dd>Name of the lock.</dd><dt><a class=permalink href=#flags:><code class=Ic id=flags:>flags:</code></a></dt><dd>Flags passed to the lock initialization function. <i class=Em>flags</i> values are lock class specific.</dd><dt><a class=permalink href=#state:><code class=Ic id=state:>state:</code></a></dt><dd>Current state of a lock. <i class=Em>state</i> values are lock class specific.</dd><dt><a class=permalink href=#owner:><code class=Ic id=owner:>owner:</code></a></dt><dd>Lock owner.</dd></dl><p class=Pp></p></dd><dt><a class=permalink href=#show_36><code class=Ic id=show_36>show</code></a><code class=Cm>lockchain</code><var class=Ar>addr</var></dt><dd>Show all threads a particular thread at address <var class=Ar>addr</var> is waiting on based on non-spin locks. <p class=Pp></p></dd><dt><a class=permalink href=#show_37><code class=Ic id=show_37>show</code></a><code class=Cm>lockedbufs</code></dt><dd>Show the same information as "show buf", but for every locked <var class=Vt>struct buf</var> object. <p class=Pp></p></dd><dt><a class=permalink href=#show_38><code class=Ic id=show_38>show</code></a><code class=Cm>lockedvnods</code></dt><dd>List all locked vnodes in the system. <p class=Pp></p></dd><dt><a class=permalink href=#show_39><code class=Ic id=show_39>show</code></a><code class=Cm>locks</code></dt><dd>Prints all locks that are currently acquired. This command is only available if <a class=Xr href=witness.4.html>witness(4)</a> is included in the kernel. <p class=Pp></p></dd><dt><a class=permalink href=#show_40><code class=Ic id=show_40>show</code></a><code class=Cm>locktree</code></dt><dd><p class=Pp></p></dd><dt><a class=permalink href=#show_41><code class=Ic id=show_41>show</code></a><code class=Cm>malloc</code>[<code class=Li>/</code><code class=Cm>i</code>]</dt><dd>Prints <a class=Xr href=malloc.9.html>malloc(9)</a> memory allocator statistics. If the <code class=Cm>i</code> modifier is specified, format output as machine-parseable comma-separated values ("CSV"). The output columns are as follows: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#Type><code class=Ic id=Type>Type</code></a></dt><dd>Specifies a type of memory. It is the same as a description string used while defining the given memory type with <a class=Xr href=MALLOC_DECLARE.9.html>MALLOC_DECLARE(9)</a>.</dd><dt><a class=permalink href=#InUse><code class=Ic id=InUse>InUse</code></a></dt><dd>Number of memory allocations of the given type, for which <a class=Xr href=free.9.html>free(9)</a> has not been called yet.</dd><dt><a class=permalink href=#MemUse><code class=Ic id=MemUse>MemUse</code></a></dt><dd>Total memory consumed by the given allocation type.</dd><dt><a class=permalink href=#Requests><code class=Ic id=Requests>Requests</code></a></dt><dd>Number of memory allocation requests for the given memory type.</dd></dl></div><p class=Pp>The same information can be gathered in userspace with “<code class=Nm>vmstat</code><code class=Fl>-m</code>”.</p><p class=Pp></p></dd><dt><a class=permalink href=#show_42><code class=Ic id=show_42>show</code></a><code class=Cm>map</code>[<code class=Li>/</code><code class=Cm>f</code>] <var class=Ar>addr</var></dt><dd>Prints the VM map at <var class=Ar>addr</var>. If the <code class=Cm>f</code> modifier is specified the complete map is printed. <p class=Pp></p></dd><dt><a class=permalink href=#show_43><code class=Ic id=show_43>show</code></a><code class=Cm>msgbuf</code></dt><dd>Print the system's message buffer. It is the same output as in the “<code class=Nm>dmesg</code>” case. It is useful if you got a kernel panic, attached a serial cable to the machine and want to get the boot messages from before the system hang.</dd><dt><a class=permalink href=#show_44><code class=Ic id=show_44>show</code></a><code class=Cm>mount</code></dt><dd>Displays short info about all currently mounted file systems. <p class=Pp></p></dd><dt><a class=permalink href=#show_45><code class=Ic id=show_45>show</code></a><code class=Cm>mount</code><var class=Ar>addr</var></dt><dd>Displays details about the given mount point. <p class=Pp></p></dd><dt><a class=permalink href=#show_46><code class=Ic id=show_46>show</code></a><code class=Cm>object</code>[<code class=Li>/</code><code class=Cm>f</code>] <var class=Ar>addr</var></dt><dd>Prints the VM object at <var class=Ar>addr</var>. If the <code class=Cm>f</code> option is specified the complete object is printed. <p class=Pp></p></dd><dt><a class=permalink href=#show_47><code class=Ic id=show_47>show</code></a><code class=Cm>panic</code></dt><dd>Print the panic message if set. <p class=Pp></p></dd><dt><a class=permalink href=#show_48><code class=Ic id=show_48>show</code></a><code class=Cm>page</code></dt><dd>Show statistics on VM pages. <p class=Pp></p></dd><dt><a class=permalink href=#show_49><code class=Ic id=show_49>show</code></a><code class=Cm>pageq</code></dt><dd>Show statistics on VM page queues. <p class=Pp></p></dd><dt><a class=permalink href=#show_50><code class=Ic id=show_50>show</code></a><code class=Cm>pciregs</code></dt><dd>Print PCI bus registers. The same information can be gathered in userspace by running “<code class=Nm>pciconf</code><code class=Fl>-lv</code>”. <p class=Pp></p></dd><dt><a class=permalink href=#show_51><code class=Ic id=show_51>show</code></a><code class=Cm>pcpu</code></dt><dd>Print current processor state. The output format is as follows: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#cpuid><code class=Ic id=cpuid>cpuid</code></a></dt><dd>Processor identifier.</dd><dt><a class=permalink href=#curthread><code class=Ic id=curthread>curthread</code></a></dt><dd>Thread pointer, process identifier and the name of the process.</dd><dt><a class=permalink href=#curpcb><code class=Ic id=curpcb>curpcb</code></a></dt><dd>Control block pointer.</dd><dt><a class=permalink href=#fpcurthread><code class=Ic id=fpcurthread>fpcurthread</code></a></dt><dd>FPU thread pointer.</dd><dt><a class=permalink href=#idlethread><code class=Ic id=idlethread>idlethread</code></a></dt><dd>Idle thread pointer.</dd><dt><a class=permalink href=#APIC_ID><code class=Ic id=APIC_ID>APIC ID</code></a></dt><dd>CPU identifier coming from APIC.</dd><dt><a class=permalink href=#currentldt><code class=Ic id=currentldt>currentldt</code></a></dt><dd>LDT pointer.</dd><dt><a class=permalink href=#spin_locks_held><code class=Ic id=spin_locks_held>spin locks held</code></a></dt><dd>Names of spin locks held.</dd></dl></div><p class=Pp></p></dd><dt><a class=permalink href=#show_52><code class=Ic id=show_52>show</code></a><code class=Cm>pgrpdump</code></dt><dd>Dump process groups present within the system. <p class=Pp></p></dd><dt><a class=permalink href=#show_53><code class=Ic id=show_53>show</code></a><code class=Cm>proc</code> [<var class=Ar>addr</var>]</dt><dd>If no [<var class=Ar>addr</var>] is specified, print information about the current process. Otherwise, show information about the process at address <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_54><code class=Ic id=show_54>show</code></a><code class=Cm>procvm</code></dt><dd>Show process virtual memory layout. <p class=Pp></p></dd><dt><a class=permalink href=#show_55><code class=Ic id=show_55>show</code></a><code class=Cm>protosw</code><var class=Ar>addr</var></dt><dd>Print protocol switch structure <var class=Vt>struct protosw</var> at address <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_56><code class=Ic id=show_56>show</code></a><code class=Cm>registers</code>[<code class=Li>/</code><code class=Cm>u</code>]</dt><dd>Display the register set. If the <code class=Cm>u</code> modifier is specified, the register contents of the thread's previous trapframe are displayed instead. Usually, this corresponds to the saved state from userspace. <p class=Pp></p></dd><dt><a class=permalink href=#show_57><code class=Ic id=show_57>show</code></a><code class=Cm>rman</code><var class=Ar>addr</var></dt><dd>Show resource manager object <var class=Vt>struct rman</var> at address <var class=Ar>addr</var>. Addresses of particular pointers can be gathered with "show allrman" command. <p class=Pp></p></dd><dt><a class=permalink href=#show_58><code class=Ic id=show_58>show</code></a><code class=Cm>route</code><var class=Ar>addr</var></dt><dd>Show route table result for destination <var class=Ar>addr</var>. At this time, INET and INET6 formatted addresses are supported. <p class=Pp></p></dd><dt><a class=permalink href=#show_59><code class=Ic id=show_59>show</code></a><code class=Cm>routetable</code> [<var class=Ar>af</var>]</dt><dd>Show full route table or tables. If <var class=Ar>af</var> is specified, show only routes for the given numeric address family. If no argument is specified, dump the route table for all address families. <p class=Pp></p></dd><dt><a class=permalink href=#show_60><code class=Ic id=show_60>show</code></a><code class=Cm>rtc</code></dt><dd>Show real time clock value. Useful for long debugging sessions. <p class=Pp></p></dd><dt><a class=permalink href=#show_61><code class=Ic id=show_61>show</code></a><code class=Cm>sleepchain</code></dt><dd>Deprecated. Now an alias for <code class=Ic>show</code><code class=Cm>lockchain</code>. <p class=Pp></p></dd><dt><a class=permalink href=#show_62><code class=Ic id=show_62>show</code></a><code class=Cm>sleepq</code></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#show_63><code class=Ic id=show_63>show</code></a><code class=Cm>sleepqueue</code></dt><dd>Both commands provide the same functionality. They show sleepqueue <var class=Vt>struct sleepqueue</var> structure. Sleepqueues are used within the <span class=Ux>FreeBSD</span> kernel to implement sleepable synchronization primitives (thread holding a lock might sleep or be context switched), which at the time of writing are: <a class=Xr href=condvar.9.html>condvar(9)</a>, <a class=Xr href=sx.9.html>sx(9)</a> and standard <a class=Xr href=msleep.9.html>msleep(9)</a> interface. <p class=Pp></p></dd><dt><a class=permalink href=#show_64><code class=Ic id=show_64>show</code></a><code class=Cm>sockbuf</code><var class=Ar>addr</var></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#show_65><code class=Ic id=show_65>show</code></a><code class=Cm>socket</code><var class=Ar>addr</var></dt><dd>Those commands print <var class=Vt>struct sockbuf</var> and <var class=Vt>struct socket</var> objects placed at <var class=Ar>addr</var>. Output consists of all values present in structures mentioned. For exact interpretation and more details, visit <span class=Pa>sys/socket.h</span> header file. <p class=Pp></p></dd><dt><a class=permalink href=#show_66><code class=Ic id=show_66>show</code></a><code class=Cm>sysregs</code></dt><dd>Show system registers (e.g., <code class=Li>cr0-4</code> on i386.) Not present on some platforms. <p class=Pp></p></dd><dt><a class=permalink href=#show_67><code class=Ic id=show_67>show</code></a><code class=Cm>tcpcb</code><var class=Ar>addr</var></dt><dd>Print TCP control block <var class=Vt>struct tcpcb</var> lying at address <var class=Ar>addr</var>. For exact interpretation of output, visit <span class=Pa>netinet/tcp.h</span> header file. <p class=Pp></p></dd><dt><a class=permalink href=#show_68><code class=Ic id=show_68>show</code></a><code class=Cm>thread</code> [<var class=Ar>addr</var> | <var class=Ar>tid</var>]</dt><dd>If no <var class=Ar>addr</var> or <var class=Ar>tid</var> is specified, show detailed information about current thread. Otherwise, print information about the thread with ID <var class=Ar>tid</var> or kernel address <var class=Ar>addr</var>. (If the argument is a decimal number, it is assumed to be a tid.) <p class=Pp></p></dd><dt><a class=permalink href=#show_69><code class=Ic id=show_69>show</code></a><code class=Cm>threads</code></dt><dd>Show all threads within the system. Output format is as follows: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#First_column><code class=Ic id=First_column>First column</code></a></dt><dd>Thread identifier (TID)</dd><dt><a class=permalink href=#Second_column><code class=Ic id=Second_column>Second column</code></a></dt><dd>Thread structure address</dd><dt><a class=permalink href=#Third_column><code class=Ic id=Third_column>Third column</code></a></dt><dd>Backtrace.</dd></dl></div><p class=Pp></p></dd><dt><a class=permalink href=#show_70><code class=Ic id=show_70>show</code></a><code class=Cm>tty</code><var class=Ar>addr</var></dt><dd>Display the contents of a TTY structure in a readable form. <p class=Pp></p></dd><dt><a class=permalink href=#show_71><code class=Ic id=show_71>show</code></a><code class=Cm>turnstile</code><var class=Ar>addr</var></dt><dd>Show turnstile <var class=Vt>struct turnstile</var> structure at address <var class=Ar>addr</var>. Turnstiles are structures used within the <span class=Ux>FreeBSD</span> kernel to implement synchronization primitives which, while holding a specific type of lock, cannot sleep or context switch to another thread. Currently, those are: <a class=Xr href=mutex.9.html>mutex(9)</a>, <a class=Xr href=rwlock.9.html>rwlock(9)</a>, <a class=Xr href=rmlock.9.html>rmlock(9)</a>. <p class=Pp></p></dd><dt><a class=permalink href=#show_72><code class=Ic id=show_72>show</code></a><code class=Cm>uma</code>[<code class=Li>/</code><code class=Cm>i</code>]</dt><dd>Show UMA allocator statistics. If the <code class=Cm>i</code> modifier is specified, format output as machine-parseable comma-separated values ("CSV"). The output contains the following columns: <p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#Zone><code class=Cm id=Zone>Zone</code></a></dt><dd>Name of the UMA zone. The same string that was passed to <a class=Xr href=uma_zcreate.9.html>uma_zcreate(9)</a> as a first argument.</dd><dt><a class=permalink href=#Size><code class=Cm id=Size>Size</code></a></dt><dd>Size of a given memory object (slab).</dd><dt><a class=permalink href=#Used><code class=Cm id=Used>Used</code></a></dt><dd>Number of slabs being currently used.</dd><dt><a class=permalink href=#Free><code class=Cm id=Free>Free</code></a></dt><dd>Number of free slabs within the UMA zone.</dd><dt><a class=permalink href=#Requests_2><code class=Cm id=Requests_2>Requests</code></a></dt><dd>Number of allocations requests to the given zone.</dd><dt><a class=permalink href=#Total_Mem><code class=Cm id=Total_Mem>Total Mem</code></a></dt><dd>Total memory in use (either allocated or free) by a zone, in bytes.</dd><dt><a class=permalink href=#XFree><code class=Cm id=XFree>XFree</code></a></dt><dd>Number of free slabs within the UMA zone that were freed on a different NUMA domain than allocated. (The count in the <code class=Cm>Free</code> column is inclusive of <code class=Cm>XFree</code>.)</dd></dl></div><p class=Pp>The same information might be gathered in the userspace with the help of “<code class=Nm>vmstat</code><code class=Fl>-z</code>”.</p><p class=Pp></p></dd><dt><a class=permalink href=#show_73><code class=Ic id=show_73>show</code></a><code class=Cm>unpcb</code><var class=Ar>addr</var></dt><dd>Shows UNIX domain socket private control block <var class=Vt>struct unpcb</var> present at the address <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_74><code class=Ic id=show_74>show</code></a><code class=Cm>vmochk</code></dt><dd>Prints, whether the internal VM objects are in a map somewhere and none have zero ref counts. <p class=Pp></p></dd><dt><a class=permalink href=#show_75><code class=Ic id=show_75>show</code></a><code class=Cm>vmopag</code></dt><dd>This is supposed to show physical addresses consumed by a VM object. Currently, it is not possible to use this command when <a class=Xr href=witness.4.html>witness(4)</a> is compiled in the kernel. <p class=Pp></p></dd><dt><a class=permalink href=#show_76><code class=Ic id=show_76>show</code></a><code class=Cm>vnet</code><var class=Ar>addr</var></dt><dd>Prints virtualized network stack <var class=Vt>struct vnet</var> structure present at the address <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_77><code class=Ic id=show_77>show</code></a><code class=Cm>vnode</code> [<var class=Ar>addr</var>]</dt><dd>Prints vnode <var class=Vt>struct vnode</var> structure lying at [<var class=Ar>addr</var>]. For the exact interpretation of the output, look at the <span class=Pa>sys/vnode.h</span> header file. <p class=Pp></p></dd><dt><a class=permalink href=#show_78><code class=Ic id=show_78>show</code></a><code class=Cm>vnodebufs</code><var class=Ar>addr</var></dt><dd>Shows clean/dirty buffer lists of the vnode located at <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_79><code class=Ic id=show_79>show</code></a><code class=Cm>vpath</code><var class=Ar>addr</var></dt><dd>Walk the namecache to lookup the pathname of the vnode located at <var class=Ar>addr</var>. <p class=Pp></p></dd><dt><a class=permalink href=#show_80><code class=Ic id=show_80>show</code></a><code class=Cm>watches</code></dt><dd>Displays all watchpoints. Shows watchpoints set with "watch" command. <p class=Pp></p></dd><dt><a class=permalink href=#show_81><code class=Ic id=show_81>show</code></a><code class=Cm>witness</code></dt><dd>Shows information about lock acquisition coming from the <a class=Xr href=witness.4.html>witness(4)</a> subsystem.</dd></dl></section><section class=Ss><h2 class=Ss id=OFFLINE_DEBUGGING_COMMANDS><a class=permalink href=#OFFLINE_DEBUGGING_COMMANDS>OFFLINE DEBUGGING COMMANDS</a></h2><dl class="Bl-tag Bl-compact"><dt><a class=permalink href=#gdb><code class=Ic id=gdb>gdb</code></a></dt><dd>Switches to remote GDB mode. In remote GDB mode, another machine is required that runs <a class=Xr href=gdb.1.html>gdb(1)</a> (<span class=Pa>ports/devel/gdb</span>) using the remote debug feature, with a connection to the serial console port on the target machine. <p class=Pp></p></dd><dt><a class=permalink href=#netdump><code class=Ic id=netdump>netdump</code></a><code class=Fl>-s</code><var class=Ar>server</var> [<code class=Fl>-g</code><var class=Ar>gateway</var><code class=Fl>-c</code><var class=Ar>client</var><code class=Fl>-i</code><var class=Ar>iface</var>]</dt><dd>Configure <a class=Xr href=netdump.4.html>netdump(4)</a> with the provided parameters, and immediately perform a netdump. <p class=Pp>There are some known limitations. Principally, <a class=Xr href=netdump.4.html>netdump(4)</a> only supports IPv4 at this time. The address arguments to the <code class=Ic>netdump</code> command must be dotted decimal IPv4 addresses. (Hostnames are not supported.) At present, the command only works if the machine is in a panic state. Finally, the <code class=Nm>ddb</code><code class=Ic>netdump</code> command does not provide any way to configure compression or encryption.</p><p class=Pp></p></dd><dt><a class=permalink href=#netgdb><code class=Ic id=netgdb>netgdb</code></a><code class=Fl>-s</code><var class=Ar>server</var> [<code class=Fl>-g</code><var class=Ar>gateway</var><code class=Fl>-c</code><var class=Ar>client</var><code class=Fl>-i</code><var class=Ar>iface</var>]</dt><dd>Initiate a <a class=Xr href=netgdb.4.html>netgdb(4)</a> session with the provided parameters. <p class=Pp><code class=Ic>netgdb</code> has identical limitations to <code class=Ic>netdump</code>.</p><p class=Pp></p></dd><dt><a class=permalink href=#capture_on><code class=Ic id=capture_on>capture on</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#capture_off><code class=Ic id=capture_off>capture off</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#capture_reset><code class=Ic id=capture_reset>capture reset</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#capture_status><code class=Ic id=capture_status>capture status</code></a></dt><dd><code class=Nm>ddb</code> supports a basic output capture facility, which can be used to retrieve the results of debugging commands from userspace using <a class=Xr href=sysctl.3.html>sysctl(3)</a>. <code class=Ic>capture on</code> enables output capture; <code class=Ic>capture off</code> disables capture. <code class=Ic>capture reset</code> will clear the capture buffer and disable capture. <code class=Ic>capture status</code> will report current buffer use, buffer size, and disposition of output capture. <p class=Pp>Userspace processes may inspect and manage <code class=Nm>ddb</code> capture state using <a class=Xr href=sysctl.8.html>sysctl(8)</a>:</p><p class=Pp><var class=Va>debug.ddb.capture.bufsize</var> may be used to query or set the current capture buffer size.</p><p class=Pp><var class=Va>debug.ddb.capture.maxbufsize</var> may be used to query the compile-time limit on the capture buffer size.</p><p class=Pp><var class=Va>debug.ddb.capture.bytes</var> may be used to query the number of bytes of output currently in the capture buffer.</p><p class=Pp><var class=Va>debug.ddb.capture.data</var> returns the contents of the buffer as a string to an appropriately privileged process.</p><p class=Pp>This facility is particularly useful in concert with the scripting and <a class=Xr href=textdump.4.html>textdump(4)</a> facilities, allowing scripted debugging output to be captured and committed to disk as part of a textdump for later analysis. The contents of the capture buffer may also be inspected in a kernel core dump using <a class=Xr href=kgdb.1.html>kgdb(1)</a> (<span class=Pa>ports/devel/gdb</span>).</p><p class=Pp></p></dd><dt><a class=permalink href=#run><code class=Ic id=run>run</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#script><code class=Ic id=script>script</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#scripts><code class=Ic id=scripts>scripts</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#unscript><code class=Ic id=unscript>unscript</code></a></dt><dd>Run, define, list, and delete scripts. See the <a class=Sx href=#SCRIPTING>SCRIPTING</a> section for more information on the scripting facility. <p class=Pp></p></dd><dt><a class=permalink href=#textdump_dump><code class=Ic id=textdump_dump>textdump dump</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#textdump_set><code class=Ic id=textdump_set>textdump set</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#textdump_status><code class=Ic id=textdump_status>textdump status</code></a></dt><dd style="width: auto;"> </dd><dt><a class=permalink href=#textdump_unset><code class=Ic id=textdump_unset>textdump unset</code></a></dt><dd>Use the <code class=Ic>textdump dump</code> command to immediately perform a textdump. More information may be found in <a class=Xr href=textdump.4.html>textdump(4)</a>. The <code class=Ic>textdump set</code> command may be used to force the next kernel core dump to be a textdump rather than a traditional memory dump or minidump. <code class=Ic>textdump status</code> reports whether a textdump has been scheduled. <code class=Ic>textdump unset</code> cancels a request to perform a textdump as the next kernel core dump.</dd></dl></section></section><section class=Sh><h2 class=Sh id=VARIABLES><a class=permalink href=#VARIABLES>VARIABLES</a></h2> The debugger accesses registers and variables as <code class=Li>$</code><var class=Ar>name</var>. Register names are as in the “<code class=Ic>show</code><code class=Cm>registers</code>” command. Some variables are suffixed with numbers, and may have some modifier following a colon immediately after the variable name. For example, register variables can have a <code class=Cm>u</code> modifier to indicate user register (e.g., “<code class=Li>$eax:u</code>”). <p class=Pp>Built-in variables currently supported are:</p><p class=Pp></p><dl class="Bl-tag Bl-compact"><dt><var class=Va>radix</var></dt><dd>Input and output radix.</dd><dt><var class=Va>maxoff</var></dt><dd>Addresses are printed as “<var class=Ar>symbol</var><code class=Li>+</code><var class=Ar>offset</var>” unless <var class=Ar>offset</var> is greater than <var class=Va>maxoff</var>.</dd><dt><var class=Va>maxwidth</var></dt><dd>The width of the displayed line.</dd><dt><var class=Va>lines</var></dt><dd>The number of lines. It is used by the built-in pager. Setting it to 0 disables paging.</dd><dt><var class=Va>tabstops</var></dt><dd>Tab stop width.</dd><dt><var class=Va>work</var><var class=Ar>xx</var></dt><dd>Work variable; <var class=Ar>xx</var> can take values from 0 to 31.</dd></dl></section><section class=Sh><h2 class=Sh id=EXPRESSIONS><a class=permalink href=#EXPRESSIONS>EXPRESSIONS</a></h2> Most expression operators in C are supported except ‘<code class=Li>~</code>’, ‘<code class=Li>^</code>’, and unary ‘<code class=Li>&amp;</code>’. Special rules in <code class=Nm>ddb</code> are: <dl class=Bl-tag><dt>Identifiers</dt><dd>The name of a symbol is translated to the value of the symbol, which is the address of the corresponding object. ‘<code class=Li>.</code>’ and ‘<code class=Li>:</code>’ can be used in the identifier. If supported by an object format dependent routine, [<var class=Ar>filename</var>:]<var class=Ar>func</var>:<var class=Ar>lineno</var>, [<var class=Ar>filename</var>:]<var class=Ar>variable</var>, and [<var class=Ar>filename</var>:]<var class=Ar>lineno</var> can be accepted as a symbol.</dd><dt>Numbers</dt><dd>Radix is determined by the first two letters: ‘<code class=Li>0x</code>’: hex, ‘<code class=Li>0o</code>’: octal, ‘<code class=Li>0t</code>’: decimal; otherwise, follow current radix.</dd><dt><a class=permalink href=#.><code class=Li id=.>.</code></a></dt><dd><var class=Va>dot</var></dd><dt><a class=permalink href=#+><code class=Li id=+>+</code></a></dt><dd><var class=Va>next</var></dd><dt><a class=permalink href=#..><code class=Li id=..>..</code></a></dt><dd>address of the start of the last line examined. Unlike <var class=Va>dot</var> or <var class=Va>next</var>, this is only changed by <code class=Ic>examine</code> or <code class=Ic>write</code> command.</dd><dt><a class=permalink href="#'"><code class=Li id="'">'</code></a></dt><dd>last address explicitly specified.</dd><dt><a class=permalink href=#$><code class=Li id=$>$</code></a><var class=Ar>variable</var></dt><dd>Translated to the value of the specified variable. It may be followed by a ‘<code class=Li>:</code>’ and modifiers as described above.</dd><dt><var class=Ar>a</var><code class=Li>#</code><var class=Ar>b</var></dt><dd>A binary operator which rounds up the left hand side to the next multiple of right hand side.</dd><dt><a class=permalink href=#*><code class=Li id=*>*</code></a><var class=Ar>expr</var></dt><dd>Indirection. It may be followed by a ‘<code class=Li>:</code>’ and modifiers as described above.</dd></dl></section><section class=Sh><h2 class=Sh id=SCRIPTING><a class=permalink href=#SCRIPTING>SCRIPTING</a></h2><code class=Nm>ddb</code> supports a basic scripting facility to allow automating tasks or responses to specific events. Each script consists of a list of DDB commands to be executed sequentially, and is assigned a unique name. Certain script names have special meaning, and will be automatically run on various <code class=Nm>ddb</code> events if scripts by those names have been defined. <p class=Pp>The <code class=Ic>script</code> command may be used to define a script by name. Scripts consist of a series of <code class=Nm>ddb</code> commands separated with the ‘<code class=Li>;</code>’ character. For example:</p><div class="Bd Pp Bd-indent"><pre>
script kdb.enter.panic=bt; show pcpu
script lockinfo=show alllocks; show lockedvnods
</pre></div><p class=Pp>The <code class=Ic>scripts</code> command lists currently defined scripts.</p><p class=Pp>The <code class=Ic>run</code> command execute a script by name. For example:</p><div class="Bd Pp Bd-indent"><pre>
run lockinfo
</pre></div><p class=Pp>The <code class=Ic>unscript</code> command may be used to delete a script by name. For example:</p><div class="Bd Pp Bd-indent"><pre>
unscript kdb.enter.panic
</pre></div><p class=Pp>These functions may also be performed from userspace using the <a class=Xr href=ddb.8.html>ddb(8)</a> command.</p><p class=Pp>Certain scripts are run automatically, if defined, for specific <code class=Nm>ddb</code> events. The follow scripts are run when various events occur:</p><dl class=Bl-tag><dt><var class=Va>kdb.enter.acpi</var></dt><dd>The kernel debugger was entered as a result of an <a class=Xr href=acpi.4.html>acpi(4)</a> event.</dd><dt><var class=Va>kdb.enter.bootflags</var></dt><dd>The kernel debugger was entered at boot as a result of the debugger boot flag being set.</dd><dt><var class=Va>kdb.enter.break</var></dt><dd>The kernel debugger was entered as a result of a serial or console break.</dd><dt><var class=Va>kdb.enter.cam</var></dt><dd>The kernel debugger was entered as a result of a <a class=Xr href=CAM.4.html>CAM(4)</a> event.</dd><dt><var class=Va>kdb.enter.mac</var></dt><dd>The kernel debugger was entered as a result of an assertion failure in the <a class=Xr href=mac_test.4.html>mac_test(4)</a> module of the TrustedBSD MAC Framework.</dd><dt><var class=Va>kdb.enter.netgraph</var></dt><dd>The kernel debugger was entered as a result of a <a class=Xr href=netgraph.4.html>netgraph(4)</a> event.</dd><dt><var class=Va>kdb.enter.panic</var></dt><dd><a class=Xr href=panic.9.html>panic(9)</a> was called.</dd><dt><var class=Va>kdb.enter.powerpc</var></dt><dd>The kernel debugger was entered as a result of an unimplemented interrupt type on the powerpc platform.</dd><dt><var class=Va>kdb.enter.sysctl</var></dt><dd>The kernel debugger was entered as a result of the <var class=Va>debug.kdb.enter</var> sysctl being set.</dd><dt><var class=Va>kdb.enter.unionfs</var></dt><dd>The kernel debugger was entered as a result of an assertion failure in the union file system.</dd><dt><var class=Va>kdb.enter.unknown</var></dt><dd>The kernel debugger was entered, but no reason has been set.</dd><dt><var class=Va>kdb.enter.vfslock</var></dt><dd>The kernel debugger was entered as a result of a VFS lock violation.</dd><dt><var class=Va>kdb.enter.watchdog</var></dt><dd>The kernel debugger was entered as a result of a watchdog firing.</dd><dt><var class=Va>kdb.enter.witness</var></dt><dd>The kernel debugger was entered as a result of a <a class=Xr href=witness.4.html>witness(4)</a> violation.</dd></dl><p class=Pp>In the event that none of these scripts is found, <code class=Nm>ddb</code> will attempt to execute a default script:</p><dl class=Bl-tag><dt><var class=Va>kdb.enter.default</var></dt><dd>The kernel debugger was entered, but a script exactly matching the reason for entering was not defined. This can be used as a catch-all to handle cases not specifically of interest; for example, <var class=Va>kdb.enter.witness</var> might be defined to have special handling, and <var class=Va>kdb.enter.default</var> might be defined to simply panic and reboot.</dd></dl></section><section class=Sh><h2 class=Sh id=HINTS><a class=permalink href=#HINTS>HINTS</a></h2> On machines with an ISA expansion bus, a simple NMI generation card can be constructed by connecting a push button between the A01 and B01 (CHCHK# and GND) card fingers. Momentarily shorting these two fingers together may cause the bridge chipset to generate an NMI, which causes the kernel to pass control to <code class=Nm>ddb</code>. Some bridge chipsets do not generate a NMI on CHCHK#, so your mileage may vary. The NMI allows one to break into the debugger on a wedged machine to diagnose problems. Other bus' bridge chipsets may be able to generate NMI using bus specific methods. There are many PCI and PCIe add-in cards which can generate NMI for debugging. Modern server systems typically use IPMI to generate signals to enter the debugger. The <var class=Va>devel/ipmitool</var> port can be used to send the <code class=Cd>chassis power diag</code> command which delivers an NMI to the processor. Embedded systems often use JTAG for debugging, but rarely use it in combination with <code class=Nm>ddb</code>. <p class=Pp>Serial consoles can break to the debugger by sending a BREAK condition on the serial line. This requires a kernel built with <code class=Cd>options BREAK_TO_DEBUGGER</code> is specified in the kernel. Most terminal emulation programs can send a break sequence with a special key sequence or menu selection. Sending the break can be difficult or even happen spuriously in some setups. An alternative method is to build a kernel with <code class=Cd>options ALT_BREAK_TO_DEBUGGER</code> then the sequence of CR TILDE CTRL-B enters the debugger; CR TILDE CTRL-P causes a panic; and CR TILDE CTRL-R causes an immediate reboot. In all these sequences, CR represents Carriage Return and is usually sent by pressing the Enter or Return key. TILDE is the ASCII tilde character (~). CTRL-x is Control x, send by pressing the Control key, then x, then releasing both. and then releasing both.</p><p class=Pp>The break-to-debugger behavior can be enabled by setting <a class=Xr href=sysctl.8.html>sysctl(8)</a><var class=Va>debug.kdb.break_to_debugger</var> to 1. The alt-break-to-debugger behavior can be enabled by setting <a class=Xr href=sysctl.8.html>sysctl(8)</a><var class=Va>debug.kdb.alt_break_to_debugger</var> to 1. The debugger can be entered by setting <a class=Xr href=sysctl.8.html>sysctl(8)</a><var class=Va>debug.kdb.enter</var> to 1.</p><p class=Pp>Output can be interrupted, paused, and resumed with the control characters CTRL-C, CTRL-S, and CTRL-Q. Because these control characters are received as in-band data from the console, there is an input buffer, and once that buffer fills <code class=Nm>ddb</code> must either stop responding to control characters or drop additional input while continuing to search for control characters. This behavior is controlled by the tunable <a class=Xr href=sysctl.8.html>sysctl(8)</a><var class=Va>debug.ddb.prioritize_control_input</var>, which defaults to 1. The input buffer size is 512 bytes.</p></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2> Header files mentioned in this manual page can be found below <span class=Pa>/usr/include</span> directory. <p class=Pp></p><ul class="Bl-dash Bl-compact"><li><span class=Pa>sys/buf.h</span></li><li><span class=Pa>sys/domain.h</span></li><li><span class=Pa>netinet/in_pcb.h</span></li><li><span class=Pa>sys/socket.h</span></li><li><span class=Pa>sys/vnode.h</span></li></ul></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=gdb.1.html>gdb(1)</a> (<span class=Pa>ports/devel/gdb</span>), <a class=Xr href=kgdb.1.html>kgdb(1)</a> (<span class=Pa>ports/devel/gdb</span>), <a class=Xr href=acpi.4.html>acpi(4)</a>, <a class=Xr href=CAM.4.html>CAM(4)</a>, <a class=Xr href=mac_ddb.4.html>mac_ddb(4)</a>, <a class=Xr href=mac_test.4.html>mac_test(4)</a>, <a class=Xr href=netgraph.4.html>netgraph(4)</a>, <a class=Xr href=textdump.4.html>textdump(4)</a>, <a class=Xr href=witness.4.html>witness(4)</a>, <a class=Xr href=ddb.8.html>ddb(8)</a>, <a class=Xr href=sysctl.8.html>sysctl(8)</a>, <a class=Xr href=panic.9.html>panic(9)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>ddb</code> debugger was developed for Mach, and ported to <span class=Ux>386BSD-0.1</span>. This manual page translated from <a class=Xr href=man.7.html>man(7)</a> macros by <span class=An>Garrett Wollman</span>. <p class=Pp><span class=An>Robert N. M. Watson</span> added support for <code class=Nm>ddb</code> output capture, <a class=Xr href=textdump.4.html>textdump(4)</a> and scripting in <span class=Ux>FreeBSD 7.1</span>.</p></section></div><table class=foot><tr><td class=foot-date>March 14, 2021</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>