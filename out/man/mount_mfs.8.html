<!DOCTYPE html>
<html><head><meta charset=utf-8><title>mount_mfs(8)</title><keywords content=man,mount_mfs></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>mount_mfs(8)</h1><table class=head><tr><td class=head-ltitle>MDMFS(8)</td><td class=head-vol>FreeBSD System Manager's Manual</td><td class=head-rtitle>MDMFS(8)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>mdmfs</code>, <code class=Nm>mount_mfs</code> — <div class=Nd>configure and mount an in-memory file system using the <a class=Xr href=md.4.html>md(4)</a> driver or the <a class=Xr href=tmpfs.5.html>tmpfs(5)</a> filesystem</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>mdmfs</code></td><td>[<code class=Fl>-DLlMNnPStTUX</code>] [<code class=Fl>-a</code><var class=Ar>maxcontig</var>] [<code class=Fl>-b</code><var class=Ar>block-size</var>] [<code class=Fl>-c</code><var class=Ar>blocks-per-cylinder-group</var>] [<code class=Fl>-d</code><var class=Ar>max-extent-size</var>] [<code class=Fl>-E</code><var class=Ar>path-mdconfig</var>] [<code class=Fl>-e</code><var class=Ar>maxbpg</var>] [<code class=Fl>-F</code><var class=Ar>file</var>] [<code class=Fl>-f</code><var class=Ar>frag-size</var>] [<code class=Fl>-i</code><var class=Ar>bytes</var>] [<code class=Fl>-k</code><var class=Ar>skel</var>] [<code class=Fl>-m</code><var class=Ar>percent-free</var>] [<code class=Fl>-O</code><var class=Ar>optimization</var>] [<code class=Fl>-o</code><var class=Ar>mount-options</var>] [<code class=Fl>-p</code><var class=Ar>permissions</var>] [<code class=Fl>-s</code><var class=Ar>size</var>] [<code class=Fl>-T</code><var class=Ar>fstype</var>] [<code class=Fl>-v</code><var class=Ar>version</var>] [<code class=Fl>-w</code><var class=Ar>user</var>:<var class=Ar>group</var>] <var class=Ar>md-device</var><var class=Ar>mount-point</var></td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>mdmfs</code> utility is designed to be a work-alike and look-alike of the deprecated <a class=Xr href=mount_mfs.8.html>mount_mfs(8)</a>. The end result is essentially the same, but is accomplished in a completely different way. Based on <var class=Ar>md-device</var>, the <code class=Nm>mdmfs</code> utility either creates a <a class=Xr href=tmpfs.5.html>tmpfs(5)</a> filesystem, or it configures an <a class=Xr href=md.4.html>md(4)</a> disk using <a class=Xr href=mdconfig.8.html>mdconfig(8)</a>, puts a UFS file system on it (unless <code class=Fl>-P</code> was specified) using <a class=Xr href=newfs.8.html>newfs(8)</a>, and mounts it using <a class=Xr href=mount.8.html>mount(8)</a>. It can handle <a class=Xr href=geom_uzip.4.html>geom_uzip(4)</a> compressed disk images, as long as the kernel supports this GEOM class. All the command line options are passed to the appropriate program at the appropriate stage in order to achieve the desired effect. <p class=Pp>When <var class=Ar>md-device</var> is `auto', <code class=Nm>mdmfs</code> uses <a class=Xr href=tmpfs.5.html>tmpfs(5)</a> if it is present in the kernel or can be loaded as a module, otherwise it falls back to using <a class=Xr href=md.4.html>md(4)</a> auto-unit as if `md' had been specified.</p><p class=Pp>When <var class=Ar>md-device</var> is `tmpfs', <code class=Nm>mdmfs</code> mounts a <a class=Xr href=tmpfs.5.html>tmpfs(5)</a> filesystem, translating the <code class=Fl>-s</code> size option, if present, into a `-o size=' mount option. Any <code class=Fl>-o</code> options on the command line are passed through to the <a class=Xr href=tmpfs.5.html>tmpfs(5)</a> mount. Options specific to <a class=Xr href=mdconfig.8.html>mdconfig(8)</a> or <a class=Xr href=newfs.8.html>newfs(8)</a> are ignored.</p><p class=Pp>When <var class=Ar>md-device</var> does not result in <a class=Xr href=tmpfs.5.html>tmpfs(5)</a> being used, then an <a class=Xr href=md.4.html>md(4)</a> device is configured instead. By default, <code class=Nm>mdmfs</code> creates a swap-based (<code class=Dv>MD_SWAP</code>) disk with soft-updates enabled and mounts it on <var class=Ar>mount-point</var>. It uses the <a class=Xr href=md.4.html>md(4)</a> device specified by <var class=Ar>md-device</var>. If <var class=Ar>md-device</var> is ‘<code class=Li>md</code>’ (no unit number), it will use <a class=Xr href=md.4.html>md(4)</a>'s auto-unit feature to automatically select an unused device. Unless otherwise specified with one of the options below, it uses the default arguments to all the helper programs.</p><p class=Pp>The following options are available. Where possible, the option letter matches the one used by <a class=Xr href=mount_mfs.8.html>mount_mfs(8)</a> for the same thing.</p><dl class=Bl-tag><dt><a class=permalink href=#a><code class=Fl id=a>-a</code></a><var class=Ar>maxcontig</var></dt><dd>Specify the maximum number of contiguous blocks that will be laid out before forcing a rotational delay (see the <code class=Fl>-d</code> option).</dd><dt><a class=permalink href=#b><code class=Fl id=b>-b</code></a><var class=Ar>block-size</var></dt><dd>The block size of the file system, in bytes.</dd><dt><a class=permalink href=#c><code class=Fl id=c>-c</code></a><var class=Ar>blocks-per-cylinder-group</var></dt><dd>The number of blocks per cylinder group in the file system.</dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a></dt><dd>If not using auto-unit, do not run <a class=Xr href=mdconfig.8.html>mdconfig(8)</a> to try to detach the unit before attaching it.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a><var class=Ar>max-extent-size</var></dt><dd>The file system may choose to store large files using extents. This parameter specifies the largest extent size that may be used. It is presently limited to its default value which is 16 times the file system blocksize.</dd><dt><a class=permalink href=#E><code class=Fl id=E>-E</code></a><var class=Ar>path-mdconfig</var></dt><dd>Use <var class=Ar>path-mdconfig</var> as a location of the <a class=Xr href=mdconfig.8.html>mdconfig(8)</a> utility.</dd><dt><a class=permalink href=#e><code class=Fl id=e>-e</code></a><var class=Ar>maxbpg</var></dt><dd>Indicate the maximum number of blocks any single file can allocate out of a cylinder group before it is forced to begin allocating blocks from another cylinder group.</dd><dt><a class=permalink href=#F><code class=Fl id=F>-F</code></a><var class=Ar>file</var></dt><dd>Create a vnode-backed (<code class=Dv>MD_VNODE</code>) memory disk backed by <var class=Ar>file</var>.</dd><dt><a class=permalink href=#f><code class=Fl id=f>-f</code></a><var class=Ar>frag-size</var></dt><dd>The fragment size of the file system in bytes.</dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a><var class=Ar>bytes</var></dt><dd>Number of bytes per inode.</dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a><var class=Ar>skel</var></dt><dd>Copy the content of directory <var class=Ar>skel</var> into <var class=Ar>mount-point</var>.</dd><dt><a class=permalink href=#l><code class=Fl id=l>-l</code></a></dt><dd>Enable multilabel MAC on the new file system.</dd><dt><a class=permalink href=#L><code class=Fl id=L>-L</code></a></dt><dd>Show the output of the helper programs. By default, it is sent to <span class=Pa>/dev/null</span>.</dd><dt><a class=permalink href=#M><code class=Fl id=M>-M</code></a></dt><dd>Create a <a class=Xr href=malloc.9.html>malloc(9)</a> backed disk (<code class=Dv>MD_MALLOC</code>) instead of a swap-backed disk.</dd><dt><a class=permalink href=#m><code class=Fl id=m>-m</code></a><var class=Ar>percent-free</var></dt><dd>The percentage of space reserved for the superuser.</dd><dt><a class=permalink href=#N><code class=Fl id=N>-N</code></a></dt><dd>Do not actually run the helper programs. This is most useful in conjunction with <code class=Fl>-X</code>.</dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a></dt><dd>Do not create a <span class=Pa>.snap</span> directory on the new file system.</dd><dt><a class=permalink href=#O><code class=Fl id=O>-O</code></a><var class=Ar>optimization</var></dt><dd>Select the optimization preference; valid choices are <code class=Cm>space</code> and <code class=Cm>time</code>, which will optimize for minimum space fragmentation and minimum time spent allocating blocks, respectively.</dd><dt><a class=permalink href=#o><code class=Fl id=o>-o</code></a><var class=Ar>mount-options</var></dt><dd>Specify the mount options with which to mount the file system. See <a class=Xr href=mount.8.html>mount(8)</a> for more information.</dd><dt><a class=permalink href=#P><code class=Fl id=P>-P</code></a></dt><dd>Preserve the existing file system; do not run <a class=Xr href=newfs.8.html>newfs(8)</a>. This only makes sense if <code class=Fl>-F</code> is specified to create a vnode-backed disk.</dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a><var class=Ar>permissions</var></dt><dd>Set the file (directory) permissions of the mount point <var class=Ar>mount-point</var> to <var class=Ar>permissions</var>. The <var class=Ar>permissions</var> argument can be in any of the mode formats recognized by <a class=Xr href=chmod.1.html>chmod(1)</a>. If symbolic permissions are specified, the operation characters “+” and “-” are interpreted relative to the initial permissions of “a=rwx”.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a></dt><dd>Do not enable soft-updates on the file system.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a><var class=Ar>size</var></dt><dd>Specify the size of the disk to create. This only makes sense if <code class=Fl>-F</code> is <i class=Em>not</i> specified. That is, this will work when the backing storage is some form of memory, as opposed to a fixed-size file. The size may include the usual SI suffixes (k, m, g, t, p). A number without a suffix is interpreted as a count of 512-byte sectors.</dd><dt><a class=permalink href=#t><code class=Fl id=t>-t</code></a></dt><dd>Turn on the TRIM enable flag for <a class=Xr href=newfs.8.html>newfs(8)</a>. When used with a file system that issue BIO_DELETE bio requests, <a class=Xr href=md.4.html>md(4)</a> returns deleted blocks to the system memory pool.</dd><dt><a class=permalink href=#T><code class=Fl id=T>-T</code></a><var class=Ar>fstype</var></dt><dd>Specify a file system type for a vnode-backed memory disk. Any file system supported by <a class=Xr href=mount.8.html>mount(8)</a> command can be specified. This option only makes sense when <code class=Fl>-F</code> and <code class=Fl>-P</code> are used.</dd><dt><a class=permalink href=#U><code class=Fl id=U>-U</code></a></dt><dd>Enable soft-updates on the file system. This is the default, and is accepted only for compatibility. It is only really useful to negate the <code class=Fl>-S</code> flag, should such a need occur.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a><var class=Ar>version</var></dt><dd>Specify the UFS version number for use on the file system; it may be either <code class=Dv>1</code> or <code class=Dv>2</code>. The default is derived from the default of the <a class=Xr href=newfs.8.html>newfs(8)</a> command.</dd><dt><a class=permalink href=#w><code class=Fl id=w>-w</code></a><var class=Ar>user</var>:<var class=Ar>group</var></dt><dd>Set the owner and group to <var class=Ar>user</var> and <var class=Ar>group</var>, respectively. The arguments have the same semantics as with <a class=Xr href=chown.8.html>chown(8)</a>, but specifying just a <var class=Ar>user</var> or just a <var class=Ar>group</var> is not supported.</dd><dt><a class=permalink href=#X><code class=Fl id=X>-X</code></a></dt><dd>Print what command will be run before running it, and other assorted debugging information.</dd></dl><p class=Pp>The <code class=Fl>-F</code> and <code class=Fl>-s</code> options are passed to <a class=Xr href=mdconfig.8.html>mdconfig(8)</a> as <code class=Fl>-f</code> and <code class=Fl>-s</code>, respectively. The <code class=Fl>-a</code>, <code class=Fl>-b</code>, <code class=Fl>-c</code>, <code class=Fl>-d</code>, <code class=Fl>-e</code>, <code class=Fl>-f</code>, <code class=Fl>-i</code>, <code class=Fl>-m</code> and <code class=Fl>-n</code> options are passed to <a class=Xr href=newfs.8.html>newfs(8)</a> with the same letter. The <code class=Fl>-O</code> option is passed to <a class=Xr href=newfs.8.html>newfs(8)</a> as <code class=Fl>-o</code>. The <code class=Fl>-o</code> option is passed to <a class=Xr href=mount.8.html>mount(8)</a> with the same letter. The <code class=Fl>-T</code> option is passed to <a class=Xr href=mount.8.html>mount(8)</a> as <code class=Fl>-t</code>. For information on semantics, refer to the documentation of the programs that the options are passed to.</p></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> Create and mount a 32 megabyte swap-backed file system on <span class=Pa>/tmp</span>: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mdmfs -s 32m md /tmp</code></div><p class=Pp>The same file system created as an entry in <span class=Pa>/etc/fstab</span>:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>md /tmp mfs rw,-s32m 2 0</code></div><p class=Pp>Create and mount a 16 megabyte malloc-backed file system on <span class=Pa>/tmp</span> using the <span class=Pa>/dev/md1</span> device; furthermore, do not use soft-updates on it and mount it <code class=Cm>async</code>:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mdmfs -M -S -o async -s 16m md1 /tmp</code></div><p class=Pp>Create and mount a <a class=Xr href=geom_uzip.4.html>geom_uzip(4)</a> based compressed disk image:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mdmfs -P -F foo.uzip -oro md.uzip /tmp/</code></div><p class=Pp>Mount the same image, specifying the <span class=Pa>/dev/md1</span> device:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mdmfs -P -F foo.uzip -oro md1.uzip /tmp/</code></div><p class=Pp>Configure a vnode-backed file system and mount its first partition, using automatic device numbering:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mdmfs -P -F foo.img mds1a /tmp/</code></div><p class=Pp>Mount a vnode-backed cd9660 file system using automatic device numbering:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>mdmfs -T cd9660 -P -F foo.iso md /tmp</code></div></section><section class=Sh><h2 class=Sh id=COMPATIBILITY><a class=permalink href=#COMPATIBILITY>COMPATIBILITY</a></h2> The <code class=Nm>mdmfs</code> utility, while designed to be compatible with <a class=Xr href=mount_mfs.8.html>mount_mfs(8)</a>, can be useful by itself. Since <a class=Xr href=mount_mfs.8.html>mount_mfs(8)</a> had some silly defaults, a “compatibility” mode is provided for the case where bug-to-bug compatibility is desired. <p class=Pp>Compatibility is enabled by starting <code class=Nm>mdmfs</code> with the name <code class=Li>mount_mfs</code> or <code class=Li>mfs</code> (as returned by <a class=Xr href=getprogname.3.html>getprogname(3)</a>). In this mode, the following behavior, as done by <a class=Xr href=mount_mfs.8.html>mount_mfs(8)</a>, is duplicated:</p><ul class="Bl-bullet Bd-indent"><li>The file mode of <var class=Ar>mount-point</var> is set by default to <code class=Li>01777</code> as if <code class=Fl>-p</code><var class=Ar>1777</var> was given on the command line.</li></ul></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=md.4.html>md(4)</a>, <a class=Xr href=fstab.5.html>fstab(5)</a>, <a class=Xr href=tmpfs.5.html>tmpfs(5)</a>, <a class=Xr href=mdconfig.8.html>mdconfig(8)</a>, <a class=Xr href=mount.8.html>mount(8)</a>, <a class=Xr href=newfs.8.html>newfs(8)</a></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>mdmfs</code> utility appeared in <span class=Ux>FreeBSD 5.0</span>. </section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2><span class=An>Dima Dorfman</span></section></div><table class=foot><tr><td class=foot-date>October 31, 2019</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>