<!DOCTYPE html>
<html><head><meta charset=utf-8><title>chsh(1)</title><keywords content=man,chsh></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>chsh(1)</h1><table class=head><tr><td class=head-ltitle>CHPASS(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>CHPASS(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>chpass</code>, <code class=Nm>chfn</code>, <code class=Nm>chsh</code>, <code class=Nm>ypchpass</code>, <code class=Nm>ypchfn</code>, <code class=Nm>ypchsh</code> — <div class=Nd>add or change user database information</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>chpass</code></td><td>[<code class=Fl>-a</code><var class=Ar>list</var>] [<code class=Fl>-p</code><var class=Ar>encpass</var>] [<code class=Fl>-e</code><var class=Ar>expiretime</var>] [<code class=Fl>-s</code><var class=Ar>newshell</var>] [user]</td></tr></table><br><table class=Nm><tr><td><code class=Nm>chpass</code></td><td>[<code class=Fl>-oly</code>] [<code class=Fl>-a</code><var class=Ar>list</var>] [<code class=Fl>-p</code><var class=Ar>encpass</var>] [<code class=Fl>-e</code><var class=Ar>expiretime</var>] [<code class=Fl>-s</code><var class=Ar>newshell</var>] [<code class=Fl>-d</code><var class=Ar>domain</var>] [<code class=Fl>-h</code><var class=Ar>host</var>] [user]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>chpass</code> utility allows editing of the user database information associated with <var class=Ar>user</var> or, by default, the current user. <p class=Pp>The <code class=Nm>chfn</code>, <code class=Nm>chsh</code>, <code class=Nm>ypchpass</code>, <code class=Nm>ypchfn</code> and <code class=Nm>ypchsh</code> utilities behave identically to <code class=Nm>chpass</code>. (There is only one program.)</p><p class=Pp>The information is formatted and supplied to an editor for changes.</p><p class=Pp>Only the information that the user is allowed to change is displayed.</p><p class=Pp>The options are as follows:</p><dl class=Bl-tag><dt><a class=permalink href=#a><code class=Fl id=a>-a</code></a></dt><dd>The super-user is allowed to directly supply a user database entry, in the format specified by <a class=Xr href=passwd.5.html>passwd(5)</a>, as an argument. This argument must be a colon (“:”) separated list of all the user database fields, although they may be empty.</dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a></dt><dd>The super-user is allowed to directly supply an encrypted password field, in the format used by <a class=Xr href=crypt.3.html>crypt(3)</a>, as an argument.</dd><dt><a class=permalink href=#e><code class=Fl id=e>-e</code></a><var class=Ar>expiretime</var></dt><dd>Change the account expire time. This option is used to set the expire time from a script as if it was done in the interactive editor.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a><var class=Ar>newshell</var></dt><dd>Attempt to change the user's shell to <var class=Ar>newshell</var>.</dd></dl><p class=Pp>Possible display items are as follows:</p><p class=Pp></p><div class=Bd-indent><dl class="Bl-tag Bl-compact"><dt>Login:</dt><dd>user's login name</dd><dt>Password:</dt><dd>user's encrypted password</dd><dt>Uid:</dt><dd>user's login</dd><dt>Gid:</dt><dd>user's login group</dd><dt>Class:</dt><dd>user's general classification</dd><dt>Change:</dt><dd>password change time</dd><dt>Expire:</dt><dd>account expiration time</dd><dt>Full Name:</dt><dd>user's real name</dd><dt>Office Location:</dt><dd>user's office location (1)</dd><dt>Office Phone:</dt><dd>user's office phone (1)</dd><dt>Home Phone:</dt><dd>user's home phone (1)</dd><dt>Other Information:</dt><dd>any locally defined parameters for user (1)</dd><dt>Home Directory:</dt><dd>user's home directory</dd><dt>Shell:</dt><dd>user's login shell <p class=Pp></p></dd><dt>NOTE(1) -</dt><dd>In the actual master.passwd file, these fields are comma-delimited fields embedded in the FullName field.</dd></dl></div><p class=Pp>The <var class=Ar>login</var> field is the user name used to access the computer account.</p><p class=Pp>The <var class=Ar>password</var> field contains the encrypted form of the user's password.</p><p class=Pp>The <var class=Ar>uid</var> field is the number associated with the <var class=Ar>login</var> field. Both of these fields should be unique across the system (and often across a group of systems) as they control file access.</p><p class=Pp>While it is possible to have multiple entries with identical login names and/or identical user id's, it is usually a mistake to do so. Routines that manipulate these files will often return only one of the multiple entries, and that one by random selection.</p><p class=Pp>The <var class=Ar>gid</var> field is the group that the user will be placed in at login. Since <span class=Ux>BSD</span> supports multiple groups (see <a class=Xr href=groups.1.html>groups(1)</a>) this field currently has little special meaning. This field may be filled in with either a number or a group name (see <a class=Xr href=group.5.html>group(5)</a>).</p><p class=Pp>The <var class=Ar>class</var> field references class descriptions in <span class=Pa>/etc/login.conf</span> and is typically used to initialize the user's system resource limits when they login.</p><p class=Pp>The <var class=Ar>change</var> field is the date by which the password must be changed.</p><p class=Pp>The <var class=Ar>expire</var> field is the date on which the account expires.</p><p class=Pp>Both the <var class=Ar>change</var> and <var class=Ar>expire</var> fields should be entered in the form “month day year” where <var class=Ar>month</var> is the month name (the first three characters are sufficient), <var class=Ar>day</var> is the day of the month, and <var class=Ar>year</var> is the year.</p><p class=Pp>Five fields are available for storing the user's <var class=Ar>full name</var>, <var class=Ar>office location</var>, <var class=Ar>work</var> and <var class=Ar>home telephone</var> numbers and finally <var class=Ar>other information</var> which is a single comma delimited string to represent any additional gecos fields (typically used for site specific user information). Note that <a class=Xr href=finger.1.html>finger(1)</a> will display the office location and office phone together under the heading <var class=Ar>Office:</var>.</p><p class=Pp>The user's <var class=Ar>home directory</var> is the full <span class=Ux>UNIX</span> path name where the user will be placed at login.</p><p class=Pp>The <var class=Ar>shell</var> field is the command interpreter the user prefers. If the <var class=Ar>shell</var> field is empty, the Bourne shell, <span class=Pa>/bin/sh</span>, is assumed. When altering a login shell, and not the super-user, the user may not change from a non-standard shell or to a non-standard shell. Non-standard is defined as a shell not found in <span class=Pa>/etc/shells</span>.</p><p class=Pp>Once the information has been verified, <code class=Nm>chpass</code> uses <a class=Xr href=pwd_mkdb.8.html>pwd_mkdb(8)</a> to update the user database.</p></section><section class=Sh><h2 class=Sh id=ENVIRONMENT><a class=permalink href=#ENVIRONMENT>ENVIRONMENT</a></h2> The <a class=Xr href=vi.1.html>vi(1)</a> editor will be used unless the environment variable <code class=Ev>EDITOR</code> is set to an alternate editor. When the editor terminates, the information is re-read and used to update the user database itself. Only the user, or the super-user, may edit the information associated with the user. <p class=Pp>See <a class=Xr href=pwd_mkdb.8.html>pwd_mkdb(8)</a> for an explanation of the impact of setting the <code class=Ev>PW_SCAN_BIG_IDS</code> environment variable.</p></section><section class=Sh><h2 class=Sh id=NIS_INTERACTION><a class=permalink href=#NIS_INTERACTION>NIS INTERACTION</a></h2> The <code class=Nm>chpass</code> utility can also be used in conjunction with NIS, however some restrictions apply. Currently, <code class=Nm>chpass</code> can only make changes to the NIS passwd maps through <a class=Xr href=rpc.yppasswdd.8.html>rpc.yppasswdd(8)</a>, which normally only permits changes to a user's password, shell and GECOS fields. Except when invoked by the super-user on the NIS master server, <code class=Nm>chpass</code> (and, similarly, <a class=Xr href=passwd.1.html>passwd(1)</a>) cannot use the <a class=Xr href=rpc.yppasswdd.8.html>rpc.yppasswdd(8)</a> server to change other user information or add new records to the NIS passwd maps. Furthermore, <a class=Xr href=rpc.yppasswdd.8.html>rpc.yppasswdd(8)</a> requires password authentication before it will make any changes. The only user allowed to submit changes without supplying a password is the super-user on the NIS master server; all other users, including those with root privileges on NIS clients (and NIS slave servers) must enter a password. (The super-user on the NIS master is allowed to bypass these restrictions largely for convenience: a user with root access to the NIS master server already has the privileges required to make updates to the NIS maps, but editing the map source files by hand can be cumbersome. <p class=Pp>Note: these exceptions only apply when the NIS master server is a <span class=Ux>FreeBSD</span> system).</p><p class=Pp>Consequently, except where noted, the following restrictions apply when <code class=Nm>chpass</code> is used with NIS:</p><ol class="Bl-enum Bd-indent"><li><i class=Em>Only the shell and GECOS information may be changed</i>. All other fields are restricted, even when <code class=Nm>chpass</code> is invoked by the super-user. While support for changing other fields could be added, this would lead to compatibility problems with other NIS-capable systems. Even though the super-user may supply data for other fields while editing an entry, the extra information (other than the password -- see below) will be silently discarded. <p class=Pp>Exception: the super-user on the NIS master server is permitted to change any field.</p></li><li><i class=Em>Password authentication is required</i>. The <code class=Nm>chpass</code> utility will prompt for the user's NIS password before effecting any changes. If the password is invalid, all changes will be discarded. <p class=Pp>Exception: the super-user on the NIS master server is allowed to submit changes without supplying a password. (The super-user may choose to turn off this feature using the <code class=Fl>-o</code> flag, described below.)</p></li><li><i class=Em>Adding new records to the local password database is discouraged</i>. The <code class=Nm>chpass</code> utility will allow the administrator to add new records to the local password database while NIS is enabled, but this can lead to some confusion since the new records are appended to the end of the master password file, usually after the special NIS '+' entries. The administrator should use <a class=Xr href=vipw.8.html>vipw(8)</a> to modify the local password file when NIS is running. <p class=Pp>The super-user on the NIS master server is permitted to add new records to the NIS password maps, provided the <a class=Xr href=rpc.yppasswdd.8.html>rpc.yppasswdd(8)</a> server has been started with the <code class=Fl>-a</code> flag to permitted additions (it refuses them by default). The <code class=Nm>chpass</code> utility tries to update the local password database by default; to update the NIS maps instead, invoke chpass with the <code class=Fl>-y</code> flag.</p></li><li><i class=Em>Password changes are not permitted</i>. Users should use <a class=Xr href=passwd.1.html>passwd(1)</a> or <a class=Xr href=yppasswd.1.html>yppasswd(1)</a> to change their NIS passwords. The super-user is allowed to specify a new password (even though the “Password:” field does not show up in the editor template, the super-user may add it back by hand), but even the super-user must supply the user's original password otherwise <a class=Xr href=rpc.yppasswdd.8.html>rpc.yppasswdd(8)</a> will refuse to update the NIS maps. <p class=Pp>Exception: the super-user on the NIS master server is permitted to change a user's NIS password with <code class=Nm>chpass</code>.</p></li></ol><p class=Pp>There are also a few extra option flags that are available when <code class=Nm>chpass</code> is compiled with NIS support:</p><dl class=Bl-tag><dt><a class=permalink href=#l><code class=Fl id=l>-l</code></a></dt><dd>Force <code class=Nm>chpass</code> to modify the local copy of a user's password information in the event that a user exists in both the local and NIS databases.</dd><dt><a class=permalink href=#y><code class=Fl id=y>-y</code></a></dt><dd>Opposite effect of <code class=Fl>-l</code>. This flag is largely redundant since <code class=Nm>chpass</code> operates on NIS entries by default if NIS is enabled.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a><var class=Ar>domain</var></dt><dd>Specify a particular NIS domain. The <code class=Nm>chpass</code> utility uses the system domain name by default, as set by the <a class=Xr href=domainname.1.html>domainname(1)</a> utility. The <code class=Fl>-d</code> option can be used to override a default, or to specify a domain when the system domain name is not set.</dd><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a><var class=Ar>host</var></dt><dd>Specify the name or address of an NIS server to query. Normally, <code class=Nm>chpass</code> will communicate with the NIS master host specified in the <span class=Pa>master.passwd</span> or <span class=Pa>passwd</span> maps. On hosts that have not been configured as NIS clients, there is no way for the program to determine this information unless the user provides the hostname of a server. Note that the specified hostname need not be that of the NIS master server; the name of any server, master or slave, in a given NIS domain will do. <p class=Pp>When using the <code class=Fl>-d</code> option, the hostname defaults to “localhost”. The <code class=Fl>-h</code> option can be used in conjunction with the <code class=Fl>-d</code> option, in which case the user-specified hostname will override the default.</p></dd><dt><a class=permalink href=#o><code class=Fl id=o>-o</code></a></dt><dd>Force the use of RPC-based updates when communicating with <a class=Xr href=rpc.yppasswdd.8.html>rpc.yppasswdd(8)</a> (“old-mode”). When invoked by the super-user on the NIS master server, <code class=Nm>chpass</code> allows unrestricted changes to the NIS passwd maps using dedicated, non-RPC-based mechanism (in this case, a <span class=Ux>UNIX</span> domain socket). The <code class=Fl>-o</code> flag can be used to force <code class=Nm>chpass</code> to use the standard update mechanism instead. This option is provided mainly for testing purposes.</dd></dl></section><section class=Sh><h2 class=Sh id=FILES><a class=permalink href=#FILES>FILES</a></h2><dl class="Bl-tag Bl-compact"><dt><span class=Pa>/etc/master.passwd</span></dt><dd>the user database</dd><dt><span class=Pa>/etc/passwd</span></dt><dd>a Version 7 format password file</dd><dt><span class=Pa>/etc/chpass.XXXXXX</span></dt><dd>temporary copy of the password file</dd><dt><span class=Pa>/etc/shells</span></dt><dd>the list of approved shells</dd></dl></section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=finger.1.html>finger(1)</a>, <a class=Xr href=login.1.html>login(1)</a>, <a class=Xr href=passwd.1.html>passwd(1)</a>, <a class=Xr href=getusershell.3.html>getusershell(3)</a>, <a class=Xr href=login.conf.5.html>login.conf(5)</a>, <a class=Xr href=passwd.5.html>passwd(5)</a>, <a class=Xr href=pw.8.html>pw(8)</a>, <a class=Xr href=pwd_mkdb.8.html>pwd_mkdb(8)</a>, <a class=Xr href=vipw.8.html>vipw(8)</a><p class=Pp><cite class=Rs><span class=RsA>Robert Morris</span> and <span class=RsA>Ken Thompson</span>, <span class=RsT>UNIX Password security</span>.</cite></p></section><section class=Sh><h2 class=Sh id=HISTORY><a class=permalink href=#HISTORY>HISTORY</a></h2> The <code class=Nm>chpass</code> utility appeared in <span class=Ux>4.3BSD-Reno</span>. </section><section class=Sh><h2 class=Sh id=BUGS><a class=permalink href=#BUGS>BUGS</a></h2> User information should (and eventually will) be stored elsewhere. </section></div><table class=foot><tr><td class=foot-date>December 30, 1993</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>