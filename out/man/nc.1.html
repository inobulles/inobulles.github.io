<!DOCTYPE html>
<html><head><meta charset=utf-8><title>nc(1)</title><keywords content=man,nc></keywords><style>:root { --monitor-bleed: rgba(183, 0, 255, 0.46); --gradient: -webkit-linear-gradient(50deg, rgb(126, 119, 255), rgb(255, 34, 137)); --background-colour: #fff; --title-colour: #000; --text-colour: #000; --article-colour: #fff; --accent-colour: #4385f5; --muted-colour: #555; --shadow-colour: rgba(183, 0, 255, 0.487); --border-radius: 12px; --blur-radius: 0px; --navbar-colour: #fffc; --navbar-shadow: rgba(183, 0, 255, 0.1) 0 8px 32px; --code-background: #ddd; } .dark { visibility: hidden; } @media (prefers-color-scheme: light) { } @media (prefers-color-scheme: dark) { :root { --monitor-bleed: rgba(183, 0, 255, 0.172); --gradient: -webkit-linear-gradient(50deg, rgb(255, 79, 79), rgb(255, 52, 221)); --background-colour: #000; --title-colour: #fff; --text-colour: #ddd; --article-colour: #00000033; --accent-colour: #98beff; --muted-colour: #999; --shadow-colour: #ff00cc29; --blur-radius: 96px; --navbar-colour: #000a; --navbar-shadow: rgba(183, 0, 255, 0.05) 0 8px 32px; --code-background: #111; } .dark { visibility: visible; } .light { visibility: hidden; } } html, body { overflow-x: hidden; } body { background-image: url(bg.svg); background-size: cover; margin: 0; background-color: var(--background-colour); color: var(--text-colour); font-size: 22px; font-display: optional; font-family: "Montserrat", sans-serif; overflow-y: hidden; } h1 { color: var(--title-colour); font-size: 70px; font-display: optional; font-family: "Montserrat", sans-serif; } h2 { color: var(--title-colour); font-size: 40px; font-display: optional; font-family: "Montserrat", sans-serif; } h3 { color: var(--title-colour); font-size: 24px; font-display: optional; font-family: "Roboto Slab", serif; } q, blockquote { font-style: italic; white-space: pre-wrap; padding-left: 42px; } pre { margin: 32px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; } strong { background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; } code { border-radius: 8px; background-color: var(--code-background); } pre { white-space: pre-wrap; } .info-container { max-width: 400px; margin: 32px; } .info-container p { margin-inline: 16px; margin-block: 32px; text-align: justify; font-size: 18px; } .labeled-img { max-width: 100%; position: relative; } .labeled-img div { position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, transparent, black); border-radius: var(--border-radius); } .labeled-img div h2 { color: white; position: absolute; bottom: 0; left: 32px; } .labeled-img img { width: 100%; border-radius: var(--border-radius); } a { background: var(--gradient); background-clip: none; color: var(--background-colour); font-weight: bold; text-decoration: none; border-radius: 3px; } a:hover { background: var(--text-colour); } .link, .link:hover { background: none; } button { background: var(--gradient); color: var(--background-colour); box-shadow: none; border: none; border-radius: 48px; padding: 8px; padding-left: 32px; padding-right: 32px; margin: 24px; font-size: 24px; font-display: optional; font-family: "Montserrat", sans-serif; font-weight: bold; cursor: pointer; transition: background .2s, color .2s, opacity .2s, box-shadow .2s, transform .2s; } button:hover { box-shadow: var(--shadow-colour) 0 8px 32px; transform: translateY(-4px); } button:active { transform: none; opacity: 50%; } .clickable { padding: 2px; transition: background-color 0.05s ease-out; border-radius: var(--border-radius); } .clickable:hover { background-color: var(--shadow-colour); } .docs-container { margin: auto; margin-top: 64px; max-width: 1200px; display: grid; justify-content: center; grid-template-columns: 1fr 3fr; } .docs { max-width: 900px; } .sidebar { min-width: 250px; position: fixed; padding: 16px; display: grid; justify-content: center; grid-auto-flow: row; grid-gap: 32px; padding-top: 64px; } .sidebar * { margin: auto; display: grid; justify-content: left; grid-auto-flow: column; grid-gap: 8px; } .sidebar p { font-size: 18px; } .sidebar-item { color: var(--text-colour); background: none; padding-inline: 8px; width: 100%; height: 100%; } .sidebar-item div svg { fill: var(--text-colour); } .navbar-container { width: 100vw; height: 48px; } .navbar { position: fixed; z-index: 100; width: 100vw; background-color: var(--navbar-colour); backdrop-filter: blur(20px); display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 32px; padding: 12px; } .navbar * { margin: auto; display: grid; justify-content: center; grid-auto-flow: column; grid-gap: 8px; } .navbar p { font-size: 18px; } .navbar-logo { height: 100%; max-height: 32px; stroke: var(--text-colour); } .navbar-icon { fill: var(--text-colour); } .navbar-item { color: var(--text-colour); background-color: transparent; padding-inline: 8px; width: 100%; height: 100%; border-radius: 8px; } @media only screen and (max-width: 800px) { .navbar-item { position: absolute; visibility: hidden; } } footer { text-align: center; padding: 64px; border-radius: 64px 64px 0 0; background: -webkit-linear-gradient(50deg, transparent, var(--monitor-bleed)); } footer p { margin: auto; } .permalink { color: var(--text-colour); background: none; } .permalink:hover { background: none; } </style></head><body><html><body><div class=navbar-container><div class=navbar><a class="navbar-item clickable link" href=https://inobulles.github.io><div><svg class=navbar-logo fill=none height=24px viewbox="0 0 144 144" width=24px xmlns=http://www.w3.org/2000/svg><path d=m22,115l50,-88l50,88l-100,0z stroke-width=20 transform="rotate(180 72 72)"></path></svg><p><strong>aquaBSD</strong></p></div></a><a class="navbar-item clickable link" href=https://inobulles.github.io/docs><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><p>Develop</p></div></a><a class="navbar-item clickable link" href=mailto:inobulles@gmail.com><div><svg class=navbar-icon fill=none height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg><p>Contact</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M19.46,9.12l-2.78,1.15 c-0.51-1.36-1.58-2.44-2.95-2.94l1.15-2.78C16.98,5.35,18.65,7.02,19.46,9.12z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z M9.13,4.54l1.17,2.78c-1.38,0.5-2.47,1.59-2.98,2.97L4.54,9.13C5.35,7.02,7.02,5.35,9.13,4.54z M4.54,14.87 l2.78-1.15c0.51,1.38,1.59,2.46,2.97,2.96l-1.17,2.78C7.02,18.65,5.35,16.98,4.54,14.87z M14.88,19.46l-1.15-2.78 c1.37-0.51,2.45-1.59,2.95-2.97l2.78,1.17C18.65,16.98,16.98,18.65,14.88,19.46z"></path></g></svg><p>Support</p></div></a><a class="navbar-item clickable link" href=#><div><svg class=navbar-icon fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"></path></svg><p>Log in</p></div></a></div></div></body></html><div class=docs-container><html><body><div class=sidebar-container><div class=sidebar><a class="sidebar-item clickable" href=https://inobulles.github.io/docs><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"></path></svg><p>Introduction</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/struct><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><rect fill=none height=24 width=24></rect><path d="M22,11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3H22z M7,9H4V5h3V9z M17,15h3v4h-3V15z M17,5h3v4h-3V5z"></path></svg><p>OS Components</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/dev-tools><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><rect height=8.48 transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)" width=3 x=16.34 y=12.87></rect><path d="M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"></path></g></g></svg><p>Developer Tools</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/create-app><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24 x=0></rect></g><g><g><polygon points="19,9 20.25,6.25 23,5 20.25,3.75 19,1 17.75,3.75 15,5 17.75,6.25"></polygon><polygon points="19,15 17.75,17.75 15,19 17.75,20.25 19,23 20.25,20.25 23,19 20.25,17.75"></polygon><path d="M11.5,9.5L9,4L6.5,9.5L1,12l5.5,2.5L9,20l2.5-5.5L17,12L11.5,9.5z M9.99,12.99L9,15.17l-0.99-2.18L5.83,12l2.18-0.99 L9,8.83l0.99,2.18L12.17,12L9.99,12.99z"></path></g></g></svg><p>Creating an App</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/packaging><div><svg enable-background="new 0 0 24 24" fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><g><rect fill=none height=24 width=24></rect></g><g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"></path><rect height=2 width=6 x=9 y=12></rect></g></g></svg><p>Packaging Apps</p></div></a><a class="sidebar-item clickable" href=https://inobulles.github.io/docs/publishing><div><svg fill=#000000 height=24px viewbox="0 0 24 24" width=24px xmlns=http://www.w3.org/2000/svg><path d="M0 0h24v24H0V0z" fill=none></path><path d="M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z"></path></svg><p>Publishing Apps</p></div></a></div></div></body></html><div class=docs><h1>nc(1)</h1><table class=head><tr><td class=head-ltitle>NC(1)</td><td class=head-vol>FreeBSD General Commands Manual</td><td class=head-rtitle>NC(1)</td></tr></table><div class=manual-text><section class=Sh><h2 class=Sh id=NAME><a class=permalink href=#NAME>NAME</a></h2><code class=Nm>nc</code> — <div class=Nd>arbitrary TCP and UDP connections and listens</div></section><section class=Sh><h2 class=Sh id=SYNOPSIS><a class=permalink href=#SYNOPSIS>SYNOPSIS</a></h2><table class=Nm><tr><td><code class=Nm>nc</code></td><td>[<code class=Fl>-46DdEFhklMNnrStUuvz</code>] [<code class=Fl>-e</code> <var class=Ar>IPsec_policy</var>] [<code class=Fl>-I</code> <var class=Ar>length</var>] [<code class=Fl>-i</code> <var class=Ar>interval</var>] [<code class=Fl>--no-tcpopt</code>] [<code class=Fl>--sctp</code>] [<code class=Fl>-O</code> <var class=Ar>length</var>] [<code class=Fl>-P</code> <var class=Ar>proxy_username</var>] [<code class=Fl>-p</code> <var class=Ar>source_port</var>] [<code class=Fl>-s</code> <var class=Ar>source</var>] [<code class=Fl>-T</code> <var class=Ar>toskeyword</var>] [<code class=Fl>-V</code> <var class=Ar>rtable</var>] [<code class=Fl>-w</code> <var class=Ar>timeout</var>] [<code class=Fl>-X</code> <var class=Ar>proxy_protocol</var>] [<code class=Fl>-x</code><var class=Ar>proxy_address</var>[:<var class=Ar>port</var>]] [<var class=Ar>destination</var>] [<var class=Ar>port</var>]</td></tr></table></section><section class=Sh><h2 class=Sh id=DESCRIPTION><a class=permalink href=#DESCRIPTION>DESCRIPTION</a></h2> The <code class=Nm>nc</code> (or <code class=Nm>netcat</code>) utility is used for just about anything under the sun involving TCP, UDP, or <span class=Ux>UNIX</span>-domain sockets. It can open TCP connections, send UDP packets, listen on arbitrary TCP and UDP ports, do port scanning, and deal with both IPv4 and IPv6. Unlike <a class=Xr href=telnet.1.html>telnet(1)</a>, <code class=Nm>nc</code> scripts nicely, and separates error messages onto standard error instead of sending them to standard output, as <a class=Xr href=telnet.1.html>telnet(1)</a> does with some. <p class=Pp>Common uses include:</p><p class=Pp></p><ul class="Bl-bullet Bd-indent Bl-compact"><li>simple TCP proxies</li><li>shell-script based HTTP clients and servers</li><li>network daemon testing</li><li>a SOCKS or HTTP ProxyCommand for <a class=Xr href=ssh.1.html>ssh(1)</a></li><li>and much, much more</li></ul><p class=Pp>The options are as follows:</p><dl class=Bl-tag><dt><a class=permalink href=#4><code class=Fl id=4>-4</code></a></dt><dd>Forces <code class=Nm>nc</code> to use IPv4 addresses only.</dd><dt><a class=permalink href=#6><code class=Fl id=6>-6</code></a></dt><dd>Forces <code class=Nm>nc</code> to use IPv6 addresses only.</dd><dt><a class=permalink href=#D><code class=Fl id=D>-D</code></a></dt><dd>Enable debugging on the socket.</dd><dt><a class=permalink href=#d><code class=Fl id=d>-d</code></a></dt><dd>Do not attempt to read from stdin.</dd><dt><a class=permalink href=#E><code class=Fl id=E>-E</code></a></dt><dd>Shortcut for “<code class=Li>-e 'in ipsec esp/transport//require'</code><code class=Li>-e 'out ipsec esp/transport//require'</code>”, which enables IPsec ESP transport mode in both directions.</dd><dt><a class=permalink href=#e><code class=Fl id=e>-e</code></a></dt><dd>If IPsec support is available, then one can specify the IPsec policies to be used using the syntax described in <a class=Xr href=ipsec_set_policy.3.html>ipsec_set_policy(3)</a>. This flag can be specified up to two times, as typically one policy for each direction is needed.</dd><dt><a class=permalink href=#F><code class=Fl id=F>-F</code></a></dt><dd>Pass the first connected socket using <a class=Xr href=sendmsg.2.html>sendmsg(2)</a> to stdout and exit. This is useful in conjunction with <code class=Fl>-X</code> to have <code class=Nm>nc</code> perform connection setup with a proxy but then leave the rest of the connection to another program (e.g. <a class=Xr href=ssh.1.html>ssh(1)</a> using the <a class=Xr href=ssh_config.5.html>ssh_config(5)</a><code class=Cm>ProxyUseFdpass</code> option).</dd><dt><a class=permalink href=#h><code class=Fl id=h>-h</code></a></dt><dd>Prints out <code class=Nm>nc</code> help.</dd><dt><a class=permalink href=#I><code class=Fl id=I>-I</code></a><var class=Ar>length</var></dt><dd>Specifies the size of the TCP receive buffer.</dd><dt><a class=permalink href=#i><code class=Fl id=i>-i</code></a><var class=Ar>interval</var></dt><dd>Specifies a delay time interval between lines of text sent and received. Also causes a delay time between connections to multiple ports.</dd><dt><a class=permalink href=#k><code class=Fl id=k>-k</code></a></dt><dd>Forces <code class=Nm>nc</code> to stay listening for another connection after its current connection is completed. It is an error to use this option without the <code class=Fl>-l</code> option. When used together with the <code class=Fl>-u</code> option, the server socket is not connected and it can receive UDP datagrams from multiple hosts.</dd><dt><a class=permalink href=#l><code class=Fl id=l>-l</code></a></dt><dd>Used to specify that <code class=Nm>nc</code> should listen for an incoming connection rather than initiate a connection to a remote host. It is an error to use this option in conjunction with the <code class=Fl>-p</code>, <code class=Fl>-s</code>, or <code class=Fl>-z</code> options. Additionally, any timeouts specified with the <code class=Fl>-w</code> option are ignored.</dd><dt><a class=permalink href=#M><code class=Fl id=M>-M</code></a></dt><dd>Collect per-connection TCP statistics using the <a class=Xr href=stats.3.html>stats(3)</a> framework and print them in JSON format to <a class=Xr href=stderr.4.html>stderr(4)</a> after the connection is closed.</dd><dt><a class=permalink href=#N><code class=Fl id=N>-N</code></a></dt><dd><a class=Xr href=shutdown.2.html>shutdown(2)</a> the network socket after EOF on the input. Some servers require this to finish their work.</dd><dt><a class=permalink href=#n><code class=Fl id=n>-n</code></a></dt><dd>Do not do any DNS or service lookups on any specified addresses, hostnames or ports.</dd><dt><a class=permalink href=#-no-tcpopt><code class=Fl id=-no-tcpopt>--no-tcpopt</code></a></dt><dd>Disables the use of TCP options on the socket, by setting the boolean TCP_NOOPT socket option.</dd><dt><a class=permalink href=#-sctp><code class=Fl id=-sctp>--sctp</code></a></dt><dd>Use SCTP instead of the default option of TCP.</dd><dt><a class=permalink href=#O><code class=Fl id=O>-O</code></a><var class=Ar>length</var></dt><dd>Specifies the size of the TCP send buffer.</dd><dt><a class=permalink href=#P><code class=Fl id=P>-P</code></a><var class=Ar>proxy_username</var></dt><dd>Specifies a username to present to a proxy server that requires authentication. If no username is specified then authentication will not be attempted. Proxy authentication is only supported for HTTP CONNECT proxies at present.</dd><dt><a class=permalink href=#p><code class=Fl id=p>-p</code></a><var class=Ar>source_port</var></dt><dd>Specifies the source port <code class=Nm>nc</code> should use, subject to privilege restrictions and availability. It is an error to use this option in conjunction with the <code class=Fl>-l</code> option.</dd><dt><a class=permalink href=#r><code class=Fl id=r>-r</code></a></dt><dd>Specifies that source and/or destination ports should be chosen randomly instead of sequentially within a range or in the order that the system assigns them.</dd><dt><a class=permalink href=#S><code class=Fl id=S>-S</code></a></dt><dd>Enables the RFC 2385 TCP MD5 signature option.</dd><dt><a class=permalink href=#s><code class=Fl id=s>-s</code></a><var class=Ar>source</var></dt><dd>Specifies the IP of the interface which is used to send the packets. For <span class=Ux>UNIX</span>-domain datagram sockets, specifies the local temporary socket file to create and use so that datagrams can be received. It is an error to use this option in conjunction with the <code class=Fl>-l</code> option.</dd><dt><a class=permalink href=#T><code class=Fl id=T>-T</code></a><var class=Ar>toskeyword</var></dt><dd>Change IPv4 TOS value. <var class=Ar>toskeyword</var> may be one of <var class=Ar>critical</var>, <var class=Ar>inetcontrol</var>, <var class=Ar>lowdelay</var>, <var class=Ar>netcontrol</var>, <var class=Ar>throughput</var>, <var class=Ar>reliability</var>, or one of the DiffServ Code Points: <var class=Ar>ef</var>, <var class=Ar>af11 ... af43</var>, <var class=Ar>cs0 ... cs7</var>; or a number in either hex or decimal.</dd><dt><a class=permalink href=#t><code class=Fl id=t>-t</code></a></dt><dd>Causes <code class=Nm>nc</code> to send RFC 854 DON'T and WON'T responses to RFC 854 DO and WILL requests. This makes it possible to use <code class=Nm>nc</code> to script telnet sessions.</dd><dt><a class=permalink href=#U><code class=Fl id=U>-U</code></a></dt><dd>Specifies to use <span class=Ux>UNIX</span>-domain sockets.</dd><dt><a class=permalink href=#u><code class=Fl id=u>-u</code></a></dt><dd>Use UDP instead of the default option of TCP. For <span class=Ux>UNIX</span>-domain sockets, use a datagram socket instead of a stream socket. If a <span class=Ux>UNIX</span>-domain socket is used, a temporary receiving socket is created in <span class=Pa>/tmp</span> unless the <code class=Fl>-s</code> flag is given.</dd><dt><a class=permalink href=#V><code class=Fl id=V>-V</code></a><var class=Ar>rtable</var></dt><dd>Set the routing table (“FIB”) to be used.</dd><dt><a class=permalink href=#v><code class=Fl id=v>-v</code></a></dt><dd>Have <code class=Nm>nc</code> give more verbose output.</dd><dt><a class=permalink href=#w><code class=Fl id=w>-w</code></a><var class=Ar>timeout</var></dt><dd>Connections which cannot be established or are idle timeout after <var class=Ar>timeout</var> seconds. The <code class=Fl>-w</code> flag has no effect on the <code class=Fl>-l</code> option, i.e. <code class=Nm>nc</code> will listen forever for a connection, with or without the <code class=Fl>-w</code> flag. The default is no timeout.</dd><dt><a class=permalink href=#X><code class=Fl id=X>-X</code></a><var class=Ar>proxy_protocol</var></dt><dd>Requests that <code class=Nm>nc</code> should use the specified protocol when talking to the proxy server. Supported protocols are “4” (SOCKS v.4), “5” (SOCKS v.5) and “connect” (HTTPS proxy). If the protocol is not specified, SOCKS version 5 is used.</dd><dt><a class=permalink href=#x><code class=Fl id=x>-x</code></a><var class=Ar>proxy_address</var>[:<var class=Ar>port</var>]</dt><dd>Requests that <code class=Nm>nc</code> should connect to <var class=Ar>destination</var> using a proxy at <var class=Ar>proxy_address</var> and <var class=Ar>port</var>. If <var class=Ar>port</var> is not specified, the well-known port for the proxy protocol is used (1080 for SOCKS, 3128 for HTTPS).</dd><dt><a class=permalink href=#z><code class=Fl id=z>-z</code></a></dt><dd>Specifies that <code class=Nm>nc</code> should just scan for listening daemons, without sending any data to them. It is an error to use this option in conjunction with the <code class=Fl>-l</code> option.</dd></dl><p class=Pp><var class=Ar>destination</var> can be a numerical IP address or a symbolic hostname (unless the <code class=Fl>-n</code> option is given). In general, a destination must be specified, unless the <code class=Fl>-l</code> option is given (in which case the local host is used). For <span class=Ux>UNIX</span>-domain sockets, a destination is required and is the socket path to connect to (or listen on if the <code class=Fl>-l</code> option is given).</p><p class=Pp><var class=Ar>port</var> can be a single integer or a range of ports. Ranges are in the form nn-mm. In general, a destination port must be specified, unless the <code class=Fl>-U</code> option is given.</p></section><section class=Sh><h2 class=Sh id=CLIENT/SERVER_MODEL><a class=permalink href=#CLIENT/SERVER_MODEL>CLIENT/SERVER MODEL</a></h2> It is quite simple to build a very basic client/server model using <code class=Nm>nc</code>. On one console, start <code class=Nm>nc</code> listening on a specific port for a connection. For example: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -l 1234</code></div><p class=Pp><code class=Nm>nc</code> is now listening on port 1234 for a connection. On a second console (or a second machine), connect to the machine and port being listened on:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc 127.0.0.1 1234</code></div><p class=Pp>There should now be a connection between the ports. Anything typed at the second console will be concatenated to the first, and vice-versa. After the connection has been set up, <code class=Nm>nc</code> does not really care which side is being used as a ‘server’ and which side is being used as a ‘client’. The connection may be terminated using an <code class=Dv>EOF</code> (‘^D’).</p></section><section class=Sh><h2 class=Sh id=DATA_TRANSFER><a class=permalink href=#DATA_TRANSFER>DATA TRANSFER</a></h2> The example in the previous section can be expanded to build a basic data transfer model. Any information input into one end of the connection will be output to the other end, and input and output can be easily captured in order to emulate file transfer. <p class=Pp>Start by using <code class=Nm>nc</code> to listen on a specific port, with output captured into a file:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -l 1234 &gt; filename.out</code></div><p class=Pp>Using a second machine, connect to the listening <code class=Nm>nc</code> process, feeding it the file which is to be transferred:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -N host.example.com 1234 &lt; filename.in</code></div><p class=Pp>After the file has been transferred, the connection will close automatically.</p></section><section class=Sh><h2 class=Sh id=TALKING_TO_SERVERS><a class=permalink href=#TALKING_TO_SERVERS>TALKING TO SERVERS</a></h2> It is sometimes useful to talk to servers “by hand” rather than through a user interface. It can aid in troubleshooting, when it might be necessary to verify what data a server is sending in response to commands issued by the client. For example, to retrieve the home page of a web site: <div class="Bd Pp Bd-indent"><pre>
$ printf "GET / HTTP/1.0\r\n\r\n" | nc host.example.com 80
</pre></div><p class=Pp>Note that this also displays the headers sent by the web server. They can be filtered, using a tool such as <a class=Xr href=sed.1.html>sed(1)</a>, if necessary.</p><p class=Pp>More complicated examples can be built up when the user knows the format of requests required by the server. As another example, an email may be submitted to an SMTP server using:</p><div class="Bd Pp Bd-indent"><pre>
$ nc localhost 25 &lt;&lt; EOF
HELO host.example.com
MAIL FROM:&lt;user@host.example.com&gt;
RCPT TO:&lt;user2@host.example.com&gt;
DATA
Body of email.
.
QUIT
EOF
</pre></div></section><section class=Sh><h2 class=Sh id=PORT_SCANNING><a class=permalink href=#PORT_SCANNING>PORT SCANNING</a></h2> It may be useful to know which ports are open and running services on a target machine. The <code class=Fl>-z</code> flag can be used to tell <code class=Nm>nc</code> to report open ports, rather than initiate a connection. For example: <div class="Bd Pp Bd-indent"><pre>
$ nc -z host.example.com 20-30
Connection to host.example.com 22 port [tcp/ssh] succeeded!
Connection to host.example.com 25 port [tcp/smtp] succeeded!
</pre></div><p class=Pp>The port range was specified to limit the search to ports 20 - 30.</p><p class=Pp>Alternatively, it might be useful to know which server software is running, and which versions. This information is often contained within the greeting banners. In order to retrieve these, it is necessary to first make a connection, and then break the connection when the banner has been retrieved. This can be accomplished by specifying a small timeout with the <code class=Fl>-w</code> flag, or perhaps by issuing a “<code class=Dv>QUIT</code>” command to the server:</p><div class="Bd Pp Bd-indent"><pre>
$ echo "QUIT" | nc host.example.com 20-30
SSH-1.99-OpenSSH_3.6.1p2
Protocol mismatch.
220 host.example.com IMS SMTP Receiver Version 0.84 Ready
</pre></div></section><section class=Sh><h2 class=Sh id=EXAMPLES><a class=permalink href=#EXAMPLES>EXAMPLES</a></h2> Open a TCP connection to port 42 of host.example.com, using port 31337 as the source port, with a timeout of 5 seconds: <p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -p 31337 -w 5 host.example.com 42</code></div><p class=Pp>Open a UDP connection to port 53 of host.example.com:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -u host.example.com 53</code></div><p class=Pp>Open a TCP connection to port 42 of host.example.com using 10.1.2.3 as the IP for the local end of the connection:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -s 10.1.2.3 host.example.com 42</code></div><p class=Pp>Open a TCP connection to port 42 of host.example.com using IPsec ESP for incoming and outgoing traffic.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -E host.example.com 42</code></div><p class=Pp>Open a TCP connection to port 42 of host.example.com using IPsec ESP for outgoing traffic only.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -e 'out ipsec esp/transport//require' host.example.com 42</code></div><p class=Pp>Create and listen on a <span class=Ux>UNIX</span>-domain stream socket:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -lU /var/tmp/dsocket</code></div><p class=Pp>Connect to port 42 of host.example.com via an HTTP proxy at 10.2.3.4, port 8080. This example could also be used by <a class=Xr href=ssh.1.html>ssh(1)</a>; see the <code class=Cm>ProxyCommand</code> directive in <a class=Xr href=ssh_config.5.html>ssh_config(5)</a> for more information.</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -x10.2.3.4:8080 -Xconnect host.example.com 42</code></div><p class=Pp>The same example again, this time enabling proxy authentication with username “ruser” if the proxy requires it:</p><p class=Pp></p><div class="Bd Bd-indent"><code class=Li>$ nc -x10.2.3.4:8080 -Xconnect -Pruser host.example.com 42</code></div></section><section class=Sh><h2 class=Sh id=EXIT_STATUS><a class=permalink href=#EXIT_STATUS>EXIT STATUS</a></h2> The <code class=Nm>nc</code> utility exits 0 on success, and &gt;0 if an error occurs. </section><section class=Sh><h2 class=Sh id=SEE_ALSO><a class=permalink href=#SEE_ALSO>SEE ALSO</a></h2><a class=Xr href=cat.1.html>cat(1)</a>, <a class=Xr href=setfib.1.html>setfib(1)</a>, <a class=Xr href=ssh.1.html>ssh(1)</a>, <a class=Xr href=tcp.4.html>tcp(4)</a></section><section class=Sh><h2 class=Sh id=AUTHORS><a class=permalink href=#AUTHORS>AUTHORS</a></h2> Original implementation by *Hobbit* &lt;<a class=Mt href=mailto:hobbit@avian.org>hobbit@avian.org</a>&gt;. <br> Rewritten with IPv6 support by <span class=An>Eric Jackson</span> &lt;<a class=Mt href=mailto:ericj@monkey.org>ericj@monkey.org</a>&gt;. </section><section class=Sh><h2 class=Sh id=CAVEATS><a class=permalink href=#CAVEATS>CAVEATS</a></h2> UDP port scans using the <code class=Fl>-uz</code> combination of flags will always report success irrespective of the target machine's state. However, in conjunction with a traffic sniffer either on the target machine or an intermediary device, the <code class=Fl>-uz</code> combination could be useful for communications diagnostics. Note that the amount of UDP traffic generated may be limited either due to hardware resources and/or configuration settings. </section></div><table class=foot><tr><td class=foot-date>July 10, 2020</td><td class=foot-os>FreeBSD 13.1-RELEASE-p2</td></tr></table></div></div><html><body><footer><p>©️ 2023 Inobulles</p></footer></body></html></body></html>